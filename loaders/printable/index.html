<!DOCTYPE html><html lang="zh-cmn-Hans"><head><title data-rh="true">Combined printable page | webpack 中文文档</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="theme-color" content="#2B3A42"/><meta data-rh="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-rh="true" name="robots" content="noindex,nofollow"/><meta data-rh="true" name="description" content="webpack 是一个模块打包器。它的主要目标是将 JavaScript 文件打包在一起，打包后的文件用于在浏览器中使用，但它也能够胜任转换、打包或包裹任何资源。"/><meta data-rh="true" property="og:site_name" content="webpack"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="Combined printable page | webpack 中文文档"/><meta data-rh="true" property="og:description" name="description" content="webpack 是一个模块打包器。它的主要目标是将 JavaScript 文件打包在一起，打包后的文件用于在浏览器中使用，但它也能够胜任转换、打包或包裹任何资源。"/><meta data-rh="true" property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta data-rh="true" property="twitter:card" content="summary"/><meta data-rh="true" property="twitter:site" content="@webpack"/><meta data-rh="true" property="twitter:creator" content="@webpack"/><meta data-rh="true" property="twitter:domain" content="https://webpack.js.org/"/><meta data-rh="true" name="keywords" content="webpack5, webpack, webpack 中文文档, webpack 官方中文, webpack 5 官方中文, 印记中文, docschina, docschina.org, webpack.docschina.org, doc.react-china.org, nodejs.cn, vue.docschina.org, babel.docschina.org, parceljs.docschina.org, rollup.docschina.org, koajs.docschina.org"/><meta data-rh="true" name="mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-rh="true" name="apple-mobile-web-app-title" content="webpack"/><meta data-rh="true" name="msapplication-TileImage" content="/icon_150x150.png"/><meta data-rh="true" name="msapplication-TileColor" content="#465e69"/><link data-rh="true" rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" rel="canonical" href="https://webpack.docschina.org/loaders/printable/"/><link data-rh="true" rel="icon" sizes="192x192" href="/icon_192x192.png"/><link data-rh="true" rel="icon" sizes="512x512" href="/icon_512x512.png"/><link data-rh="true" rel="apple-touch-icon" href="/icon_180x180.png"/><link data-rh="true" rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><link rel="stylesheet" href=/index.c114afea0778b47a418a.css /><link rel="stylesheet" href=/9517.acfe42251eae743e4e22.css /></head><body><div id="root"><div class="site"><div class="site__header"><header class="bg-blue-800 dark:bg-gray-900"><div class="flex items-center py-10 px-[16px] justify-between md:px-[24px] md:max-w-[1024px] md:mx-auto md:justify-start"><button class="bg-transparent border-none md:hidden"><svg viewBox="-62 138 25 25" width="20" height="20" class="fill-current text-white"><path fill="currentColor" d="M-60.2 140.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8zM-60.2 148.7h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8zM-60.2 157.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8z"></path></svg></button><a class="md:mr-auto" href="/"><img class="logo" src="/site-logo.1fcab817090e78435061.svg" alt="webpack logo" width="122" height="35"/></a><nav class="hidden md:inline-grid md:grid-flow-col md:gap-x-[18px]"><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/concepts/">中文文档</a><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/contribute/">参与贡献</a><a href="https://webpack.js.org/vote/" target="_blank" rel="noopener noreferrer" class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200">投票</a><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/blog/">博客</a><a href="https://docschina.org" target="_blank" rel="noopener noreferrer" class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200">印记中文</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" title="webpack on GitHub"><svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="16"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 6.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 0 1 5 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0 0 12 2z"></path></svg></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" title="webpack on Twitter"><svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 0 0 2.345-2.951 10.696 10.696 0 0 1-3.388 1.295 5.334 5.334 0 0 0-9.089 4.864A15.143 15.143 0 0 1 3.809 5.411a5.321 5.321 0 0 0-.721 2.683 5.33 5.33 0 0 0 2.372 4.439 5.323 5.323 0 0 1-2.416-.667v.067a5.335 5.335 0 0 0 4.279 5.23 5.336 5.336 0 0 1-2.409.092 5.34 5.34 0 0 0 4.983 3.705 10.699 10.699 0 0 1-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 0 0 8.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0 0 28 6.937z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" title="webpack on StackOverflow"><svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4zM6.8 14.3l.3-1.7 8.8 1.8-.3 1.8zm1.1-4.2.8-1.6 8.1 3.8-.7 1.6zm2.3-4 1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8z"></path></svg></a><nav class="dropdown "><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><svg viewBox="0 0 610 560" xmlns="http://www.w3.org/2000/svg" class="dropdown__language text-gray-100 hover:text-blue-200 transition-colors duration-200"><path d="m304.8 99.2-162.5-57.3v353.6l162.5-52.6z"></path><path d="m300.9 99 168.7-57.3v353.6l-168.7-52.5zm-200.7 358.4 200.7-66.9v-291.5l-200.7 66.9z" fill="currentColor"></path><path d="m392.4 461.8 28.4 46.8 15-43.5zm-223.9-262.3c-1.1-1 1.4 8.6 4.8 12 6.1 6.1 10.8 6.9 13.3 7 5.6.2 12.5-1.4 16.5-3.1s10.9-5.2 13.5-10.4c.6-1.1 2.1-3 1.1-7.5-.7-3.5-3-4.8-5.7-4.6s-11 2.4-15 3.6-12.2 3.7-15.8 4.5-11.5-.3-12.7-1.5zm101.2 114.8c-1.6-.6-34.3-14.1-38.9-16.4a368 368 0 0 0 -17.5-7.5c12.3-19 20.1-33.4 21.2-35.6 1.9-4 15-29.5 15.3-31.1s.7-7.5.4-8.9-5.1 1.3-11.6 3.5-18.9 10.2-23.7 11.2-20.1 6.8-28 9.4c-7.8 2.6-22.7 7.1-28.8 8.8-6.1 1.6-11.4 1.8-14.9 2.8 0 0 .5 4.8 1.4 6.2s4.1 5 7.9 5.9c3.8 1 10 .6 12.8-.1s7.7-3.1 8.4-4.1c.7-1.1-.3-4.3.8-5.3s16.1-4.5 21.7-6.2 27.2-9.2 30.1-8.8a916 916 0 0 1 -23.9 47.7 821 821 0 0 1 -45 63.3c-5.3 6-18 21.5-22.4 25 1.1.3 9-.4 10.4-1.3 8.9-5.5 23.8-24.1 28.6-29.7a489.1 489.1 0 0 0 36.7-49.4c1.9.8 17.6 13.6 21.7 16.4a293 293 0 0 0 23.7 13.3c3.5 1.5 16.9 7.7 17.5 5.6.7-1.8-2.3-14.1-3.9-14.7z"></path><path clip-rule="evenodd" d="m194.1 484.7a204.9 204.9 0 0 0 30.7 14.5 233.6 233.6 0 0 0 46.4 12c.5 0 16 1.9 19.2 1.9h15.7c6.1-.5 11.8-.9 17.9-1.7 4.9-.7 10.3-1.6 15.5-2.8 3.8-.9 7.8-1.7 11.7-3 3.7-1 7.8-2.4 11.8-3.8l8.2-3.1c2.3-1 5.1-2.3 7.7-3.3a243 243 0 0 0 19.2-10c2.3-1.2 7.5-5.2 10.3-5.2 3.1 0 5.2 2.8 5.2 5.2 0 5.1-6.8 6.6-9.9 8.9-3.3 2.3-7.3 4-10.8 5.9-7 3.7-14.1 6.8-20.9 9.4a251 251 0 0 1 -27.3 8.5c-3.3.7-6.6 1.6-9.9 2.1-1.7.3-19.9 3.1-24.9 3.1h-23a293.9 293.9 0 0 1 -35.1-5.2 196 196 0 0 1 -33.1-10.3c-12-4.5-24.6-10.5-36.4-18.3-2.1-1.4-2.3-2.8-2.3-4.4a5 5 0 0 1 5.1-5.1c2.4.1 8 4.2 9 4.7zm101.4-98.1-189.9 63.2v-280.1l189.9-63.2zm10.6-288.3v292.7a6 6 0 0 1 -1.2 2.6c-.3.5-1 1.2-1.6 1.4a14621 14621 0 0 1 -203.1 67.6c-2.1 0-4-1.4-5.1-3.7 0-.2-.2-.3-.2-.7v-292.8c.3-.9.5-2.1 1.2-2.8 1.4-1.9 3.8-2.3 5.4-2.8 3-1 196.1-65.8 198.9-65.8 1.9 0 5.7 1.2 5.7 4.3z" fill-rule="evenodd"></path><path clip-rule="evenodd" d="m464.3 388-158-49.1v-236l158-53.7zm10.6-345.8v352.4c-.2 4-3 5.7-5.6 5.7-2.3 0-18.6-5.6-21.4-6.4l-65.8-20.4-14.6-4.7-12.9-4c-18.6-5.7-37.6-11.5-56.3-17.8-.7-.2-2.4-2.6-2.4-3.1v-246.1c.3-.9.7-1.9 1.6-2.6 1.4-1.6 61.1-21.4 84.7-29.3 6.3-2.3 84.8-29.3 87.3-29.3 3 .1 5.4 2.3 5.4 5.6z" fill-rule="evenodd"></path><path d="m515 461.8-211.1-67.3.9-292.8 210.2 66.9z"></path><path clip-rule="evenodd" d="m408.6 232.5-20.7 50.1 38.1 11.5zm-12.4-47.2 27.2 8.2 49.5 178.6-27.9-8.5-10-36.7-57.7-17.5-12.4 29.9-27.9-8.5z" fill="currentColor" fill-rule="evenodd"></path></svg><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/loaders/printable/" class="px-5 block"><span>English</span></a></li><li><a href="https://webpack.docschina.org/loaders/printable/" class="px-5 block"><span lang="zh">中文</span></a></li><li><a href="https://webpack.kr/loaders/printable/" class="px-5 block"><span lang="ko">한국어</span></a></li></ul></div></nav></nav><div class="inline-flex items-center ml-[18px]"><button aria-label="Switch to dark theme" class="bg-transparent border-none cursor-pointer text-[16px] p-0 inline-flex items-center text-gray-100 hover:text-blue-200 transition-colors duration-200" data-testid="hello-darkness"><svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18.1406C11.6016 18.1406 11.2782 18.464 11.2782 18.8624V21.0281C11.2782 21.4265 11.6016 21.7499 12 21.7499C12.3985 21.7499 12.7219 21.4265 12.7219 21.0281V18.8624C12.7219 18.464 12.3985 18.1406 12 18.1406V18.1406Z" fill="currentColor"></path><path d="M12 2.25006C11.6016 2.25006 11.2782 2.5735 11.2782 2.97194V5.13756C11.2782 5.536 11.6016 5.85944 12 5.85944C12.3985 5.85944 12.7219 5.536 12.7219 5.13756V2.97194C12.7219 2.5735 12.3985 2.25006 12 2.25006V2.25006Z" fill="currentColor"></path><path d="M5.85936 12C5.85936 11.6015 5.53592 11.2781 5.13749 11.2781H2.97186C2.57342 11.2781 2.24999 11.6015 2.24999 12C2.24999 12.3984 2.57342 12.7218 2.97186 12.7218H5.13749C5.53592 12.7218 5.85936 12.3984 5.85936 12V12Z" fill="currentColor"></path><path d="M21.0281 11.2781H18.8625C18.4641 11.2781 18.1406 11.6015 18.1406 12C18.1406 12.3984 18.4641 12.7218 18.8625 12.7218H21.0281C21.4266 12.7218 21.75 12.3984 21.75 12C21.75 11.6015 21.4266 11.2781 21.0281 11.2781V11.2781Z" fill="currentColor"></path><path d="M7.14841 16.1298C6.95622 16.1298 6.77341 16.2048 6.63747 16.3407L5.10466 17.8735C4.96872 18.0094 4.89372 18.1923 4.89372 18.3844C4.89372 18.5766 4.96872 18.7594 5.10466 18.8954C5.2406 19.0313 5.42341 19.1063 5.6156 19.1063C5.80779 19.1063 5.9906 19.0313 6.12654 18.8954L7.65935 17.3626C7.9406 17.0813 7.9406 16.6219 7.65935 16.3407C7.52341 16.2048 7.3406 16.1298 7.14841 16.1298V16.1298Z" fill="currentColor"></path><path d="M16.8516 7.87036C17.0437 7.87036 17.2266 7.79536 17.3625 7.65942L18.8953 6.12661C19.0312 5.99067 19.1062 5.80786 19.1062 5.61567C19.1062 5.42349 19.0312 5.24067 18.8953 5.10474C18.7594 4.9688 18.5766 4.8938 18.3844 4.8938C18.1922 4.8938 18.0094 4.9688 17.8734 5.10474L16.3406 6.63755C16.2047 6.77349 16.1297 6.9563 16.1297 7.14849C16.1297 7.34067 16.2047 7.52349 16.3406 7.65942C16.4766 7.79536 16.6594 7.87036 16.8516 7.87036V7.87036Z" fill="currentColor"></path><path d="M6.12654 5.10474C5.9906 4.9688 5.80779 4.8938 5.6156 4.8938C5.42341 4.8938 5.2406 4.9688 5.10466 5.10474C4.96872 5.24067 4.89372 5.42349 4.89372 5.61567C4.89372 5.80786 4.96872 5.99067 5.10466 6.12661L6.63747 7.65942C6.77341 7.79536 6.95622 7.87036 7.14841 7.87036C7.3406 7.87036 7.52341 7.79536 7.65935 7.65942C7.79529 7.52349 7.87029 7.34067 7.87029 7.14849C7.87029 6.9563 7.79529 6.77349 7.65935 6.63755L6.12654 5.10474V5.10474Z" fill="currentColor"></path><path d="M17.3625 16.3407C17.2266 16.2048 17.0437 16.1298 16.8516 16.1298C16.6594 16.1298 16.4766 16.2048 16.3406 16.3407C16.0594 16.6219 16.0594 17.0813 16.3406 17.3626L17.8734 18.8954C18.0094 19.0313 18.1922 19.1063 18.3844 19.1063C18.5766 19.1063 18.7594 19.0313 18.8953 18.8954C19.0312 18.7594 19.1062 18.5766 19.1062 18.3844C19.1062 18.1923 19.0312 18.0094 18.8953 17.8735L17.3625 16.3407V16.3407Z" fill="currentColor"></path><path d="M12 7.5C9.52031 7.5 7.5 9.52031 7.5 12C7.5 14.4797 9.52031 16.5 12 16.5C14.4797 16.5 16.5 14.4797 16.5 12C16.5 9.52031 14.4797 7.5 12 7.5Z" fill="currentColor"></path></svg></button><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="bg-gray-100 dark:bg-gray-800 hidden md:block"><div class="md:max-w-[1024px] md:mx-auto md:grid md:grid-flow-col md:justify-end md:gap-x-[20px] md:px-[24px]" data-testid="sub-navigation"><a title="api" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/api/">API</a><a title="概念" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/concepts/">概念</a><a title="配置" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/configuration/">配置</a><a title="指南" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/guides/">指南</a><a title="loader" aria-current="page" class="!text-black dark:!text-white text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/loaders/">loader</a><a title="迁移" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/migrate/">迁移</a><a title="plugin" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/plugins/">plugin</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://docschina.org" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img class="sponsors__img__docschina" src="/docschina-logo.59f03f74b3c450856c01.png"/><div class="sponsors__content-cont">翻译/文档内容有任何问题，请联系我们</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="relative z-0 bg-white dark:bg-gray-100 "><select class="text-gray-600 text-14 px-5 py-5 appearance-none box-border border border-gray-200 border-solid flex-col flex w-full rounded-none bg-transparent bg-none"><option selected="" value="5">Webpack 5</option><option value="4">Webpack 4</option></select><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="absolute right-5 top-5 fill-current text-gray-300 z-[-1]" width="20" height="20"><path d="M4.5 7.5c.5-.4 1-.4 1.6 0l3.9 3.8 4-3.8c.4-.4 1-.4 1.5 0 .4.5.4 1.2 0 1.7l-4.7 4.5a1 1 0 0 1-1.6 0L4.5 9.2c-.4-.5-.4-1.2 0-1.7z"></path></svg></div><div class="sidebar-item sidebar-item--disabled`"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8s.5.4.8.4c.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8s-.5-.4-.8-.4z"></path></svg><a class="sidebar-item__title sidebar-link__print" href="/loaders/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="/icon-print.d4d2cfa27f8b9a98e34a.svg" width="27" height="20" alt="Printer Icon"/></a></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/">Loaders</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="文件 "><a aria-current="page" class="active" href="/loaders/#files">文件 </a></li><li class="sidebar-item__anchor" title="JSON "><a aria-current="page" class="active" href="/loaders/#json">JSON </a></li><li class="sidebar-item__anchor" title="语法转换 "><a aria-current="page" class="active" href="/loaders/#transpiling">语法转换 </a></li><li class="sidebar-item__anchor" title="模板 "><a aria-current="page" class="active" href="/loaders/#templating">模板 </a></li><li class="sidebar-item__anchor" title="样式 "><a aria-current="page" class="active" href="/loaders/#styling">样式 </a></li><li class="sidebar-item__anchor" title="框架 "><a aria-current="page" class="active" href="/loaders/#frameworks">框架 </a></li><li class="sidebar-item__anchor" title="Awesome "><a aria-current="page" class="active" href="/loaders/#awesome">Awesome </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/babel-loader/">babel-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="安装 "><a class="" href="/loaders/babel-loader/#install">安装 </a></li><li class="sidebar-item__anchor" title="用法 "><a class="" href="/loaders/babel-loader/#usage">用法 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="选项 "><a class="" href="/loaders/babel-loader/#options">选项 </a></li></ul></li><li class="sidebar-item__anchor" title="疑难解答 "><a class="" href="/loaders/babel-loader/#troubleshooting">疑难解答 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="babel-loader 很慢！ "><a class="" href="/loaders/babel-loader/#babel-loader-is-slow">babel-loader 很慢！ </a></li><li class="sidebar-item__anchor" title="Babel 在每个文件都插入了辅助代码，使代码体积过大！ "><a class="" href="/loaders/babel-loader/#babel-is-injecting-helpers-into-each-file-and-bloating-my-code">Babel 在每个文件都插入了辅助代码，使代码体积过大！ </a></li><li class="sidebar-item__anchor" title="babel 的 Node.js API 已经被移到 babel-core 中。 "><a class="" href="/loaders/babel-loader/#the-nodejs-api-for-babel-has-been-moved-to-babel-core">babel 的 Node.js API 已经被移到 babel-core 中。 </a></li><li class="sidebar-item__anchor" title="排除不应参与转码的库 "><a class="" href="/loaders/babel-loader/#exclude-libraries-that-should-not-be-transpiled">排除不应参与转码的库 </a></li></ul></li><li class="sidebar-item__anchor" title="根据 webpack 部署目标(target)的自定义配置 "><a class="" href="/loaders/babel-loader/#customize-config-based-on-webpack-target">根据 webpack 部署目标(target)的自定义配置 </a></li><li class="sidebar-item__anchor" title="自定义 loader "><a class="" href="/loaders/babel-loader/#customized-loader">自定义 loader </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/babel-loader/#example">示例 </a></li><li class="sidebar-item__anchor" title="customOptions(options: Object): { custom: Object, loader: Object } "><a class="" href="/loaders/babel-loader/#customoptionsoptions-object--custom-object-loader-object-">customOptions(options: Object): { custom: Object, loader: Object } </a></li><li class="sidebar-item__anchor" title="config(cfg: PartialConfig): Object "><a class="" href="/loaders/babel-loader/#configcfg-partialconfig-object">config(cfg: PartialConfig): Object </a></li><li class="sidebar-item__anchor" title="result(result: Result): Result "><a class="" href="/loaders/babel-loader/#resultresult-result-result">result(result: Result): Result </a></li></ul></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/babel-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/coffee-loader/">coffee-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="起步 "><a class="" href="/loaders/coffee-loader/#getting-started">起步 </a></li><li class="sidebar-item__anchor" title="选项 "><a class="" href="/loaders/coffee-loader/#options">选项 </a></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/coffee-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="CoffeeScript 与 Babel "><a class="" href="/loaders/coffee-loader/#coffeescript-and-babel">CoffeeScript 与 Babel </a></li><li class="sidebar-item__anchor" title="Literate CoffeeScript "><a class="" href="/loaders/coffee-loader/#literate-coffeescript">Literate CoffeeScript </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/coffee-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="许可 "><a class="" href="/loaders/coffee-loader/#license">许可 </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/css-loader/">css-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/css-loader/#getting-started">快速开始 </a></li><li class="sidebar-item__anchor" title="配置项 "><a class="" href="/loaders/css-loader/#options">配置项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="url "><a class="" href="/loaders/css-loader/#url">url </a></li><li class="sidebar-item__anchor" title="import "><a class="" href="/loaders/css-loader/#import">import </a></li><li class="sidebar-item__anchor" title="modules "><a class="" href="/loaders/css-loader/#modules">modules </a></li><li class="sidebar-item__anchor" title="importLoaders "><a class="" href="/loaders/css-loader/#importloaders">importLoaders </a></li><li class="sidebar-item__anchor" title="sourceMap"><a class="" href="/loaders/css-loader/#sourceMap">sourceMap</a></li><li class="sidebar-item__anchor" title="esModule "><a class="" href="/loaders/css-loader/#esmodule">esModule </a></li><li class="sidebar-item__anchor" title="exportType "><a class="" href="/loaders/css-loader/#exporttype">exportType </a></li></ul></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/css-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="推荐 "><a class="" href="/loaders/css-loader/#recommend">推荐 </a></li><li class="sidebar-item__anchor" title="使用 /* webpackIgnore: true */ 注释禁用 url 解析 "><a class="" href="/loaders/css-loader/#disable-url-resolving-using-the--webpackignore-true--comment">使用 /* webpackIgnore: true */ 注释禁用 url 解析 </a></li><li class="sidebar-item__anchor" title="Assets "><a class="" href="/loaders/css-loader/#assets">Assets </a></li><li class="sidebar-item__anchor" title="Extract "><a class="" href="/loaders/css-loader/#extract">Extract </a></li><li class="sidebar-item__anchor" title="纯 CSS，CSS 模块和 PostCSS "><a class="" href="/loaders/css-loader/#pure-css-css-modules-and-postcss">纯 CSS，CSS 模块和 PostCSS </a></li><li class="sidebar-item__anchor" title="使用别名解析未解析的 URL "><a class="" href="/loaders/css-loader/#resolve-unresolved-urls-using-an-alias">使用别名解析未解析的 URL </a></li><li class="sidebar-item__anchor" title="Named export with custom export names "><a class="" href="/loaders/css-loader/#named-export-with-custom-export-names">Named export with custom export names </a></li><li class="sidebar-item__anchor" title="只允许 可交互的 CSS 使其与 CSS Module 特性分离 "><a class="" href="/loaders/css-loader/#separating-interoperable-css-only-and-css-module-features">只允许 可交互的 CSS 使其与 CSS Module 特性分离 </a></li></ul></li><li class="sidebar-item__anchor" title="Contributing "><a class="" href="/loaders/css-loader/#contributing">Contributing </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/css-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/exports-loader/">exports-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/exports-loader/#getting-started">快速开始 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="内联 "><a class="" href="/loaders/exports-loader/#inline">内联 </a></li><li class="sidebar-item__anchor" title="使用配置文件 "><a class="" href="/loaders/exports-loader/#using-configuration">使用配置文件 </a></li></ul></li><li class="sidebar-item__anchor" title="配置项 "><a class="" href="/loaders/exports-loader/#options">配置项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="type "><a class="" href="/loaders/exports-loader/#type">type </a></li><li class="sidebar-item__anchor" title="exports "><a class="" href="/loaders/exports-loader/#exports">exports </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/exports-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/exports-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/expose-loader/">expose-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/expose-loader/#getting-started">快速开始 </a></li><li class="sidebar-item__anchor" title="内联 "><a class="" href="/loaders/expose-loader/#inline">内联 </a></li><li class="sidebar-item__anchor" title="使用配置文件 "><a class="" href="/loaders/expose-loader/#using-configuration">使用配置文件 </a></li><li class="sidebar-item__anchor" title="配置项 "><a class="" href="/loaders/expose-loader/#options">配置项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="exposes "><a class="" href="/loaders/expose-loader/#exposes">exposes </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/expose-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/expose-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/html-loader/">html-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/html-loader/#getting-started">快速开始 </a></li><li class="sidebar-item__anchor" title="选项 "><a class="" href="/loaders/html-loader/#options">选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="sources "><a class="" href="/loaders/html-loader/#sources">sources </a></li><li class="sidebar-item__anchor" title="preprocessor "><a class="" href="/loaders/html-loader/#preprocessor">preprocessor </a></li><li class="sidebar-item__anchor" title="minimize "><a class="" href="/loaders/html-loader/#minimize">minimize </a></li><li class="sidebar-item__anchor" title="esModule "><a class="" href="/loaders/html-loader/#esmodule">esModule </a></li></ul></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/html-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="使用 &lt;!-- webpackIgnore: true --&gt; 注释禁用 url 解析 "><a class="" href="/loaders/html-loader/#disable-url-resolving-using-the--comment">使用 &lt;!-- webpackIgnore: true --&gt; 注释禁用 url 解析 </a></li><li class="sidebar-item__anchor" title="roots "><a class="" href="/loaders/html-loader/#roots">roots </a></li><li class="sidebar-item__anchor" title="CDN "><a class="" href="/loaders/html-loader/#cdn">CDN </a></li><li class="sidebar-item__anchor" title="处理 script 和 link 标签 "><a class="" href="/loaders/html-loader/#process-script-and-link-tags">处理 script 和 link 标签 </a></li><li class="sidebar-item__anchor" title="模板 "><a class="" href="/loaders/html-loader/#templating">模板 </a></li><li class="sidebar-item__anchor" title="PostHTML "><a class="" href="/loaders/html-loader/#posthtml">PostHTML </a></li><li class="sidebar-item__anchor" title="导出为 HTML 文件 "><a class="" href="/loaders/html-loader/#export-into-html-files">导出为 HTML 文件 </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/html-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="许可证 "><a class="" href="/loaders/html-loader/#license">许可证 </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/imports-loader/">imports-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/imports-loader/#getting-started">快速开始 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="内联 "><a class="" href="/loaders/imports-loader/#inline">内联 </a></li><li class="sidebar-item__anchor" title="使用配置项 "><a class="" href="/loaders/imports-loader/#using-configuration">使用配置项 </a></li></ul></li><li class="sidebar-item__anchor" title="配置项 "><a class="" href="/loaders/imports-loader/#options">配置项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="type "><a class="" href="/loaders/imports-loader/#type">type </a></li><li class="sidebar-item__anchor" title="imports "><a class="" href="/loaders/imports-loader/#imports">imports </a></li><li class="sidebar-item__anchor" title="wrapper "><a class="" href="/loaders/imports-loader/#wrapper">wrapper </a></li><li class="sidebar-item__anchor" title="additionalCode "><a class="" href="/loaders/imports-loader/#additionalcode">additionalCode </a></li></ul></li><li class="sidebar-item__anchor" title="Contributing "><a class="" href="/loaders/imports-loader/#contributing">Contributing </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/imports-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/less-loader/">less-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/less-loader/#getting-started">快速开始 </a></li><li class="sidebar-item__anchor" title="可选项 "><a class="" href="/loaders/less-loader/#options">可选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="lessOptions "><a class="" href="/loaders/less-loader/#lessoptions">lessOptions </a></li><li class="sidebar-item__anchor" title="additionalData "><a class="" href="/loaders/less-loader/#additionaldata">additionalData </a></li><li class="sidebar-item__anchor" title="sourceMap "><a class="" href="/loaders/less-loader/#sourcemap">sourceMap </a></li><li class="sidebar-item__anchor" title="webpackImporter "><a class="" href="/loaders/less-loader/#webpackimporter">webpackImporter </a></li><li class="sidebar-item__anchor" title="implementation "><a class="" href="/loaders/less-loader/#implementation">implementation </a></li></ul></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/less-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="常规用法 "><a class="" href="/loaders/less-loader/#normal-usage">常规用法 </a></li><li class="sidebar-item__anchor" title="Source maps "><a class="" href="/loaders/less-loader/#source-maps">Source maps </a></li><li class="sidebar-item__anchor" title="生产环境 "><a class="" href="/loaders/less-loader/#in-production">生产环境 </a></li><li class="sidebar-item__anchor" title="导入 "><a class="" href="/loaders/less-loader/#imports">导入 </a></li><li class="sidebar-item__anchor" title="插件 "><a class="" href="/loaders/less-loader/#plugins">插件 </a></li><li class="sidebar-item__anchor" title="提取样式 "><a class="" href="/loaders/less-loader/#extracting-style-sheets">提取样式 </a></li><li class="sidebar-item__anchor" title="CSS modules 陷阱 "><a class="" href="/loaders/less-loader/#css-modules-gotcha">CSS modules 陷阱 </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/less-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="许可 "><a class="" href="/loaders/less-loader/#license">许可 </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/node-loader/">node-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/node-loader/#getting-started">快速开始 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="内联 "><a class="" href="/loaders/node-loader/#inline">内联 </a></li><li class="sidebar-item__anchor" title="配置 "><a class="" href="/loaders/node-loader/#configuration">配置 </a></li></ul></li><li class="sidebar-item__anchor" title="选项 "><a class="" href="/loaders/node-loader/#options">选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="flags "><a class="" href="/loaders/node-loader/#flags">flags </a></li><li class="sidebar-item__anchor" title="name "><a class="" href="/loaders/node-loader/#name">name </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/node-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/node-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/postcss-loader/">postcss-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/postcss-loader/#getting-started">快速开始 </a></li><li class="sidebar-item__anchor" title="选项 "><a class="" href="/loaders/postcss-loader/#options">选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="execute"><a class="" href="/loaders/postcss-loader/#execute">execute</a></li><li class="sidebar-item__anchor" title="postcssOptions "><a class="" href="/loaders/postcss-loader/#postcss-options">postcssOptions </a></li><li class="sidebar-item__anchor" title="sourceMap "><a class="" href="/loaders/postcss-loader/#source-map">sourceMap </a></li><li class="sidebar-item__anchor" title="implementation "><a class="" href="/loaders/postcss-loader/#implementation">implementation </a></li></ul></li><li class="sidebar-item__anchor" title="例子 "><a class="" href="/loaders/postcss-loader/#examples">例子 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="SugarSS "><a class="" href="/loaders/postcss-loader/#sugarss">SugarSS </a></li><li class="sidebar-item__anchor" title="Autoprefixer "><a class="" href="/loaders/postcss-loader/#autoprefixer">Autoprefixer </a></li><li class="sidebar-item__anchor" title="PostCSS Preset Env "><a class="" href="/loaders/postcss-loader/#postcss-preset-env">PostCSS Preset Env </a></li><li class="sidebar-item__anchor" title="CSS Modules "><a class="" href="/loaders/postcss-loader/#css-modules">CSS Modules </a></li><li class="sidebar-item__anchor" title="提取 CSS "><a class="" href="/loaders/postcss-loader/#extract-cssextractplugin">提取 CSS </a></li><li class="sidebar-item__anchor" title="触发资源打包 "><a class="" href="/loaders/postcss-loader/#emit-assets">触发资源打包 </a></li><li class="sidebar-item__anchor" title="添加 dependencies、contextDependencies、buildDependencies、missingDependencies "><a class="" href="/loaders/postcss-loader/#add-dependencies-contextdependencies-builddependencies-missingdependencies">添加 dependencies、contextDependencies、buildDependencies、missingDependencies </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/postcss-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/postcss-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8s.5.4.8.4c.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8s-.5-.4-.8-.4z"></path></svg><a class="sidebar-item__title" href="/loaders/pug-loader/">pug-loader</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/remark-loader/">remark-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="用法 "><a class="" href="/loaders/remark-loader/#usage">用法 </a></li><li class="sidebar-item__anchor" title="Options "><a class="" href="/loaders/remark-loader/#options">Options </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="remarkOptions "><a class="" href="/loaders/remark-loader/#remarkoptions">remarkOptions </a></li><li class="sidebar-item__anchor" title="removeFrontMatter "><a class="" href="/loaders/remark-loader/#removefrontmatter">removeFrontMatter </a></li></ul></li><li class="sidebar-item__anchor" title="启发 "><a class="" href="/loaders/remark-loader/#inspiration">启发 </a></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/remark-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Markdown 转为 HTML "><a class="" href="/loaders/remark-loader/#markdown-to-html">Markdown 转为 HTML </a></li><li class="sidebar-item__anchor" title="Markdown 转为 Markdown "><a class="" href="/loaders/remark-loader/#markdown-to-markdown">Markdown 转为 Markdown </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/remark-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/remark-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/sass-loader/">sass-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/sass-loader/#getting-started">快速开始 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="解析 import 的规则 "><a class="" href="/loaders/sass-loader/#resolving-import-at-rules">解析 import 的规则 </a></li><li class="sidebar-item__anchor" title="url(...) 的问题 "><a class="" href="/loaders/sass-loader/#problems-with-url">url(...) 的问题 </a></li></ul></li><li class="sidebar-item__anchor" title="配置选项 "><a class="" href="/loaders/sass-loader/#options">配置选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="implementation "><a class="" href="/loaders/sass-loader/#implementation">implementation </a></li><li class="sidebar-item__anchor" title="sassOptions "><a class="" href="/loaders/sass-loader/#sassoptions">sassOptions </a></li><li class="sidebar-item__anchor" title="sourceMap "><a class="" href="/loaders/sass-loader/#sourcemap">sourceMap </a></li><li class="sidebar-item__anchor" title="additionalData "><a class="" href="/loaders/sass-loader/#additionaldata">additionalData </a></li><li class="sidebar-item__anchor" title="webpackImporter "><a class="" href="/loaders/sass-loader/#webpackimporter">webpackImporter </a></li><li class="sidebar-item__anchor" title="warnRuleAsWarning "><a class="" href="/loaders/sass-loader/#warnruleaswarning">warnRuleAsWarning </a></li></ul></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/sass-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="提取样式表 "><a class="" href="/loaders/sass-loader/#extracts-css-into-separate-files">提取样式表 </a></li><li class="sidebar-item__anchor" title="Source maps "><a class="" href="/loaders/sass-loader/#source-maps">Source maps </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/sass-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/sass-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/source-map-loader/">source-map-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="起步 "><a class="" href="/loaders/source-map-loader/#getting-started">起步 </a></li><li class="sidebar-item__anchor" title="选项 "><a class="" href="/loaders/source-map-loader/#options">选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="filterSourceMappingUrl "><a class="" href="/loaders/source-map-loader/#filter-source-mapping-url">filterSourceMappingUrl </a></li></ul></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/source-map-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="忽略警告 "><a class="" href="/loaders/source-map-loader/#ignoring-warnings">忽略警告 </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/source-map-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="许可 "><a class="" href="/loaders/source-map-loader/#license">许可 </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/style-loader/">style-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/style-loader/#getting-started">快速开始 </a></li><li class="sidebar-item__anchor" title="Options "><a class="" href="/loaders/style-loader/#options">Options </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="injectType "><a class="" href="/loaders/style-loader/#injecttype">injectType </a></li><li class="sidebar-item__anchor" title="attributes "><a class="" href="/loaders/style-loader/#attributes">attributes </a></li><li class="sidebar-item__anchor" title="insert "><a class="" href="/loaders/style-loader/#insert">insert </a></li><li class="sidebar-item__anchor" title="styleTagTransform "><a class="" href="/loaders/style-loader/#styletagtransform">styleTagTransform </a></li><li class="sidebar-item__anchor" title="base "><a class="" href="/loaders/style-loader/#base">base </a></li><li class="sidebar-item__anchor" title="esModule "><a class="" href="/loaders/style-loader/#esmodule">esModule </a></li></ul></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/style-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="推荐 "><a class="" href="/loaders/style-loader/#recommend">推荐 </a></li><li class="sidebar-item__anchor" title="Named export for CSS Modules "><a class="" href="/loaders/style-loader/#namedexportforcssmodules">Named export for CSS Modules </a></li><li class="sidebar-item__anchor" title="Source maps "><a class="" href="/loaders/style-loader/#sourcemap">Source maps </a></li><li class="sidebar-item__anchor" title="Nonce "><a class="" href="/loaders/style-loader/#nonce">Nonce </a></li></ul></li><li class="sidebar-item__anchor" title="Contributing "><a class="" href="/loaders/style-loader/#contributing">Contributing </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/style-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/stylus-loader/">stylus-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/stylus-loader/#getting-started">快速开始 </a></li><li class="sidebar-item__anchor" title="可选项 "><a class="" href="/loaders/stylus-loader/#options">可选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="stylusOptions "><a class="" href="/loaders/stylus-loader/#stylusoptions">stylusOptions </a></li><li class="sidebar-item__anchor" title="sourceMap "><a class="" href="/loaders/stylus-loader/#sourcemap">sourceMap </a></li><li class="sidebar-item__anchor" title="webpackImporter "><a class="" href="/loaders/stylus-loader/#webpackimporter">webpackImporter </a></li><li class="sidebar-item__anchor" title="additionalData "><a class="" href="/loaders/stylus-loader/#additionaldata">additionalData </a></li><li class="sidebar-item__anchor" title="implementation "><a class="" href="/loaders/stylus-loader/#implementation">implementation </a></li></ul></li><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/stylus-loader/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="常规用法 "><a class="" href="/loaders/stylus-loader/#normal-usage">常规用法 </a></li><li class="sidebar-item__anchor" title="Source maps "><a class="" href="/loaders/stylus-loader/#source-maps">Source maps </a></li><li class="sidebar-item__anchor" title="stylus 中使用 nib "><a class="" href="/loaders/stylus-loader/#using-nib-with-stylus">stylus 中使用 nib </a></li><li class="sidebar-item__anchor" title="导入 JSON 文件 "><a class="" href="/loaders/stylus-loader/#import-json-files">导入 JSON 文件 </a></li><li class="sidebar-item__anchor" title="生产环境 "><a class="" href="/loaders/stylus-loader/#in-production">生产环境 </a></li><li class="sidebar-item__anchor" title="webpack 解析器 "><a class="" href="/loaders/stylus-loader/#webpack-resolver">webpack 解析器 </a></li><li class="sidebar-item__anchor" title="Stylus resolver "><a class="" href="/loaders/stylus-loader/#stylus-resolver">Stylus resolver </a></li><li class="sidebar-item__anchor" title="提取样式 "><a class="" href="/loaders/stylus-loader/#extracting-style-sheets">提取样式 </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/stylus-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="许可 "><a class="" href="/loaders/stylus-loader/#license">许可 </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/thread-loader/">thread-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="快速开始 "><a class="" href="/loaders/thread-loader/#getting-started">快速开始 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="示例 "><a class="" href="/loaders/thread-loader/#examples">示例 </a></li></ul></li><li class="sidebar-item__anchor" title="贡献 "><a class="" href="/loaders/thread-loader/#contributing">贡献 </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/thread-loader/#license">License </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/loaders/val-loader/">val-loader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started "><a class="" href="/loaders/val-loader/#getting-started">Getting Started </a></li><li class="sidebar-item__anchor" title="Options "><a class="" href="/loaders/val-loader/#options">Options </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="executableFile "><a class="" href="/loaders/val-loader/#executablefile">executableFile </a></li></ul></li><li class="sidebar-item__anchor" title="Return Object Properties "><a class="" href="/loaders/val-loader/#return-object-properties">Return Object Properties </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="code "><a class="" href="/loaders/val-loader/#code">code </a></li><li class="sidebar-item__anchor" title="sourceMap "><a class="" href="/loaders/val-loader/#sourcemap">sourceMap </a></li><li class="sidebar-item__anchor" title="ast "><a class="" href="/loaders/val-loader/#ast">ast </a></li><li class="sidebar-item__anchor" title="dependencies "><a class="" href="/loaders/val-loader/#dependencies">dependencies </a></li><li class="sidebar-item__anchor" title="contextDependencies "><a class="" href="/loaders/val-loader/#contextdependencies">contextDependencies </a></li><li class="sidebar-item__anchor" title="buildDependencies "><a class="" href="/loaders/val-loader/#builddependencies">buildDependencies </a></li><li class="sidebar-item__anchor" title="cacheable "><a class="" href="/loaders/val-loader/#cacheable">cacheable </a></li></ul></li><li class="sidebar-item__anchor" title="Examples "><a class="" href="/loaders/val-loader/#examples">Examples </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Simple "><a class="" href="/loaders/val-loader/#simple">Simple </a></li><li class="sidebar-item__anchor" title="Modernizr "><a class="" href="/loaders/val-loader/#modernizr">Modernizr </a></li><li class="sidebar-item__anchor" title="Figlet "><a class="" href="/loaders/val-loader/#figlet">Figlet </a></li></ul></li><li class="sidebar-item__anchor" title="Contributing "><a class="" href="/loaders/val-loader/#contributing">Contributing </a></li><li class="sidebar-item__anchor" title="License "><a class="" href="/loaders/val-loader/#license">License </a></li></ul></div></div></div></nav><section class="page"><div class="markdown"><h1>Printable</h1><div id="md-content"><h1><span id="babel-loader"></span>babel-loader<a href="#babel-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<blockquote><p>This README is for babel-loader v8 + Babel v7
Check the <a href="https://github.com/babel/babel-loader/tree/7.x">7.x branch</a> for docs with Babel v6</p></blockquote><p><a href="https://www.npmjs.com/package/babel-loader"><img src="https://img.shields.io/npm/v/babel-loader.svg?style=flat" alt="NPM Status"/></a>
<a href="https://codecov.io/gh/babel/babel-loader"><img src="https://codecov.io/gh/babel/babel-loader/branch/master/graph/badge.svg" alt="codecov"/></a></p><div align="center"></div><p>此 package 允许你使用 <a href="https://github.com/babel/babel">Babel</a> 和 <a href="https://github.com/webpack/webpack">webpack</a> 转译 <code>JavaScript</code> 文件。</p><p><strong>注意</strong>：请在 Babel <a href="https://github.com/babel/babel/issues">Issues</a> tracker 上报告输出时遇到的问题。</p><h2><span id="install"></span>安装<a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><blockquote><p>webpack 4.x | babel-loader 8.x | babel 7.x</p></blockquote><pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> -D babel-loader @babel/core @babel/preset-env webpack</code></pre><h2><span id="usage"></span>用法<a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>webpack 文档：<a href="/loaders/">Loaders</a></p><p>在 webpack 配置对象中，需要将 babel-loader 添加到 module 列表中，就像下面这样：</p><pre><code class="hljs language-javascript">module<span class="token operator">:</span> <span class="token punctuation">{</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
      exclude<span class="token operator">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;@babel/preset-env&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><h3><span id="options"></span>选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>查看 babel <a href="https://babeljs.io/docs/en/options">选项</a>。</p><p>你可以使用 options 属性，来向 loader 传递 options <a href="/configuration/module/#ruleoptions--rulequery">选项</a>：</p><pre><code class="hljs language-javascript">module<span class="token operator">:</span> <span class="token punctuation">{</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
      exclude<span class="token operator">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;@babel/preset-env&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;@babel/plugin-proposal-object-rest-spread&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>此 loader 也支持下面这些 loader 特有的选项：</p><ul><li><p><code>cacheDirectory</code>：默认值为 <code>false</code>。当有设置时，指定的目录将用来缓存 loader 的执行结果。之后的 webpack 构建，将会尝试读取缓存，来避免在每次执行时，可能产生的、高性能消耗的 Babel 重新编译过程(recompilation process)。如果设置了一个空值 (<code>loader: &#x27;babel-loader?cacheDirectory&#x27;</code>) 或者 <code>true</code> (<code>loader: &#x27;babel-loader?cacheDirectory=true&#x27;</code>)，loader 将使用默认的缓存目录 <code>node_modules/.cache/babel-loader</code>，如果在任何根目录下都没有找到 <code>node_modules</code> 目录，将会降级回退到操作系统默认的临时文件目录。</p></li><li><p><code>cacheIdentifier</code>：默认是由 <code>@babel/core</code> 版本号，<code>babel-loader</code> 版本号，<code>.babelrc</code> 文件内容（存在的情况下），环境变量 <code>BABEL_ENV</code> 的值（没有时降级到 <code>NODE_ENV</code>）组成的一个字符串。可以设置为一个自定义的值，在 identifier 改变后，来强制缓存失效。</p></li><li><p><code>cacheCompression</code>：默认值为 <code>true</code>。当设置此值时，会使用 Gzip 压缩每个 Babel transform 输出。如果你想要退出缓存压缩，将它设置为 <code>false</code> -- 如果你的项目中有数千个文件需要压缩转译，那么设置此选项可能会从中收益。</p></li><li><p><code>customize</code>: 默认值为 <code>null</code>。导出 <code>custom</code> 回调函数的模块路径，<a href="#customized-loader">例如传入 <code>.custom()</code> 的 callback 函数</a>。由于你必须创建一个新文件才能使用它，建议改为使用 <code>.custom</code> 来创建一个包装 loader。只有在你<em>必须</em>继续直接使用 <code>babel-loader</code> 但又想自定义的情况下，才使用这项配置。</p></li></ul><h2><span id="troubleshooting"></span>疑难解答<a href="#troubleshooting" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="babel-loader-is-slow"></span>babel-loader 很慢！<a href="#babel-loader-is-slow" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>确保转译尽可能少的文件。你可能使用 <code>/\.m?js$/</code> 来匹配，这样也许会去转译 <code>node_modules</code> 目录或者其他不需要的源代码。</p><p>要排除 <code>node_modules</code>，参考文档中的 <code>loaders</code> 配置的 <code>exclude</code> 选项。</p><p>你也可以通过使用 <code>cacheDirectory</code> 选项，将 babel-loader 提速至少两倍。这会将转译的结果缓存到文件系统中。</p><h3><span id="babel-is-injecting-helpers-into-each-file-and-bloating-my-code"></span>Babel 在每个文件都插入了辅助代码，使代码体积过大！<a href="#babel-is-injecting-helpers-into-each-file-and-bloating-my-code" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Babel 对一些公共方法使用了非常小的辅助代码，比如 <code>_extend</code>。默认情况下会被添加到每一个需要它的文件中。</p><p>你可以引入 Babel runtime 作为一个独立模块，来避免重复引入。</p><p>下面的配置禁用了 Babel 自动对每个文件的 runtime 注入，而是引入 <code>@babel/plugin-transform-runtime</code> 并且使所有辅助代码从这里引用。</p><p>更多信息请查看 <a href="https://babel.docschina.org/docs/en/babel-plugin-transform-runtime/">文档</a>。</p><p><strong>注意</strong>：你必须执行 <code>npm install -D @babel/plugin-transform-runtime</code> 来把它包含到你的项目中，然后使用 <code>npm install @babel/runtime</code> 把 <code>@babel/runtime</code> 安装为一个依赖。</p><pre><code class="hljs language-javascript">rules<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// &#x27;transform-runtime&#x27; 插件告诉 Babel</span>
  <span class="token comment">// 要引用 runtime 来代替注入。</span>
  <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
    exclude<span class="token operator">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;@babel/preset-env&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;@babel/plugin-transform-runtime&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h4><span id="note-transform-runtime--custom-polyfills-eg-promise-library"></span><strong>注意</strong>：transform-runtime 和自定义 polyfills (例如 Promise library)<a href="#note-transform-runtime--custom-polyfills-eg-promise-library" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>由于 <a href="https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-runtime">@babel/plugin-transform-runtime</a> 包含了一个 polyfill，含有自定义的 <a href="https://github.com/facebook/regenerator/blob/master/packages/regenerator-runtime/runtime.js">regenerator-runtime</a> 和 <a href="https://github.com/zloirock/core-js">core-js</a>, 下面使用 <code>webpack.ProvidePlugin</code> 来配置 shimming 的常用方法将没有作用：</p><pre><code class="hljs language-javascript"><span class="token comment">// ...</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string">&#x27;Promise&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;bluebird&#x27;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">// ...</span></code></pre><p>下面这样的写法也没有作用：</p><pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@babel/runtime/core-js/promise&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;bluebird&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>它其实会生成下面这样 (使用了 <code>runtime</code> 后)：</p><pre><code class="hljs language-javascript"><span class="token string">&#x27;use strict&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _Promise <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@babel/runtime/core-js/promise&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@babel/runtime/core-js/promise&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;bluebird&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">_Promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>前面的 <code>Promise</code> library 在被覆盖前已经被引用和使用了。</p><p>一种可行的办法是，在你的应用程序中加入一个“引导(bootstrap)”步骤，在应用程序开始前先覆盖默认的全局变量。</p><pre><code class="hljs language-javascript"><span class="token comment">// bootstrap.js</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@babel/runtime/core-js/promise&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;bluebird&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./app&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3><span id="the-nodejs-api-for-babel-has-been-moved-to-babel-core"></span><code>babel</code> 的 Node.js API 已经被移到 <code>babel-core</code> 中。<a href="#the-nodejs-api-for-babel-has-been-moved-to-babel-core" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>如果你收到这个信息，这说明你有一个已经安装的 <code>babel</code> npm package，并且在 webpack 配置中使用 loader 简写方式（在 webpack 2.x 版本中将不再支持这种方式）：</p><pre><code class="hljs language-javascript">  <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token string">&#x27;babel&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span></code></pre><p>webpack 将尝试读取 <code>babel</code> package 而不是 <code>babel-loader</code>。</p><p>想要修复这个问题，你需要卸载 <code>babel</code> npm package，因为它在 Babel v6 中已经被废除。（安装 <code>@babel/cli</code> 或者 <code>@babel/core</code> 来替代它）
在另一种场景中，如果你的依赖于 <code>babel</code> 而无法删除它，可以在 webpack 配置中使用完整的 loader 名称来解决：</p><pre><code class="hljs language-javascript">  <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span></code></pre><h3><span id="exclude-libraries-that-should-not-be-transpiled"></span>排除不应参与转码的库<a href="#exclude-libraries-that-should-not-be-transpiled" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><code>core-js</code> 和 <code>webpack/buildin</code> 如果被 Babel 转码会发生错误。</p><p>你需要在 <code>babel-loader</code> 中排除它们：</p><pre><code class="hljs language-js"><span class="token punctuation">{</span>
  <span class="token string">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// \\ for Windows, \/ for Mac OS and Linux</span>
      <span class="token operator">/</span>node_modules<span class="token punctuation">[</span>\\\<span class="token regex">/]core-js/</span><span class="token punctuation">,</span>
      <span class="token regex">/node_modules[\\\/]webpack[\\\/]buildin/</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/preset-env&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h2><span id="customize-config-based-on-webpack-target"></span>根据 webpack 部署目标(target)的自定义配置<a href="#customize-config-based-on-webpack-target" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>Webpack 支持打包成多种 <a href="/concepts/targets/">部署目标</a> 。例如，当需要为不同的部署目标（例如 <code>web</code> 与 <code>node</code>）指定不同的 Babel 配置时， babel-loader 通过 Babel 的<a href="https://babeljs.io/docs/en/config-files#apicallercb">caller</a> API 提供了 <code>target</code>属性。</p><p>例如，根据 webpack 的部署目标改变传给<code>@babel/preset-env</code>的 targets 选项</p><pre><code class="hljs language-javascript"><span class="token comment">// babel.config.js</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#x27;@babel/plugin-proposal-nullish-coalescing-operator&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;@babel/plugin-proposal-optional-chaining&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    presets<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
        <span class="token string">&#x27;@babel/preset-env&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          useBuiltIns<span class="token operator">:</span> <span class="token string">&#x27;entry&#x27;</span><span class="token punctuation">,</span>
          <span class="token comment">// caller.target 等于 webpack 配置的 target 选项</span>
          targets<span class="token operator">:</span> api<span class="token punctuation">.</span><span class="token function">caller</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">caller</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> caller <span class="token operator">&amp;&amp;</span> caller<span class="token punctuation">.</span>target <span class="token operator">===</span> <span class="token string">&#x27;node&#x27;</span><span class="token punctuation">)</span>
            <span class="token operator">?</span> <span class="token punctuation">{</span> node<span class="token operator">:</span> <span class="token string">&#x27;current&#x27;</span> <span class="token punctuation">}</span>
            <span class="token operator">:</span> <span class="token punctuation">{</span> chrome<span class="token operator">:</span> <span class="token string">&#x27;58&#x27;</span><span class="token punctuation">,</span> ie<span class="token operator">:</span> <span class="token string">&#x27;11&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="customized-loader"></span>自定义 loader<a href="#customized-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><code>babel-loader</code> 提供了一个 loader-builder 工具函数，
允许用户为 Babel 处理过的每个文件添加自定义处理选项</p><p><code>.custom</code> 接收一个 callback 函数，
它将被调用，并传入 loader 中的 <code>babel</code> 实例，
因此，此工具函数才能够完全确保它使用与 loader 的 <code>@babel/core</code> 相同的实例。</p><p>如果你想自定义，但实际上某个文件又不想调用 <code>.custom</code>，
可以向 <code>customize</code> 选项传入一个字符串，
此字符串指向一个导出 <code>custom</code> 回调函数的文件。</p><h3><span id="example"></span>示例<a href="#example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-js"><span class="token comment">// 从 &quot;./my-custom-loader.js&quot; 中导出，或者任何你想要的文件中导出。</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">myPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      visitor<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 传给 loader 的选项。</span>
    <span class="token function">customOptions</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> opt1<span class="token punctuation">,</span> opt2<span class="token punctuation">,</span> <span class="token operator">...</span>loader <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取 loader 可能会有的自定义选项</span>
        custom<span class="token operator">:</span> <span class="token punctuation">{</span> opt1<span class="token punctuation">,</span> opt2 <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// 传入&quot;移除了两个自定义选项&quot;后的选项</span>
        loader<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 提供 Babel 的 &#x27;PartialConfig&#x27; 对象</span>
    <span class="token function">config</span><span class="token punctuation">(</span><span class="token parameter">cfg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cfg<span class="token punctuation">.</span><span class="token function">hasFilesystemConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用正常的配置</span>
        <span class="token keyword">return</span> cfg<span class="token punctuation">.</span>options<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>cfg<span class="token punctuation">.</span>options<span class="token punctuation">,</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token operator">...</span><span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>options<span class="token punctuation">.</span>plugins <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

          <span class="token comment">// 在选项中包含自定义 plugin</span>
          myPlugin<span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">result</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>result<span class="token punctuation">,</span>
        code<span class="token operator">:</span> result<span class="token punctuation">.</span>code <span class="token operator">+</span> <span class="token string">&#x27;\n// 自定义loader生成&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-js"><span class="token comment">// 然后，在你的 webpack config 文件中</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ..</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        loader<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;my-custom-loader.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="customoptionsoptions-object--custom-object-loader-object-"></span><code>customOptions(options: Object): { custom: Object, loader: Object }</code><a href="#customoptionsoptions-object--custom-object-loader-object-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>指定的 loader 的选项，
从 <code>babel-loader</code> 选项中分离出自定义选项。</p><h3><span id="configcfg-partialconfig-object"></span><code>config(cfg: PartialConfig): Object</code><a href="#configcfg-partialconfig-object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>指定的 Babel 的 <code>PartialConfig</code> 对象，
返回应该被传递给 <code>babel.transform</code> 的 <code>option</code> 对象。</p><h3><span id="resultresult-result-result"></span><code>result(result: Result): Result</code><a href="#resultresult-result-result" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>指定的 Babel 结果对象，允许 loaders 对它进行额外的调整。</p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://couto.mit-license.org/">MIT</a></p><h1><span id="coffee-loader"></span>coffee-loader<a href="#coffee-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/coffee-loader"><img src="https://img.shields.io/npm/v/coffee-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/coffee-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/coffee-loader"><img src="https://david-dm.org/webpack-contrib/coffee-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/coffee-loader/actions"><img src="https://github.com/webpack-contrib/coffee-loader/workflows/coffee-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/coffee-loader"><img src="https://codecov.io/gh/webpack-contrib/coffee-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=coffee-loader"><img src="https://packagephobia.now.sh/badge?p=coffee-loader" alt="size"/></a></p><p>Compile <a href="https://coffeescript.org/">CoffeeScript</a> to JavaScript.</p><h2><span id="getting-started"></span>起步<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>安装 <code>coffeescript</code> 和 <code>coffee-loader</code>：</p><pre><code class="hljs language-console">npm install --save-dev coffeescript coffee-loader
</code></pre><p>然后添加 plugin 到 <code>webpack</code> 配置文件. 例：</p><p><strong>file.coffee</strong></p><pre><code class="hljs language-coffee"># 任务：
number   = 42
opposite = true

# 条件：
number = -42 if opposite

# 函数：
square = (x) -&gt; x * x

# 数组：
list = [1, 2, 3, 4, 5]

# 对象：
math =
  root:   Math.sqrt
  square: square
  cube:   (x) -&gt; x * square x

# Splats：
race = (winner, runners...) -&gt;
  print winner, runners

# 存在性：
alert &quot;I knew it!&quot; if elvis?

# 数组推导（comprehensions）：
cubes = (math.cube num for num in list)
</code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.coffee$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;coffee-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>替代方案：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> coffee <span class="token keyword">from</span> <span class="token string">&quot;coffee-loader!./file.coffee&quot;</span><span class="token punctuation">;</span></code></pre><p>然后按偏好运行 <code>webpack</code></p><h2><span id="options"></span>选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>类型：<code>Object</code>
默认：<code>{ bare: true }</code></p><p>所有 coffeescript 选项的文档 <a href="https://coffeescript.org/#nodejs-usage">点击查看</a>.</p><p><code>transpile</code> 选项的文档 <a href="https://coffeescript.org/#transpilation">点击查看</a>.</p><blockquote><p>ℹ️ <code>sourceMap</code> 选项从 <code>compiler.devtool</code> 中选取一个值作为默认值。</p></blockquote><blockquote><p>ℹ️ <code>filename</code> 选项从 webpack loader API 中选取一个值。 选项值将被忽略。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.coffee$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;coffee-loader&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          bare<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          transpile<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="coffeescript-and-babel"></span>CoffeeScript 与 Babel<a href="#coffeescript-and-babel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>来自 CoffeeScript 2 的文档：</p><blockquote><p>CoffeeScript 2 使用最新的句法生成 JavaScript。
代码运行所在的运行时或浏览器有可能无法支持全部相关句法。
这种情况下，新的 JavaScript 句法将被转换为旧的 JavaScript 句法，以便在较低版本 Node 环境或浏览器中运行这些代码。比如将 <code>{ a } = obj</code> 转换为 <code>a = obj.a</code>。
这个转换的过程是由一些诸如 Babel, Bublé or Traceur Compiler 等转换工具完成的。</p></blockquote><p>安装 <code>@babel/core</code> 和 <code>@babel/preset-env</code> 然后创建配置文件：</p><pre><code class="hljs language-console">npm install --save-dev @babel/core @babel/preset-env
echo &#x27;{ &quot;presets&quot;: [&quot;@babel/env&quot;] }&#x27; &gt; .babelrc
</code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.coffee$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;coffee-loader&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          transpile<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="literate-coffeescript"></span>Literate CoffeeScript<a href="#literate-coffeescript" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>开启 Literate CoffeeScript 时需要设置：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.coffee$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;coffee-loader&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          literate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果您尚未了解，建议您阅读以下贡献指引。</p><p><a href="https://github.com/webpack-contrib/coffee-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>许可<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/coffee-loader/blob/master/LICENSE">MIT</a></p><h1><span id="css-loader"></span>css-loader<a href="#css-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/css-loader"><img src="https://img.shields.io/npm/v/css-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/css-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/css-loader"><img src="https://david-dm.org/webpack-contrib/css-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/css-loader/actions"><img src="https://github.com/webpack-contrib/css-loader/workflows/css-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/css-loader"><img src="https://codecov.io/gh/webpack-contrib/css-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=css-loader"><img src="https://packagephobia.now.sh/badge?p=css-loader" alt="size"/></a></p><p><code>css-loader</code> 会对 <code>@import</code> 和 <code>url()</code> 进行处理，就像 js 解析 <code>import/require()</code> 一样。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果要使用 css-loader，你需要安装 webpack@5</p><p>首先，你需要先安装 <code>css-loader</code>：</p><pre><code class="hljs language-console">npm install --save-dev css-loader
</code></pre><p>然后把 loader 引用到你 <code>webpack</code> 的配置中。如下所示：</p><p><strong>file.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> css <span class="token keyword">from</span> <span class="token string">&#x27;file.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>然后运行 <code>webpack</code>。</p><p>如果由于某种原因你需要将 CSS 提取为一个文件（即不要将 CSS 存储在 JS 模块中），你可能想要查看 <a href="https://github.com/webpack-contrib/css-loader#recommend">推荐示例</a>。</p><h2><span id="options"></span>配置项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">默认值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><strong><a href="#url"><code>url</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean|Function}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="描述"><span>启用/禁用 <code>url()</code>/<code>image-set()</code> 函数处理</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#import"><code>import</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean|Function}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="描述"><span>启用/禁用 <code>@import</code> 规则进行处理</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#modules"><code>modules</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean|String|Object}</code></span></td><td align="center" data-th="默认值"><span><code>{auto: true}</code></span></td><td align="left" data-th="描述"><span>启用/禁用 CSS 模块及其配置</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#sourceMap"><code>sourceMap</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>compiler.devtool</code></span></td><td align="left" data-th="描述"><span>启用/禁用生成 SourceMap</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#importloaders"><code>importLoaders</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Number}</code></span></td><td align="center" data-th="默认值"><span><code>0</code></span></td><td align="left" data-th="描述"><span>启用/禁用或者设置在 css-loader 前应用的 loader 数量</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#esmodule"><code>esModule</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="描述"><span>使用 ES 模块语法</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#exporttype"><code>exportType</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{&#x27;array&#x27; | &#x27;string&#x27; | &#x27;css-style-sheet&#x27;}</code></span></td><td align="center" data-th="默认值"><span><code>array</code></span></td><td align="left" data-th="描述"><span>允许导出样式为模块数组、字符串或者 <a href="https://developers.google.com/web/updates/2019/02/constructable-stylesheets">可构造样式</a>（即 <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet"><code>CSSStyleSheet</code></a>）</span></td></tr></tbody></table><h3><span id="url"></span><code>url</code><a href="#url" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型: <code>Boolean|Object</code>
默认值: <code>true</code></p><p>启用/禁用 <code>url</code>/<code>image-set</code> 函数进行处理。
如果设置为 <code>false</code>，<code>css-loader</code> 将不会解析 <code>url</code> 或者 <code>image-set</code> 中的任何路径。
还可以传递给一个函数基于资源的路径动态地控制这种行为。
绝对路径和根目录的相对 URL 现在会被解析(版本 <a href="https://github.com/webpack-contrib/css-loader/blob/master/CHANGELOG.md#400-2020-07-25">4.0.0</a>。</p><p>示例解决方案:</p><pre><code class="hljs language-js"><span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter">image<span class="token punctuation">.</span>png</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./image.png&#x27;</span><span class="token punctuation">)</span>
<span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;image.png&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./image.png&#x27;</span><span class="token punctuation">)</span>
<span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span><span class="token operator">/</span>image<span class="token punctuation">.</span>png</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./image.png&#x27;</span><span class="token punctuation">)</span>
<span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;./image.png&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./image.png&#x27;</span><span class="token punctuation">)</span>
<span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;http://dontwritehorriblecode.com/2112.png&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;http://dontwritehorriblecode.com/2112.png&#x27;</span><span class="token punctuation">)</span>
image<span class="token operator">-</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;image2x.png&#x27;</span><span class="token punctuation">)</span> <span class="token number">1</span>x<span class="token punctuation">,</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;image1x.png&#x27;</span><span class="token punctuation">)</span> <span class="token number">2</span>x<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./image1x.png&#x27;</span><span class="token punctuation">)</span> and <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./image2x.png&#x27;</span><span class="token punctuation">)</span></code></pre><p>要从 <code>node_modules</code> 目录（包括 <code>resolve.modules</code>）导入资源，而对于 <code>alias</code>，请加上一个前缀 <code>~</code>：</p><pre><code class="hljs language-js"><span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">~</span>module<span class="token operator">/</span>image<span class="token punctuation">.</span>png</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;module/image.png&#x27;</span><span class="token punctuation">)</span>
<span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;~module/image.png&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;module/image.png&#x27;</span><span class="token punctuation">)</span>
<span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">~</span>aliasDirectory<span class="token operator">/</span>image<span class="token punctuation">.</span>png</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;otherDirectory/image.png&#x27;</span><span class="token punctuation">)</span></code></pre><h4><span id="boolean"></span><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>启用/禁用 <code>url()</code> 解析。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          url<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许过滤 <code>url()</code>。所有过滤的内容 <code>url()</code> 都不会解析（保留编写时的代码）。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          url<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token comment">// resourcePath - css 文件的路径</span>

              <span class="token comment">// 不处理 `img.png` url</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;img.png&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="import"></span><code>import</code><a href="#import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型: <code>Boolean|Object</code>
默认值: <code>true</code></p><p>启用/禁用 <code>@import</code> 规则进行处理。
控制 <code>@import</code> 的解析。<code>@import</code> 中的绝对 URL 会被直接移到运行时去处理。</p><p>示例解决方案：</p><pre><code class="hljs language-js">@<span class="token keyword">import</span> <span class="token string">&#x27;style.css&#x27;</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter">style<span class="token punctuation">.</span>css</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;style.css&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token string">&#x27;./style.css&#x27;</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span><span class="token operator">/</span>style<span class="token punctuation">.</span>css</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;http://dontwritehorriblecode.com/style.css&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> @<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;http://dontwritehorriblecode.com/style.css&#x27;</span><span class="token punctuation">)</span> <span class="token keyword">in</span> runtime</code></pre><p>要从 <code>node_modules</code> 目录（包括 <code>resolve.modules</code>）导入样式，而对于 <code>alias</code>，请加上一个前缀 <code>~</code>：</p><pre><code class="hljs language-js">@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">~</span>module<span class="token operator">/</span>style<span class="token punctuation">.</span>css</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;module/style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&#x27;~module/style.css&#x27;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;module/style.css&#x27;</span><span class="token punctuation">)</span>
@<span class="token keyword">import</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">~</span>aliasDirectory<span class="token operator">/</span>style<span class="token punctuation">.</span>css</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;otherDirectory/style.css&#x27;</span><span class="token punctuation">)</span></code></pre><h4><span id="boolean"></span><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>启用/禁用 <code>@import</code> 解析。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token keyword">import</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">默认值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><strong><a href="#filter"><code>filter</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Function}</code></span></td><td align="center" data-th="默认值"><span><code>undefined</code></span></td><td align="left" data-th="描述"><span>允许过滤 <code>@import</code></span></td></tr></tbody></table><h5><span id="filter"></span><code>filter</code><a href="#filter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Function</code>
默认值：<code>undefined</code></p><p>允许过滤 <code>@import</code>。所有过滤的内容 <code>@import</code> 都不会解析（保留编写时的代码）。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token keyword">import</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> media<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token comment">// resourcePath - css 文件路径</span>

              <span class="token comment">// 不处理 `style.css` 的导入</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;style.css&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="modules"></span><code>modules</code><a href="#modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean|String|Object</code>
默认值：<code>undefined</code></p><p>启用/禁用 CSS 模块或者 ICSS 及其配置：</p><ul><li><code>undefined</code> - 为所有匹配 <code>/\.module\.\w+$/i.test(filename)</code> 与 <code>/\.icss\.\w+$/i.test(filename)</code> 正则表达式的文件启用 CSS 模块。</li><li><code>true</code> - 对所有文件启用 CSS 模块。</li><li><code>false</code> - 对所有文件禁用 CSS 模块。</li><li><code>string</code> - 对所有文件禁用 CSS 模块并设置 <code>mode</code> 配置项，你可以在 <a href="https://github.com/webpack-contrib/css-loader#mode">这里</a> 获得更多信息。</li><li><code>object</code> - 如果没有配置 <code>modules.auto</code> 则对所有文件启用 CSS 模块，否则 <code>modules.auto</code> 配置项则会决定其是否为 CSS 模块，你可以在 <a href="https://github.com/webpack-contrib/css-loader#auto">这里</a> 获得更多信息。</li></ul><p>该 <code>modules</code> 选项启用/禁用 <strong><a href="https://github.com/css-modules/css-modules">CSS 模块</a></strong> 规范并且设置基本的行为。</p><p>设置为 <code>false</code> 值会提升性能，因为避免了 <strong>CSS Modules</strong> 特性的解析，这对于使用普通 CSS 或者其他技术的开发人员是非常有用的。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="features"></span><code>Features</code><a href="#features" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><h5><span id="scope"></span><code>Scope</code><a href="#scope" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>使用 <code>local</code> 值要求你指定 <code>:global</code> 类。
使用 <code>global</code> 值要求你指定 <code>:local</code> 类。
使用 <code>pure</code> 值则要求必须至少包含一个局部类或者 id。</p><p>你可以点击 <a href="https://github.com/css-modules/css-modules">此处</a> 了解更多。</p><p>样式可以在局部作用域中，避免影响全局作用域的样式。</p><p>语法 <code>:local(.className)</code> 可以被用来在局部作用域中声明 className。局部的作用域标识符会以模块形式暴露出去。</p><p>使用 <code>:local</code>（无括号）可以为此选择器启用局部模式。
<code>:global(.className)</code> 可以用来声明一个明确的全局选择器。
使用 <code>:global</code>（无括号）可以将此选择器切换至全局模式。</p><p>loader 会用唯一的标识符 (identifier) 来替换局部选择器。所选择的唯一标识符以模块形式暴露出去。</p><pre><code class="hljs language-css"><span class="token selector">:local(.className)</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:local .className</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:local(.className .subClass)</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:local .className .subClass :global(.global-class-name)</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre><code class="hljs language-css"><span class="token selector">._23_aKvs-b8bW2Vg3fwHozO</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">._23_aKvs-b8bW2Vg3fwHozO</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">._23_aKvs-b8bW2Vg3fwHozO ._13LGdX8RMStbBE9w-t0gZ1</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">._23_aKvs-b8bW2Vg3fwHozO ._13LGdX8RMStbBE9w-t0gZ1 .global-class-name</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><blockquote><p>ℹ️ 被导出的标识符</p></blockquote><pre><code class="hljs language-js">exports<span class="token punctuation">.</span>locals <span class="token operator">=</span> <span class="token punctuation">{</span>
  className<span class="token operator">:</span> <span class="token string">&#x27;_23_aKvs-b8bW2Vg3fwHozO&#x27;</span><span class="token punctuation">,</span>
  subClass<span class="token operator">:</span> <span class="token string">&#x27;_13LGdX8RMStbBE9w-t0gZ1&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>本地选择器推荐使用驼峰命名。它们在导入的 JS 模块中更容易使用。</p><p>你也可以使用 <code>:local(#someId)</code>，但这并不推荐。应该使用类去代替 id。</p><h5><span id="composing"></span><code>Composing</code><a href="#composing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>声明本地类名时，可以从另一个本地类名组成一个本地类。</p><pre><code class="hljs language-css"><span class="token selector">:local(.className)</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">:local(.subClass)</span> <span class="token punctuation">{</span>
  <span class="token property">composes</span><span class="token punctuation">:</span> className<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>这不会导致 CSS 本身发生任何变化，但是会导出多个类名。</p><pre><code class="hljs language-js">exports<span class="token punctuation">.</span>locals <span class="token operator">=</span> <span class="token punctuation">{</span>
  className<span class="token operator">:</span> <span class="token string">&#x27;_23_aKvs-b8bW2Vg3fwHozO&#x27;</span><span class="token punctuation">,</span>
  subClass<span class="token operator">:</span> <span class="token string">&#x27;_13LGdX8RMStbBE9w-t0gZ1 _23_aKvs-b8bW2Vg3fwHozO&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-css"><span class="token selector">._23_aKvs-b8bW2Vg3fwHozO</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">._13LGdX8RMStbBE9w-t0gZ1</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><h5><span id="importing"></span><code>Importing</code><a href="#importing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>从另一个模块导入本地类名。</p><blockquote><p>我强烈建议您在导入文件时指定扩展名，因为可以导入具有任何扩展名的文件，而且事先并不能知道要使用哪个文件。</p></blockquote><pre><code class="hljs language-css"><span class="token selector">:local(.continueButton)</span> <span class="token punctuation">{</span>
  <span class="token property">composes</span><span class="token punctuation">:</span> button from <span class="token string">&#x27;library/button.css&#x27;</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre><code class="hljs language-css"><span class="token selector">:local(.nameEdit)</span> <span class="token punctuation">{</span>
  <span class="token property">composes</span><span class="token punctuation">:</span> edit highlight from <span class="token string">&#x27;./edit.css&#x27;</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>要从多个模块导入，请使用多个 <code>composes:</code> 规则。</p><pre><code class="hljs language-css"><span class="token selector">:local(.className)</span> <span class="token punctuation">{</span>
  <span class="token property">composes</span><span class="token punctuation">:</span> edit hightlight from <span class="token string">&#x27;./edit.css&#x27;</span><span class="token punctuation">;</span>
  <span class="token property">composes</span><span class="token punctuation">:</span> button from <span class="token string">&#x27;module/button.css&#x27;</span><span class="token punctuation">;</span>
  <span class="token property">composes</span><span class="token punctuation">:</span> classFromThisModule<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><h5><span id="values"></span><code>Values</code><a href="#values" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>可以使用 <code>@value</code> 来指定在整个文档中都能被重复使用的值，</p><p>我们推荐对特定的值使用 <code>v-</code> 的前缀，给选择器使用 <code>s-</code> 的前缀，并且为媒体规则使用 <code>m-</code> 前缀。</p><pre><code class="hljs language-css"><span class="token atrule"><span class="token rule">@value</span> <span class="token property">v-primary</span><span class="token punctuation">:</span> #BF4040<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@value</span> <span class="token property">s-black</span><span class="token punctuation">:</span> black-selector<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@value</span> <span class="token property">m-large</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 960px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>

<span class="token selector">.header</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> v-primary<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.s-black</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> m-large</span> <span class="token punctuation">{</span>
  <span class="token selector">.header</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h4><span id="boolean"></span><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>启用 <strong>CSS 模块</strong> 功能。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>启用 <strong>CSS 模块</strong> 功能和设置 <code>mode</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// 使用 `local` 同使用 `modules: true` 的效果是一样的</span>
          modules<span class="token operator">:</span> <span class="token string">&#x27;global&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>启用 <strong>CSS 模块</strong> 功能和设置选项。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            mode<span class="token operator">:</span> <span class="token string">&#x27;local&#x27;</span><span class="token punctuation">,</span>
            auto<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            exportGlobals<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            localIdentName<span class="token operator">:</span> <span class="token string">&#x27;[path][name]__[local]--[hash:base64:5]&#x27;</span><span class="token punctuation">,</span>
            localIdentContext<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            localIdentHashSalt<span class="token operator">:</span> <span class="token string">&#x27;my-custom-hash&#x27;</span><span class="token punctuation">,</span>
            namedExport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            exportLocalsConvention<span class="token operator">:</span> <span class="token string">&#x27;camelCase&#x27;</span><span class="token punctuation">,</span>
            exportOnlyLocals<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="auto"></span><code>auto</code><a href="#auto" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Boolean|RegExp|Function</code>
默认值：<code>undefined</code></p><p>当 <code>modules</code> 配置项为对象时允许基于文件名自动启用 CSS 模块或者 ICSS。</p><p>有效值：</p><ul><li><code>undefined</code> - 为所有文件启用 CSS 模块。</li><li><code>true</code> - 为所有匹配 <code>/\.module\.\w+$/i.test(filename)</code> 和 <code>/\.icss\.\w+$/i.test(filename)</code> 正则表达式的文件启用 CSS 模块。</li><li><code>false</code> - 禁用 CSS 模块。</li><li><code>RegExp</code> - 为所有匹配 <code>/RegExp/i.test(filename)</code> 正则表达式的文件禁用 CSS 模块。</li><li><code>function</code> - 为所有通过基于文件名的过滤函数校验的文件启用 CSS 模块。</li></ul><h6><span id="boolean"></span><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p>可能的值：</p><ul><li><code>true</code> - 启用 CSS 模块或者可交互 CSS 格式，为所有满足 <code>/\.module(s)?\.\w+$/i.test(filename)</code> 条件的文件设置 <a href="#mode"><code>modules.mode</code></a> 选项为 <code>local</code>，或者为所有满足 <code>/\.icss\.\w+$/i.test(filename)</code> 条件的文件设置 <a href="#mode"><code>modules.mode</code></a> 选项为 <code>icss</code></li><li><code>false</code> - 禁用 css 模块或者基于文件名的可交互 CSS 格式</li></ul><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            auto<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="regexp"></span><code>RegExp</code><a href="#regexp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p>根据正则表达式检查文件名，为匹配的文件启用 css 模块。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            auto<span class="token operator">:</span> <span class="token regex">/\.custom-module\.\w+$/i</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p>根据过滤器检查文件名，为满足过滤要求的文件启用 css 模块。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">auto</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> resourcePath<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#x27;.custom-module.css&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="mode"></span><code>mode</code><a href="#mode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String|Function</code>
默认：<code>&#x27;local&#x27;</code></p><p>设置 <code>mode</code> 选项。需要 <code>local</code> 模式时可以忽略该值。</p><p>控制应用于输入样式的编译级别。</p><p><code>local</code>、<code>global</code> 和 <code>pure</code> 处理 <code>class</code> 和 <code>id</code> 域以及 <code>@value</code> 值。
<code>icss</code> 只会编译底层的 <code>Interoperable CSS</code> 格式，用于声明 CSS 和其他语言之间的 <code>:import</code> 和 <code>:export</code> 依赖关系。</p><p>ICSS 提供 CSS Module 支持，并且为其他工具提供了一个底层语法，以实现它们自己的 css-module 变体。</p><h6><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p>可选值 - <code>local</code>、<code>global</code>、<code>pure</code> 和 <code>icss</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            mode<span class="token operator">:</span> <span class="token string">&#x27;global&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p>允许根据文件名设置不同的 <code>mode</code> 选项值。</p><p>可能的返回值 - <code>local</code>、<code>global</code>、<code>pure</code> 和 <code>icss</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 回调必须返回 `local`，`global`，或者 `pure`</span>
            <span class="token function-variable function">mode</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/pure.css$/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&#x27;pure&#x27;</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/global.css$/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&#x27;global&#x27;</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> <span class="token string">&#x27;local&#x27;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="localidentname"></span><code>localIdentName</code><a href="#localidentname" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String</code>
默认：<code>&#x27;[hash:base64]&#x27;</code></p><p>允许配置生成的本地标识符(ident)。</p><p>更多关于配置项的信息可以查看：</p><ul><li><a href="/configuration/output/#template-strings">webpack template strings</a>,</li><li><a href="/configuration/output/#outputhashdigest">output.hashDigest</a>,</li><li><a href="/configuration/output/#outputhashdigestlength">output.hashDigestLength</a>,</li><li><a href="/configuration/output/#outputhashfunction">output.hashFunction</a>,</li><li><a href="/configuration/output/#outputhashsalt">output.hashSalt</a>.</li></ul><p>支持的模板字符串：</p><ul><li><code>[name]</code> 源文件名称</li><li><code>[folder]</code> 文件夹相对于 <code>compiler.context</code> 或者 <code>modules.localIdentContext</code> 配置项的相对路径。</li><li><code>[path]</code> 源文件相对于 <code>compiler.context</code> 或者 <code>modules.localIdentContext</code> 配置项的相对路径。</li><li><code>[file]</code> - 文件名和路径。</li><li><code>[ext]</code> - 文件拓展名。</li><li><code>[hash]</code> - 字符串的哈希值。基于 <code>localIdentHashSalt</code>、<code>localIdentHashFunction</code>、<code>localIdentHashDigest</code>、<code>localIdentHashDigestLength</code>、<code>localIdentContext</code>、<code>resourcePath</code> 和 <code>exportName</code> 生成。</li><li><code>[&lt;hashFunction&gt;:hash:&lt;hashDigest&gt;:&lt;hashDigestLength&gt;]</code> - 带有哈希设置的哈希。</li><li><code>[local]</code> - 原始类名。</li></ul><p>建议：</p><ul><li>开发环境使用 <code>&#x27;[path][name]__[local]&#x27;</code></li><li>生产环境使用 <code>&#x27;[hash:base64]&#x27;</code></li></ul><p><code>[local]</code> 占位符包含原始的类。</p><p>**注意：**所有保留 (<code>&lt;&gt;:&quot;/\|?*</code>) 和控制文件系统字符 (不包括 <code>[local]</code> 占位符) 都将转换为 <code>-</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            localIdentName<span class="token operator">:</span> <span class="token string">&#x27;[path][name]__[local]--[hash:base64:5]&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="localidentcontext"></span><code>localIdentContext</code><a href="#localidentcontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String</code>
默认：<code>compiler.context</code></p><p>允许为本地标识符名称重新定义基本的 loader 上下文。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            localIdentContext<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="localidenthashsalt"></span><code>localIdentHashSalt</code><a href="#localidenthashsalt" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String</code>
默认：<code>undefined</code></p><p>允许添加自定义哈希值以生成更多唯一类。
更多信息请查看 <a href="/configuration/output/#outputhashsalt">output.hashSalt</a>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            localIdentHashSalt<span class="token operator">:</span> <span class="token string">&#x27;hash&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="localidenthashfunction"></span><code>localIdentHashFunction</code><a href="#localidenthashfunction" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String</code>
默认值：<code>md4</code></p><p>允许设置生成 class 的哈希函数。
更多信息请查看 <a href="/configuration/output/#outputhashfunction">output.hashFunction</a>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            localIdentHashFunction<span class="token operator">:</span> <span class="token string">&#x27;md4&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="localidenthashdigest"></span><code>localIdentHashDigest</code><a href="#localidenthashdigest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String</code>
默认值：<code>hex</code></p><p>允许设置生成 class 的哈希摘要。
更多信息请查看 <a href="/configuration/output/#outputhashdigest">output.hashDigest</a>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            localIdentHashDigest<span class="token operator">:</span> <span class="token string">&#x27;base64&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="localIdentHashDigestLength-localidentHashdigestlength"></span><code>localIdentHashDigestLength</code> $#localidentHashdigestlength$<a href="#localIdentHashDigestLength-localidentHashdigestlength" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Number</code>
默认值：<code>20</code></p><p>允许设置生成 class 的哈希摘要长度。
更多信息请查看 <a href="/configuration/output/#outputhashdigestlength">output.hashDigestLength</a>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            localIdentHashDigestLength<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="localidentregexp"></span><code>localIdentRegExp</code><a href="#localidentregexp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String|RegExp</code>
默认：<code>undefined</code></p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            localIdentRegExp<span class="token operator">:</span> <span class="token regex">/page-(.*)\.css/i</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="getlocalident"></span><code>getLocalIdent</code><a href="#getlocalident" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Function</code>
默认：<code>undefined</code></p><p>可以指定自定义 <code>getLocalIdent</code> 函数的绝对路径，以基于不同的架构生成类名。
默认情况下，我们使用内置函数来生成 classname。
如果自定义函数返回 <code>null</code> 或者 <code>undefined</code>，
我们将降级使用内置函数来生成 classname。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">getLocalIdent</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> localIdentName<span class="token punctuation">,</span> localName<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token string">&#x27;whatever_random_class_name&#x27;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="namedexport"></span><code>namedExport</code><a href="#namedexport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Boolean</code>
默认：<code>false</code></p><p>本地环境启用/禁用 export 的 ES 模块。</p><blockquote><p>⚠ 本地环境的命名将转换为驼峰格式，即 <code>exportLocalsConvention</code> 选项默认设置了 <code>camelCaseOnly</code>。</p></blockquote><blockquote><p>⚠ 不允许在 CSS 类名中使用 JavaScript 保留字。</p></blockquote><p><strong>styles.css</strong></p><pre><code class="hljs language-css"><span class="token selector">.foo-baz</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> fooBaz<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooBaz<span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>可以使用以下命令启用 export 的 ES 模块：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          esModule<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            namedExport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>可以为 namedExport 设置一个自定义名称，可以使用 <a href="#exportlocalsconvention"><code>exportLocalsConvention</code></a> 配置项作为一个函数。
可前往 <a href="#examples"><code>examples</code></a> 章节查看示例。</p><h5><span id="exportglobals"></span><code>exportGlobals</code><a href="#exportglobals" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Boolean</code>
默认：<code>false</code></p><p>允许 <code>css-loader</code> 从全局类或 ID 导出名称，因此您可以将其用作本地名称。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            exportGlobals<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="exportlocalsconvention"></span><code>exportLocalsConvention</code><a href="#exportlocalsconvention" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String|Function</code>
默认：取决于 <code>modules.namedExport</code> 选项值，如果为 <code>true</code> 则对应的是 <code>camelCaseOnly</code>，反之对应的是 <code>asIs</code></p><p>导出的类名称的样式。</p><h6><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p>默认情况下，导出的 JSON 密钥反映了类名（即 <code>asIs</code> 值）。</p><blockquote><p>⚠ 如果你设置 <code>namedExport</code> 为 <code>true</code> 那么只有 <code>camelCaseOnly</code> 被允许。</p></blockquote><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><strong><code>&#x27;asIs&#x27;</code></strong></span></td><td align="center" data-th="类型"><span><code>{String}</code></span></td><td align="left" data-th="描述"><span>类名将按原样导出。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><code>&#x27;camelCase&#x27;</code></strong></span></td><td align="center" data-th="类型"><span><code>{String}</code></span></td><td align="left" data-th="描述"><span>类名将被驼峰化，原类名不会从局部环境删除</span></td></tr><tr><td align="center" data-th="名称"><span><strong><code>&#x27;camelCaseOnly&#x27;</code></strong></span></td><td align="center" data-th="类型"><span><code>{String}</code></span></td><td align="left" data-th="描述"><span>类名将被驼峰化，原类名从局部环境删除</span></td></tr><tr><td align="center" data-th="名称"><span><strong><code>&#x27;dashes&#x27;</code></strong></span></td><td align="center" data-th="类型"><span><code>{String}</code></span></td><td align="left" data-th="描述"><span>类名中只有破折号会被驼峰化</span></td></tr><tr><td align="center" data-th="名称"><span><strong><code>&#x27;dashesOnly&#x27;</code></strong></span></td><td align="center" data-th="类型"><span><code>{String}</code></span></td><td align="left" data-th="描述"><span>类名中破折号会被驼峰，原类名从局部环境删除</span></td></tr></tbody></table><p><strong>file.css</strong></p><pre><code class="hljs language-css"><span class="token selector">.class-name</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></code></pre><p><strong>file.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> className <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;file.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            exportLocalsConvention<span class="token operator">:</span> <span class="token string">&#x27;camelCase&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">exportLocalsConvention</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">exportLocalsConvention</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token punctuation">[</span>
                name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// dashesCamelCase</span>
                name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-+(\w)/g</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> firstLetter</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
                  firstLetter<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="exportonlylocals"></span><code>exportOnlyLocals</code><a href="#exportonlylocals" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Boolean</code>
默认：<code>false</code></p><p>仅导出局部环境。</p><p>使用 <strong>css 模块</strong> 进行预渲染（例如 SSR）时<strong>很有用</strong>。
要进行预渲染，<strong>预渲染包</strong> 应使用 <code>mini-css-extract-plugin</code> 选项而不是 <code>style-loader!css-loader</code>。
它不嵌入 CSS，而仅导出标识符映射。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            exportOnlyLocals<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="importloaders"></span><code>importLoaders</code><a href="#importloaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Number</code>
默认：<code>0</code></p><p>允许为 <code>@import</code> 样式规则、CSS 模块或者 ICSS 启用/禁用或设置在 CSS loader 之前应用的 loader 的数量，例如：<code>@import</code>/<code>composes</code>/<code>@value value from &#x27;./values.css&#x27;</code> 等。</p><p><code>importLoaders</code> 选项允许你配置在 <code>css-loader</code> 之前有多少 loader 应用于 <code>@import</code>ed 资源与 CSS 模块/ICSS 导入。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token comment">// 0 =&gt; no loaders (default);</span>
              <span class="token comment">// 1 =&gt; postcss-loader;</span>
              <span class="token comment">// 2 =&gt; postcss-loader, sass-loader</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>当模块系统（即 webpack）支持按来源匹配 loader 时，这种情况将来可能会改变。</p><h3><span id="sourceMap"></span><code>sourceMap</code><a href="#sourceMap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：取决于 <code>compiler.devtool</code> 值</p><p>source map 的生成默认依赖 <a href="/configuration/devtool/"><code>devtool</code></a> 配置项。除了 <code>eval</code> 与 <code>false</code> 之外的值都会启用 source map。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="esmodule"></span><code>esModule</code><a href="#esmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认：<code>true</code></p><p>默认情况下，<code>css-loader</code> 生成使用 ES 模块语法的 JS 模块。
在某些情况下，使用 ES 模块是有益的，例如在<a href="/plugins/module-concatenation-plugin/">模块串联</a>或 <a href="/guides/tree-shaking/">tree shaking</a> 时。</p><p>你可以使用以下方式启用 CommonJS 模块语法：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          esModule<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="exporttype"></span><code>exportType</code><a href="#exporttype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>&#x27;array&#x27; | &#x27;string&#x27; | &#x27;css-style-sheet&#x27;</code>
默认值：<code>&#x27;array&#x27;</code></p><p>允许导出样式为模块数组、字符串或者 <a href="https://developers.google.com/web/updates/2019/02/constructable-stylesheets">可构造样式</a>（即 <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet"><code>CSSStyleSheet</code></a>）。
默认值为 <code>&#x27;array&#x27;</code>，即 loader 导出具有特定 API 的模块数组，用于 <code>style-loader</code> 或其他。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        assert<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;css&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exportType<span class="token operator">:</span> <span class="token string">&#x27;css-style-sheet&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> sheet <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span> assert <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;css&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span>adoptedStyleSheets <span class="token operator">=</span> <span class="token punctuation">[</span>sheet<span class="token punctuation">]</span><span class="token punctuation">;</span>
shadowRoot<span class="token punctuation">.</span>adoptedStyleSheets <span class="token operator">=</span> <span class="token punctuation">[</span>sheet<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h4><span id="array"></span><code>&#x27;array&#x27;</code><a href="#array" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>loader 导出具有特定 API 的模块数组，用于 <code>style-loader</code> 或其他。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(sa|sc|c)ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token comment">// `style-loader` applies styles to DOM</span>
<span class="token keyword">import</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span><code>&#x27;string&#x27;</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><blockquote><p>⚠ 你不再需要 <a href="/loaders/style-loader/"><code>style-loader</code></a>，请移除它。
⚠ 如果你想使用 <a href="https://github.com/webpack-contrib/css-loader#modules"><code>CSS modules</code></a>，应该启用 <code>esModules</code> 配置项，默认情况下，本地变量会被 <a href="https://github.com/webpack-contrib/css-loader#namedexport">具名导出</a>。</p></blockquote><p>默认导出为 <code>string</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(sa|sc|c)ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> sheet <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sheet<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4><span id="cssstylesheet"></span><code>&#x27;css-style-sheet&#x27;</code><a href="#cssstylesheet" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><blockquote><p>⚠ 不再允许使用 <code>@import</code> 规则，更多 <a href="https://web.dev/css-module-scripts/#@import-rules-not-yet-allowed">信息</a>
⚠ 你不再需要 <a href="/loaders/style-loader/"><code>style-loader</code></a>，请移除它。
⚠ 如果你想使用 <a href="https://github.com/webpack-contrib/css-loader#modules"><code>CSS modules</code></a>，应该启用 <code>esModules</code> 配置项，默认情况下，本地变量会被 <a href="https://github.com/webpack-contrib/css-loader#namedexport">具名导出</a>。
⚠ 目前在 <code>Chrome</code> 中不支持 Source maps，因为有该 <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1174094&amp;q=CSSStyleSheet%20source%20maps&amp;can=2">bug</a></p></blockquote><p>默认导出是一个 <a href="https://developers.google.com/web/updates/2019/02/constructable-stylesheets">可构造样式</a> （即 <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet"><code>CSSStyleSheet</code></a>）。</p><p>对 <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">自定义元素</a> 以及 shadow DOM 有用处。</p><p>更多信息：</p><ul><li><a href="https://web.dev/css-module-scripts/">Using CSS Module Scripts to import stylesheets</a></li><li><a href="https://developers.google.com/web/updates/2019/02/constructable-stylesheets">Constructable Stylesheets: seamless reusable styles</a></li></ul><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        assert<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;css&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exportType<span class="token operator">:</span> <span class="token string">&#x27;css-style-sheet&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token comment">// For Sass/SCSS:</span>
      <span class="token comment">//</span>
      <span class="token comment">// {</span>
      <span class="token comment">//   assert: { type: &quot;css&quot; },</span>
      <span class="token comment">//   rules: [</span>
      <span class="token comment">//     {</span>
      <span class="token comment">//       loader: &quot;css-loader&quot;,</span>
      <span class="token comment">//       options: {</span>
      <span class="token comment">//         exportType: &quot;css-style-sheet&quot;,</span>
      <span class="token comment">//         // Other options</span>
      <span class="token comment">//       },</span>
      <span class="token comment">//     },</span>
      <span class="token comment">//     {</span>
      <span class="token comment">//       loader: &quot;sass-loader&quot;,</span>
      <span class="token comment">//       options: {</span>
      <span class="token comment">//         // Other options</span>
      <span class="token comment">//       },</span>
      <span class="token comment">//     },</span>
      <span class="token comment">//   ],</span>
      <span class="token comment">// },</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token comment">// Example for Sass/SCSS:</span>
<span class="token comment">// import sheet from &quot;./styles.scss&quot; assert { type: &quot;css&quot; };</span>

<span class="token comment">// Example for CSS modules:</span>
<span class="token comment">// import sheet, { myClass } from &quot;./styles.scss&quot; assert { type: &quot;css&quot; };</span>

<span class="token comment">// Example for CSS:</span>
<span class="token keyword">import</span> sheet <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span> assert <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;css&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span>adoptedStyleSheets <span class="token operator">=</span> <span class="token punctuation">[</span>sheet<span class="token punctuation">]</span><span class="token punctuation">;</span>
shadowRoot<span class="token punctuation">.</span>adoptedStyleSheets <span class="token operator">=</span> <span class="token punctuation">[</span>sheet<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>对于迁移，你可以使用以下配置：</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            assert<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;css&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              exportType<span class="token operator">:</span> <span class="token string">&#x27;css-style-sheet&#x27;</span><span class="token punctuation">,</span>
              <span class="token comment">// Other options</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
                options<span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token comment">// Other options</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="recommend"></span>推荐<a href="#recommend" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>推荐 <code>production</code> 环境的构建将 CSS 从你的 bundle 中分离出来，这样可以使用 CSS/JS 文件的并行加载。
这可以通过使用 <code>mini-css-extract-plugin</code> 来实现，因为它可以创建单独的 CSS 文件。
对于 <code>development</code> 模式（包括 <code>webpack-dev-server</code>），你可以使用 <a href="/loaders/style-loader/">style-loader</a>，因为它可以使用多个 <style></style> 标签将 CSS 插入到 DOM 中，并且反应会更快。</p><blockquote><p>i 不要同时使用 <code>style-loader</code> 与 <code>mini-css-extract-plugin</code>。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;mini-css-extract-plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#x27;production&#x27;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(sa|sc|c)ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          devMode <span class="token operator">?</span> <span class="token string">&#x27;style-loader&#x27;</span> <span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>devMode <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="disable-url-resolving-using-the--webpackignore-true--comment"></span>使用 <code>/* webpackIgnore: true */</code> 注释禁用 url 解析<a href="#disable-url-resolving-using-the--webpackignore-true--comment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>有了 <code>/* webpackIgnore: true */</code> 注释，可以禁用对规则和单个声明的源处理。</p><pre><code class="hljs language-css"><span class="token comment">/* webpackIgnore: true */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./basic.css<span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>
@import <span class="token comment">/* webpackIgnore: true */</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./imported.css<span class="token punctuation">)</span></span><span class="token selector">;

.class</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 对 &#x27;background&#x27; 声明中的所有 url 禁用 url 处理 */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token comment">/* webpackIgnore: true */</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#x27;./url/img.png&#x27;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#x27;./url/img.png&#x27;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.class</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 对 &#x27;background&#x27; 声明中第一个 url 禁用 url 处理 */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span>
    <span class="token comment">/* webpackIgnore: true */</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#x27;./url/img.png&#x27;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#x27;./url/img.png&#x27;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.class</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 对 &#x27;background&#x27; 声明中第二个 url 禁用 url 处理 */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#x27;./url/img.png&#x27;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span>
    <span class="token comment">/* webpackIgnore: true */</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#x27;./url/img.png&#x27;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* prettier-ignore */</span>
<span class="token selector">.class</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 对 &#x27;background&#x27; 声明中第二个 url 禁用 url 处理 */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;./url/img.png&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span>
    <span class="token comment">/* webpackIgnore: true */</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;./url/img.png&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* prettier-ignore */</span>
<span class="token selector">.class</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 对 &#x27;background-image&#x27; 声明中第三和第六个 url 禁用 url 处理 */</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">image-set</span><span class="token punctuation">(</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./url/img.png<span class="token punctuation">)</span></span> 2x<span class="token punctuation">,</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./url/img.png<span class="token punctuation">)</span></span> 3x<span class="token punctuation">,</span>
    <span class="token comment">/* webpackIgnore:  true */</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./url/img.png<span class="token punctuation">)</span></span> 4x<span class="token punctuation">,</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./url/img.png<span class="token punctuation">)</span></span> 5x<span class="token punctuation">,</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./url/img.png<span class="token punctuation">)</span></span> 6x<span class="token punctuation">,</span>
    <span class="token comment">/* webpackIgnore:  true */</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./url/img.png<span class="token punctuation">)</span></span> 7x
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><h3><span id="assets"></span>Assets<a href="#assets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>如下配置的 <code>webpack.config.js</code> 可以加载 CSS 文件，嵌入小的 PNG/JPG/GIF/SVG 图片以及字体作为<a href="https://tools.ietf.org/html/rfc2397">数据 URL</a>，并将较大的文件复制到输出目录。</p><p><strong>对于 webpack v5：</strong></p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(png|jpe?g|gif|svg|eot|ttf|woff|woff2)$/i</span><span class="token punctuation">,</span>
        <span class="token comment">// 更多信息请点击这里 https://webpack.js.org/guides/asset-modules/</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="extract"></span>Extract<a href="#extract" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>For production builds it&#x27;s recommended to extract the CSS from your bundle being able to use parallel loading of CSS/JS resources later on.</p><ul><li><p>This can be achieved by using the <a href="/plugins/mini-css-extract-plugin/">mini-css-extract-plugin</a> to extract the CSS when running in production mode.</p></li><li><p>As an alternative, if seeking better development performance and css outputs that mimic production. <a href="https://github.com/faceyspacey/extract-css-chunks-webpack-plugin">extract-css-chunks-webpack-plugin</a> offers a hot module reload friendly, extended version of mini-css-extract-plugin. HMR real CSS files in dev, works like mini-css in non-dev</p></li></ul><h3><span id="pure-css-css-modules-and-postcss"></span>纯 CSS，CSS 模块和 PostCSS<a href="#pure-css-css-modules-and-postcss" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>如果项目中没有纯 CSS（没有 CSS 模块），CSS 模块和 PostCSS，则可以使用以下设置：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 对于 pure CSS - /\.css$/i,</span>
        <span class="token comment">// 对于 Sass/SCSS - /\.((c|sa|sc)ss)$/i,</span>
        <span class="token comment">// 对于 Less - /\.((c|le)ss)$/i,</span>
        test<span class="token operator">:</span> <span class="token regex">/\.((c|sa|sc)ss)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// 每一个 CSS 的 `@import` 与 CSS 模块/ICSS 都会运行 `postcss-loader`，不要忘了 `sass-loader` 将不属于 CSS 的 `@import` 编译到一个文件中</span>
              <span class="token comment">// 如果您需要在每个 CSS 的 `@import` 上运行 `sass-loader` 和 `postcss-loader`，请将其设置为 `2`。</span>
              importLoaders<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">plugins</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token function">postcssPresetEnv</span><span class="token punctuation">(</span><span class="token punctuation">{</span> stage<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// 也可能是 `less-loader`</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 对于 webpack v5</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(png|jpe?g|gif|svg|eot|ttf|woff|woff2)$/i</span><span class="token punctuation">,</span>
        <span class="token comment">// More information here https://webpack.js.org/guides/asset-modules/</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="resolve-unresolved-urls-using-an-alias"></span>使用别名解析未解析的 URL<a href="#resolve-unresolved-urls-using-an-alias" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>index.css</strong></p><pre><code class="hljs language-css"><span class="token selector">.class</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/assets/unresolved/img.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&#x27;/assets/unresolved/img.png&#x27;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
        __dirname<span class="token punctuation">,</span>
        <span class="token string">&#x27;assets/real-path-to-img/img.png&#x27;</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="named-export-with-custom-export-names"></span>Named export with custom export names<a href="#named-export-with-custom-export-names" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token punctuation">{</span>
            namedExport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token function-variable function">exportLocalsConvention</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="separating-interoperable-css-only-and-css-module-features"></span>只允许 <code>可交互的 CSS</code> 使其与 <code>CSS Module</code> 特性分离<a href="#separating-interoperable-css-only-and-css-module-features" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>下面是有关配置的示例代码，通过为所有未匹配到 <code>*.module.scss</code> 命名约定文件设置 <code>mode</code> 选项，只允许使用 <code>可交互的 CSS</code> 特性（如 <code>:import</code> 和 <code>:export</code>），而不使用其他的 <code>CSS Module</code> 特性。此处仅供参考，因为在 v4 之前，<code>css-loader</code> 默认将 <code>ICSS</code> 特性应用于所有文件。
同时，在本示例中，匹配到 <code>*.module.scss</code> 的所有文件都将被视为 <code>CSS Modules</code>。</p><p>假设项目中有这样一个需求，要求 canvas 绘制使用的变量与 CSS 同步，换句话说就是 canvas 绘制使用的颜色（在 JavaScript 中设置的颜色名）与 HTML 背景（在 CSS 中通过 class 设置）相同。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ...</span>
      <span class="token comment">// --------</span>
      <span class="token comment">// SCSS ALL EXCEPT MODULES</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.scss$/i</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\.module\.scss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              modules<span class="token operator">:</span> <span class="token punctuation">{</span>
                mode<span class="token operator">:</span> <span class="token string">&#x27;icss&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// --------</span>
      <span class="token comment">// SCSS MODULES</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.module\.scss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              modules<span class="token operator">:</span> <span class="token punctuation">{</span>
                mode<span class="token operator">:</span> <span class="token string">&#x27;local&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// --------</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>variables.scss</strong></p><p>文件被视为仅使用 <code>ICSS</code>。</p><pre><code class="hljs language-scss"><span class="token property"><span class="token variable">$colorBackground</span></span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token selector">:export </span><span class="token punctuation">{</span>
  <span class="token property">colorBackgroundCanvas</span><span class="token punctuation">:</span> <span class="token variable">$colorBackground</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>Component.module.scss</strong></p><p>文件被视为 <code>CSS Module</code>。</p><pre><code class="hljs language-scss"><span class="token keyword">@import</span> <span class="token string">&#x27;variables.scss&#x27;</span><span class="token punctuation">;</span>
<span class="token selector">.componentClass </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$colorBackground</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>Component.jsx</strong></p><p>在 JavaScript 中直接使用 <code>CSS Module</code> 的特性以及 SCSS 声明的变量。</p><pre><code class="hljs language-jsx">import svars from &#x27;variables.scss&#x27;;
import styles from &#x27;Component.module.scss&#x27;;

// Render DOM with CSS modules class name
// &lt;div className={styles.componentClass}&gt;
//   &lt;canvas ref={mountsCanvas}/&gt;
// &lt;/div&gt;

// Somewhere in JavaScript canvas drawing code use the variable directly
// const ctx = mountsCanvas.current.getContext(&#x27;2d&#x27;,{alpha: false});
ctx.fillStyle = `${svars.colorBackgroundCanvas}`;
</code></pre><h2><span id="contributing"></span>Contributing<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果您还没有阅读，请花一点时间阅读我们的贡献指南。</p><p><a href="https://github.com/webpack-contrib/css-loader/blob/master/.github/CONTRIBUTING.md">贡献</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/css-loader/blob/master/LICENSE">MIT</a></p><h1><span id="exports-loader"></span>exports-loader<a href="#exports-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/exports-loader"><img src="https://img.shields.io/npm/v/exports-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/exports-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/exports-loader"><img src="https://david-dm.org/webpack-contrib/exports-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/exports-loader/actions"><img src="https://github.com/webpack-contrib/exports-loader/workflows/exports-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/exports-loader"><img src="https://codecov.io/gh/webpack-contrib/exports-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=exports-loader"><img src="https://packagephobia.now.sh/badge?p=exports-loader" alt="size"/></a></p><p>允许对源文件设置 <code>module.exports</code>/<code>export</code>。</p><p>当源文件不包含 exports 或者有一些内容没有 export 时是有用的。</p><p>想要获取有关兼容性的进一步提示，请查看官方文档中的 <a href="/guides/shimming/">Shimming</a>。</p><blockquote><p>⚠ 默认情况下，loader 生成具名的 ES module。</p><p>⚠ 请注意，原始代码中现有的 exports（<code>export</code>/<code>module.exports</code>/<code>exports</code>）和导出新值可能会导致失败。</p></blockquote><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>exports-loader</code>：</p><pre><code class="hljs language-console">npm install exports-loader --save-dev
</code></pre><h3><span id="inline"></span>内联<a href="#inline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>可以使用 <code>|</code> 或者 <code>%20</code>（空格）分隔 export 中的 <code>syntax</code>，<code>name</code> 和 <code>alias</code>。
可以在<a href="#syntax">这里</a>获取文档和语法实例。</p><blockquote><p>⚠ <code>%20</code> 是查询字符串中的空格，因为你不能在 URL 中使用空格</p></blockquote><p>然后将 loader 添加到所需的 <code>import</code> 语句或 <code>require</code> 调用中。例如：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> myFunction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;exports-loader?exports=myFunction!./file.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// 向源文件中添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>
<span class="token comment">//</span>
<span class="token comment">// export { myFunction }</span>

<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello world&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>
  myVariable<span class="token punctuation">,</span>
  myFunction<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;exports-loader?exports=myVariable,myFunction!./file.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// 向源文件中添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>
<span class="token comment">//</span>
<span class="token comment">// export { myVariable, myFunction };</span>

<span class="token keyword">const</span> newVariable <span class="token operator">=</span> myVariable <span class="token operator">+</span> <span class="token string">&#x27;!!!&#x27;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVariable<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello world&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  myFunction<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;exports-loader?type=commonjs&amp;exports=myFunction!./file.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 向源文件中添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>
<span class="token comment">//</span>
<span class="token comment">// module.exports = { myFunction }</span>

<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello world&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-js"><span class="token comment">// 替换语法：</span>
<span class="token comment">// import myFunction from &#x27;exports-loader?exports=default%20myFunction!./file.js&#x27;;</span>
<span class="token keyword">import</span> myFunction <span class="token keyword">from</span> <span class="token string">&#x27;exports-loader?exports=default|myFunction!./file.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// `%20` 是查询字符串中的空格，等同于 `default myFunction`</span>
<span class="token comment">// 向源文件中添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>
<span class="token comment">//</span>
<span class="token comment">// exports default myFunction;</span>

<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello world&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">const</span> myFunction <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;exports-loader?type=commonjs&amp;exports=single|myFunction!./file.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// `|` 是查询字符串中的分隔符， 等同于 `single|myFunction`</span>
<span class="token comment">// 向源文件中添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>
<span class="token comment">//</span>
<span class="token comment">// module.exports = myFunction;</span>

<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello world&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> myFunctionAlias <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;exports-loader?exports=named|myFunction|myFunctionAlias!./file.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// `|` 是查询字符串中的分隔符， 等同于 `named|myFunction|myFunctionAlias`</span>
<span class="token comment">// 向源文件中添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>
<span class="token comment">//</span>
<span class="token comment">// exports { myFunction as myFunctionAlias };</span>

<span class="token function">myFunctionAlias</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello world&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>可以在下面的文档中找到字段值的含义。</p><h3><span id="using-configuration"></span>使用配置文件<a href="#using-configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 你可以使用 `regexp`</span>
        <span class="token comment">// test: /vendor\.js/$</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exports<span class="token operator">:</span> <span class="token string">&#x27;myFunction&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>然后用你喜欢的方式运行 <code>webpack</code>。</p><h2><span id="options"></span>配置项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#type"><code>type</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String}</code></span></td><td align="center" data-th="Default"><span><code>module</code></span></td><td align="left" data-th="Description"><span>生成导出的格式</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#exports"><code>exports</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String|Object|Array&lt;String|Object&gt;}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>导出的列表</span></td></tr></tbody></table><h3><span id="type"></span><code>type</code><a href="#type" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String</code>
默认值：<code>module</code></p><p>生成导出的格式</p><p>可选值 - <code>commonjs</code>（CommonJS 模块语法）和 <code>module</code>（ES 模块语法）。</p><h4><span id="commonjs"></span><code>commonjs</code><a href="#commonjs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          exports<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> Foo <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="module"></span><code>module</code><a href="#module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span><span class="token punctuation">,</span>
          exports<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> Foo <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="exports"></span><code>exports</code><a href="#exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String|Array</code>
默认值：<code>undefined</code></p><p>导出的列表。</p><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许使用一个字符串来描述导出。</p><h5><span id="syntax"></span><code>Syntax</code><a href="#syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>可以使用 <code>|</code> 或者 <code>%20</code>（空格）分隔 export 中的 <code>syntax</code>，<code>name</code> 和 <code>alias</code>。</p><p>字符串语法 - <code>[[syntax] [name] [alias]]</code> 或者 <code>[[syntax]|[name]|[alias]]</code>，含义如下：</p><ul><li><p><code>[syntax]</code> (<strong>可以省略</strong>) -</p><ul><li>如果 <code>type</code> 为 <code>module</code>- 可以是 <code>default</code> 和 <code>named</code>,</li><li>如果 <code>type</code> 为 <code>commonjs</code>- 可以使 <code>single</code> 和 <code>multiple</code></li></ul></li><li><p><code>[name]</code> - 导出值的名称 (<strong>必填项</strong>)</p></li><li><p><code>[alias]</code> - 导出值的别名 (<strong>可以省略</strong>)</p></li></ul><p>Examples:</p><ul><li><code>[Foo]</code> - 生成 <code>export { Foo };</code>.</li><li><code>[default Foo]</code> - 生成 <code>export default Foo;</code>.</li><li><code>[named Foo]</code> - 生成 <code>export { Foo };</code>.</li><li><code>[named Foo FooA]</code> - 生成 <code>export { Foo as FooA };</code>.</li><li><code>[single Foo]</code> - 生成 <code>module.exports = Foo;</code>.</li><li><code>[multiple Foo]</code> - 生成 <code>module.exports = { Foo };</code>.</li><li><code>[multiple Foo FooA]</code> - 生成 <code>module.exports = { &#x27;FooA&#x27;: Foo };</code>.</li><li><code>[named [name] [name]Alias]</code> - 生成名为 exports 的 ES 模块，并导出等于另一个名称下的文件名的值., 对于 <code>single.js</code> 将会是 <code>single</code> and 和<code>singleAlias</code>, 生成 <code>export { single as singleAlias };</code>.</li></ul><blockquote><p>⚠ 你需要设置 <code>type: &quot;commonjs&quot;</code> 才能使用 <code>single</code> 或者 <code>multiple</code> 语法。</p></blockquote><blockquote><p>⚠ 别名不能与 <code>default</code> 或者 <code>single</code> 语法一起使用。</p></blockquote><h5><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><h6><span id="es-module-default-export"></span>ES Module Default Export<a href="#es-module-default-export" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exports<span class="token operator">:</span> <span class="token string">&#x27;default Foo&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Foo<span class="token punctuation">;</span></code></pre><h6><span id="es-module-named-exports"></span>ES Module Named Exports<a href="#es-module-named-exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exports<span class="token operator">:</span> <span class="token string">&#x27;named Foo FooA&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> Foo <span class="token keyword">as</span> FooA <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="commonjs-single-export"></span>CommonJS Single Export<a href="#commonjs-single-export" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          exports<span class="token operator">:</span> <span class="token string">&#x27;single Foo&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Foo<span class="token punctuation">;</span></code></pre><h6><span id="commonjs-multiple-exports"></span>CommonJS 导出多个<a href="#commonjs-multiple-exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          exports<span class="token operator">:</span> <span class="token string">&#x27;multiple Foo FooA&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> FooA<span class="token operator">:</span> Foo <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许使用对象来描述导出。</p><p>属性：</p><ul><li><code>syntax</code> - 对于 <code>module</code> 类型（<code>ES modules</code> 模块格式）可以是 <code>default</code> 或者 <code>named</code>，对于 <code>commonjs</code> 类型（<code>CommonJS</code> 模块格式）可以是 <code>single</code> 或者 <code>multiple</code>（<strong>可以省略</strong>）</li><li><code>name</code> - 导出值的名称 (<strong>required</strong>)</li><li><code>alias</code> - 导出值的别名 (<strong>may be omitted</strong>)</li></ul><h5><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><h6><span id="es-module-default-export"></span>ES Module 默认导出<a href="#es-module-default-export" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exports<span class="token operator">:</span> <span class="token punctuation">{</span>
            syntax<span class="token operator">:</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Foo<span class="token punctuation">;</span></code></pre><h6><span id="es-module-named-exports"></span>ES Module 重命名导出<a href="#es-module-named-exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exports<span class="token operator">:</span> <span class="token punctuation">{</span>
            syntax<span class="token operator">:</span> <span class="token string">&#x27;named&#x27;</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
            alias<span class="token operator">:</span> <span class="token string">&#x27;FooA&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> Foo <span class="token keyword">as</span> FooA <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="commonjs-single-export"></span>CommonJS 单个导出<a href="#commonjs-single-export" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          exports<span class="token operator">:</span> <span class="token punctuation">{</span>
            syntax<span class="token operator">:</span> <span class="token string">&#x27;single&#x27;</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Foo<span class="token punctuation">;</span></code></pre><h6><span id="commonjs-multiple-exports"></span>CommonJS 导出多个<a href="#commonjs-multiple-exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          exports<span class="token operator">:</span> <span class="token punctuation">{</span>
            syntax<span class="token operator">:</span> <span class="token string">&#x27;multiple&#x27;</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
            alias<span class="token operator">:</span> <span class="token string">&#x27;FooA&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> FooA<span class="token operator">:</span> Foo <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="array"></span><code>Array</code><a href="#array" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许指定多个导出。 每一个可以是 <a href="https://github.com/webpack-contrib/exports-loader#string"><code>string</code></a> 或者 <a href="https://github.com/webpack-contrib/exports-loader#object"><code>object</code></a>.</p><blockquote><p>⚠ 因为 CommonJS 格式限制，不能将 <code>single</code> 与 <code>multiple</code> 语法一起使用。</p></blockquote><blockquote><p>⚠ 因为 ES module 格式限制，不能导出多个 <code>default</code> 值。</p></blockquote><blockquote><p>⚠ 因为 CommonJS 格式限制，不能导出多个 <code>single</code> 值。</p></blockquote><h5><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><h6><span id="commonjs-multiple-exports"></span>CommonJS 导出多个<a href="#commonjs-multiple-exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          exports<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;multiple Bar&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;multiple Baz BazA&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> Foo<span class="token punctuation">,</span> Bar<span class="token punctuation">,</span> BazA<span class="token operator">:</span> Bar <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="es-module-default-export-and-named-exports-together"></span>ES 默认导出与导出重命名<a href="#es-module-default-export-and-named-exports-together" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exports<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;default Foo&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;named Bar BarA&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Foo<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> Bar <span class="token keyword">as</span> BarA <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h6><span id="named-exports"></span>导出重命名<a href="#named-exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/vendor.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;exports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exports<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> syntax<span class="token operator">:</span> <span class="token string">&#x27;named&#x27;</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span> alias<span class="token operator">:</span> <span class="token string">&#x27;FooA&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> syntax<span class="token operator">:</span> <span class="token string">&#x27;named&#x27;</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#x27;Bar&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&#x27;Baz&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成的输出结果：</p><pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> Foo <span class="token keyword">as</span> FooA<span class="token punctuation">,</span> Bar<span class="token punctuation">,</span> Baz <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果您还没有阅读，请花一点时间阅读我们的贡献指南。</p><p><a href="https://github.com/webpack-contrib/exports-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/exports-loader/blob/master/LICENSE">MIT</a></p><h1><span id="expose-loader"></span>expose-loader<a href="#expose-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/expose-loader"><img src="https://img.shields.io/npm/v/expose-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/expose-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/expose-loader"><img src="https://david-dm.org/webpack-contrib/expose-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/expose-loader/actions"><img src="https://github.com/webpack-contrib/expose-loader/workflows/expose-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/expose-loader"><img src="https://codecov.io/gh/webpack-contrib/expose-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=expose-loader"><img src="https://packagephobia.now.sh/badge?p=expose-loader" alt="size"/></a></p><p><code>expose-loader</code> 允许暴露一个模块（整体或者部分）给全局对象（<code>self</code>、<code>window</code> 和 <code>global</code>）。</p><p>想要获取有关兼容性的进一步提示，请查看官方文档中的 <a href="/guides/shimming/">Shimming</a>。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>expose-loader</code>：</p><pre><code class="hljs language-console">npm install expose-loader --save-dev
</code></pre><p>（如果你在使用 webpack4，请安装 <code>expose-loader@1</code> 并按照 <a href="https://v4.webpack.docschina.org/loaders/expose-loader/">相应说明</a> 进行配置。）</p><p>然后你可以用两种方法来用 <code>expose-loader</code>。</p><h2><span id="inline"></span>内联<a href="#inline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>可以使用 <code>|</code> 或者 <code>%20</code>（空格）分隔 expose 中的 <code>globalName</code>、<code>moduleLocalName</code> 和 <code>override</code>。
可以在<a href="#syntax">这里</a>获取文档和语法实例。</p><blockquote><p>⚠ <code>%20</code> 是查询字符串中的空格，因为你不能在 URL 中使用空格</p></blockquote><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;expose-loader?exposes=$,jQuery!jquery&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">//</span>
<span class="token comment">// 将 `jquery` 添加到全局对象中，其名称为 `$` 和 `jQuery`</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> concat <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;expose-loader?exposes=_.concat!lodash/concat&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">//</span>
<span class="token comment">// 将 `lodash/concat` 添加到全局对象中，其名称为 `_.concat`</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>
  map<span class="token punctuation">,</span>
  reduce<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;expose-loader?exposes=_.map|map,_.reduce|reduce!underscore&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">//</span>
<span class="token comment">// 将 `underscore` 中的 `map` 和 `reduce` 方法分别添加到全局对象中，其名称为 `_.map` 和 `_.reduce`</span></code></pre><h2><span id="using-configuration"></span>使用配置文件<a href="#using-configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;expose-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exposes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;jQuery&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;expose-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exposes<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&#x27;_.map|map&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              globalName<span class="token operator">:</span> <span class="token string">&#x27;_.reduce&#x27;</span><span class="token punctuation">,</span>
              moduleLocalName<span class="token operator">:</span> <span class="token string">&#x27;reduce&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              globalName<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;_&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;filter&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              moduleLocalName<span class="token operator">:</span> <span class="token string">&#x27;filter&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><a href="https://nodejs.org/api/modules.html#modules_require_resolve_request_options"><code>require.resolve</code></a> 调用是一个 Node.js 函数（和 webpack 进程中的 <code>require.resolve</code> 无关）。
<code>require.resolve</code> 给出模块的绝对路径 (<code>&quot;/.../app/node_modules/jquery/dist/jquery.js&quot;</code>)。
所以 expose 只应用于 <code>jquery</code> 模块。并且只会在 bundle 中使用时才会被暴露。</p><p>然后用你喜欢的方式运行 <code>webpack</code>。</p><h2><span id="options"></span>配置项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#exposes"><code>exposes</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String|Object|Array&lt;String|Object&gt;}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>List of exposes</span></td></tr></tbody></table><h3><span id="exposes"></span><code>exposes</code><a href="#exposes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String|Object|Array&lt;String|Object&gt;</code>
默认值：<code>undefined</code></p><p>List of exposes.</p><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许用一个 string 来描述 expose。</p><h5><span id="syntax"></span><code>Syntax</code><a href="#syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>可以使用 <code>|</code> 或者 <code>%20</code>（空格）分隔 expose 中的 <code>globalName</code>、<code>moduleLocalName</code> 和 <code>override</code>。</p><p>字符串语法 - <code>[[globalName] [moduleLocalName] [override]]</code> 或者 <code>[[globalName]|[moduleLocalName]|[override]]</code>，含义如下：</p><ul><li><code>globalName</code> - 全局对象的名称，比如 <code>window.$</code> 用于浏览器环境（<strong>必填项</strong>）</li><li><code>moduleLocalName</code> - 模块的方法／变量／等的名称（该模块必须导出它）（<strong>可以省略</strong>）</li><li><code>override</code> - 允许覆盖在全局对象中存在的值（<strong>可以省略</strong>）</li></ul><p>如果 <code>moduleLocalName</code> 没有指定，它将整个模块暴露给全局对象，否则它只暴露 <code>moduleLocalName</code> 的值。</p><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;expose-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// 对于 `underscore`，它可以是 `_.map map` 或者 `_.map|map`</span>
          exposes<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许用一个对象来描述 expose。</p><h5><span id="globalname"></span><code>globalName</code><a href="#globalname" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String|Array&lt;String&gt;</code>
默认值：<code>undefined</code></p><p>全局对象中的名字。（<strong>必填项</strong>）。</p><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;expose-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exposes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 可以是 `[&#x27;_&#x27;, &#x27;filter&#x27;]`</span>
            globalName<span class="token operator">:</span> <span class="token string">&#x27;_.filter&#x27;</span><span class="token punctuation">,</span>
            moduleLocalName<span class="token operator">:</span> <span class="token string">&#x27;filter&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="modulelocalname"></span><code>moduleLocalName</code><a href="#modulelocalname" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>String</code>
默认值：<code>undefined</code></p><p>模块中的方法／变量／等的名称（该模块必须导出它）。
如果指定了 <code>moduleLocalName</code>，它只暴露 <code>moduleLocalName</code> 的值。</p><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;expose-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exposes<span class="token operator">:</span> <span class="token punctuation">{</span>
            globalName<span class="token operator">:</span> <span class="token string">&#x27;_.filter&#x27;</span><span class="token punctuation">,</span>
            moduleLocalName<span class="token operator">:</span> <span class="token string">&#x27;filter&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="override"></span><code>override</code><a href="#override" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>类型：<code>Boolean</code>
默认值：<code>false</code></p><p>默认情况下，loader 不会覆盖全局对象中的现有值，因为它是不安全的。
在 <code>development</code> 模式下，如果值已经出现在全局对象中则抛出一个错误。
但是你可以使用此选项配置 loader 以覆盖全局对象中的现有值。</p><p>为了强制覆盖已经存在在全局对象中的现有值，你可以设置 <code>override</code> 选项值为 <code>true</code>。</p><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;expose-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exposes<span class="token operator">:</span> <span class="token punctuation">{</span>
            globalName<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
            override<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="array"></span><code>Array</code><a href="#array" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;underscore&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;expose-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          exposes<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&#x27;_.map map&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              globalName<span class="token operator">:</span> <span class="token string">&#x27;_.filter&#x27;</span><span class="token punctuation">,</span>
              moduleLocalName<span class="token operator">:</span> <span class="token string">&#x27;filter&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              globalName<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;_&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;find&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              moduleLocalName<span class="token operator">:</span> <span class="token string">&#x27;myNameForFind&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>它将 <strong>只</strong> 暴露 <code>map</code>、<code>filter</code> 和 <code>find</code> 方法（名称为 <code>myNameForFind</code>） 给全局对象。</p><p>在浏览器中，这些方法可以在 <code>windows._.map(..args)</code>、<code>windows._.filter(...args)</code> 和 <code>windows._.myNameForFind(...args)</code> 下使用。</p><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还没有阅读，请花一点时间阅读我们的贡献指南。</p><p><a href="https://github.com/webpack-contrib/expose-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/expose-loader/blob/master/LICENSE">MIT</a></p><h1><span id="html-loader"></span>html-loader<a href="#html-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/html-loader"><img src="https://img.shields.io/npm/v/html-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/html-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/html-loader"><img src="https://david-dm.org/webpack-contrib/html-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/html-loader/actions"><img src="https://github.com/webpack-contrib/html-loader/workflows/html-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/html-loader"><img src="https://codecov.io/gh/webpack-contrib/html-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=html-loader"><img src="https://packagephobia.now.sh/badge?p=html-loader" alt="size"/></a></p><p>将 HTML 导出为字符串。当编译器需要时，将压缩 HTML 字符串。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>html-loader</code> ：</p><pre><code class="hljs language-console">npm install --save-dev html-loader
</code></pre><p>然后将插件添加到你的 <code>webpack</code> 配置中。例如：</p><p><strong>file.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> html <span class="token keyword">from</span> <span class="token string">&#x27;./file.html&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="options"></span>选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">默认值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><strong><a href="#sources"><code>sources</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean|Object}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="描述"><span>启用/禁用 sources 处理</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#preprocessor"><code>preprocessor</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Function}</code></span></td><td align="center" data-th="默认值"><span><code>undefined</code></span></td><td align="left" data-th="描述"><span>允许在处理前对内容进行预处理</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#minimize"><code>minimize</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean|Object}</code></span></td><td align="center" data-th="默认值"><span>在生产模式下为 <code>true</code>，其他情况为 <code>false</code></span></td><td align="left" data-th="描述"><span>通知 <code>html-loader</code> 压缩 HTML</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#esmodule"><code>esModule</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="描述"><span>启用/禁用 ES modules 语法</span></td></tr></tbody></table><h3><span id="sources"></span><code>sources</code><a href="#sources" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型： <code>Boolean|Object</code>
默认值： <code>true</code></p><p>默认情况下，每个可加载属性（例如 - <code>&lt;img src=&quot;image.png&quot;/&gt;</code> ）都将被导入（ <code>const img = require (&#x27;./image.png&#x27;)</code> 或 <code>import img from &quot;./image.png&quot;&quot;</code> ）。
你可能需要为配置中的图片指定 loader（推荐使用 <a href="/guides/asset-modules/"><code>asset modules</code></a>）。</p><p>支持的标签和属性：</p><ul><li><code>audio</code> 标签的 <code>src</code> 属性</li><li><code>embed</code> 标签的 <code>src</code> 属性</li><li><code>img</code> 标签的 <code>src</code> 属性</li><li><code>img</code> 标签的 <code>srcset</code> 属性</li><li><code>input</code> 标签的 <code>src</code> 属性</li><li><code>object</code> 标签的 <code>data</code> 属性</li><li><code>script</code> 标签的 <code>src</code> 属性</li><li><code>script</code> 标签的 <code>href</code> 属性</li><li><code>script</code> 标签的 <code>xlink:href</code> 属性</li><li><code>source</code> 标签的 <code>src</code> 属性</li><li><code>source</code> 标签的 <code>srcset</code> 属性</li><li><code>track</code> 标签的 <code>src</code> 属性</li><li><code>video</code> 标签的 <code>poster</code> 属性</li><li><code>video</code> 标签的 <code>src</code> 属性</li><li><code>image</code> 标签的 <code>xlink:href</code> 属性</li><li><code>image</code> 标签的 <code>href</code> 属性</li><li><code>use</code> 标签的 <code>xlink:href</code> 属性</li><li><code>use</code> 标签的 <code>href</code> 属性</li><li>当 <code>rel</code> 属性值包含 <code>stylesheet</code>、<code>icon</code>、<code>shortcut icon</code>、<code>mask-icon</code>、<code>apple-touch-icon</code>、<code>apple-touch-icon-precomposed</code>、<code>apple-touch-startup-image</code>、<code>manifest</code>、<code>prefetch</code>、<code>preload</code> 或者当 <code>itemprop</code> 属性为 <code>image</code>、<code>logo</code>、<code>screenshot</code>、<code>thumbnailurl</code>、<code>contenturl</code>、<code>downloadurl</code>、<code>duringmedia</code>、<code>embedurl</code>、<code>installurl</code>、<code>layoutimage</code> 时，支持 <code>link</code> 标签的 <code>href</code> 属性</li><li>当 <code>rel</code> 属性值包含 <code>stylesheet</code>、<code>icon</code>、<code>shortcut icon</code>、<code>mask-icon</code>、<code>apple-touch-icon</code>、<code>apple-touch-icon-precomposed</code>、<code>apple-touch-startup-image</code>、<code>manifest</code>、<code>prefetch</code>、<code>preload</code>时，支持 <code>link</code> 标签的 <code>imagesrcset</code> 属性</li><li>当 <code>name</code> 属性为 <code>msapplication-tileimage</code>、<code>msapplication-square70x70logo</code>、<code>msapplication-square150x150logo</code>、<code>msapplication-wide310x150logo</code>、<code>msapplication-square310x310logo</code>、<code>msapplication-config</code>、<code>twitter:image</code> 或者当 <code>property</code> 属性为 <code>og:image</code>、<code>og:image:url</code>、<code>og:image:secure_url</code>、<code>og:audio</code>、<code>og:audio:secure_url</code>、<code>og:video</code>、<code>og:video:secure_url</code>、<code>vk:image</code>，支持 <code>meta</code> 标签的 <code>content</code> 属性。</li><li>当 <code>name</code> 属性为 <code>msapplication-task</code> 时，支持 <code>meta</code> 标签的 <code>content</code> 属性中的 <code>icon-uri</code> 值组件</li></ul><h4><span id="boolean"></span><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>当设置为 <code>true</code> 时，则启用所有默认元素和属性的处理，而 <code>false</code> 则禁用所有属性的处理。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// Disables attributes processing</span>
          sources<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>你可以配置要处理的标签和属性，来过滤它们，过滤 URL 并处理以 <code>/</code> 开头的资源地址。</p><p>例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          sources<span class="token operator">:</span> <span class="token punctuation">{</span>
            list<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token comment">// All default supported tags and attributes</span>
              <span class="token string">&#x27;...&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                tag<span class="token operator">:</span> <span class="token string">&#x27;img&#x27;</span><span class="token punctuation">,</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;data-src&#x27;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                tag<span class="token operator">:</span> <span class="token string">&#x27;img&#x27;</span><span class="token punctuation">,</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;data-srcset&#x27;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;srcset&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token function-variable function">urlFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">attribute<span class="token punctuation">,</span> value<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token comment">// `attribute` 参数包含一个 HTML 属性的名称。</span>
              <span class="token comment">// `value` 参数包含一个 HTML 属性的值。</span>
              <span class="token comment">// `resourcePath` 参数包含一个已加载 HTML 文件的路径。</span>

              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/example\.pdf$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="list"></span><code>list</code><a href="#list" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>类型：<code>Array</code>
默认值：<a href="#sources">支持的标签和属性列表</a></p><p>允许设置要处理的标签和属性以及处理方式，以及过滤其中一些标签和属性的能力。</p><p>使用 <code>...</code> 语法可以使用所有<a href="#sources">默认支持的标签和属性</a>。</p><p>例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          sources<span class="token operator">:</span> <span class="token punctuation">{</span>
            list<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token comment">// All default supported tags and attributes</span>
              <span class="token string">&#x27;...&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                tag<span class="token operator">:</span> <span class="token string">&#x27;img&#x27;</span><span class="token punctuation">,</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;data-src&#x27;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                tag<span class="token operator">:</span> <span class="token string">&#x27;img&#x27;</span><span class="token punctuation">,</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;data-srcset&#x27;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;srcset&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token comment">// Tag name</span>
                tag<span class="token operator">:</span> <span class="token string">&#x27;link&#x27;</span><span class="token punctuation">,</span>
                <span class="token comment">// Attribute name</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;href&#x27;</span><span class="token punctuation">,</span>
                <span class="token comment">// Type of processing, can be `src` or `scrset`</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
                <span class="token comment">// Allow to filter some attributes</span>
                <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> attribute<span class="token punctuation">,</span> attributes<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token comment">// The `tag` argument contains a name of the HTML tag.</span>
                  <span class="token comment">// The `attribute` argument contains a name of the HTML attribute.</span>
                  <span class="token comment">// The `attributes` argument contains all attributes of the tag.</span>
                  <span class="token comment">// The `resourcePath` argument contains a path to the loaded HTML file.</span>

                  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/my-html\.html$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex">/stylesheet/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>attributes<span class="token punctuation">.</span>rel<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token keyword">if</span> <span class="token punctuation">(</span>
                    attributes<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span>
                    attributes<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&#x27;text/css&#x27;</span>
                  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>如果未指定标签名称，它将处理所有标签。</p><blockquote><p>你可以使用自定义过滤器指定要处理的 html 元素。</p></blockquote><p>例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          sources<span class="token operator">:</span> <span class="token punctuation">{</span>
            list<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token comment">// Attribute name</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
                <span class="token comment">// Type of processing, can be `src` or `scrset`</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
                <span class="token comment">// Allow to filter some attributes (optional)</span>
                <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> attribute<span class="token punctuation">,</span> attributes<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token comment">// The `tag` argument contains a name of the HTML tag.</span>
                  <span class="token comment">// The `attribute` argument contains a name of the HTML attribute.</span>
                  <span class="token comment">// The `attributes` argument contains all attributes of the tag.</span>
                  <span class="token comment">// The `resourcePath` argument contains a path to the loaded HTML file.</span>

                  <span class="token comment">// choose all HTML tags except img tag</span>
                  <span class="token keyword">return</span> tag<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&#x27;img&#x27;</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>filter 也可以用来扩展支持的元素和属性。</p><p>例如，filter 可以帮助处理引用资源的 meta 标签：</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          sources<span class="token operator">:</span> <span class="token punctuation">{</span>
            list<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                tag<span class="token operator">:</span> <span class="token string">&#x27;meta&#x27;</span><span class="token punctuation">,</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;content&#x27;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
                <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> attribute<span class="token punctuation">,</span> attributes<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>
                    attributes<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#x27;og:image&#x27;</span> <span class="token operator">||</span>
                    attributes<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&#x27;twitter:image&#x27;</span>
                  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>请注意：</strong> 带有 <code>tag</code> 配置项的 source 优先级要比没有 <code>tag</code> 配置项的高。</p><p>filter 可以用于禁用默认 source。</p><p>示例：</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          sources<span class="token operator">:</span> <span class="token punctuation">{</span>
            list<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&#x27;...&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                tag<span class="token operator">:</span> <span class="token string">&#x27;img&#x27;</span><span class="token punctuation">,</span>
                attribute<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span>
                <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="urlfilter"></span><code>urlFilter</code><a href="#urlfilter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>类型：<code>Function</code>
默认值： <code>undefined</code></p><p>允许配置要过滤的 url。所有过滤的 url 都参与解析（会保持原样）。
默认情况下，所有非请求资源类型的值（例如 <code>&lt;img src=&quot;javascript:void (0)&quot; /&gt;</code> ）都不处理。</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          sources<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">urlFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">attribute<span class="token punctuation">,</span> value<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token comment">// The `attribute` argument contains a name of the HTML attribute.</span>
              <span class="token comment">// The `value` argument contains a value of the HTML attribute.</span>
              <span class="token comment">// The `resourcePath` argument contains a path to the loaded HTML file.</span>

              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/example\.pdf$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="preprocessor"></span><code>preprocessor</code><a href="#preprocessor" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Function</code>
默认值：<code>undefined</code></p><p>允许在处理之前对内容进行预处理。</p><blockquote><p>⚠ 你应该始终返回有效的 HTML</p></blockquote><p><strong>file.hbs</strong></p><pre><code class="hljs language-hbs">&lt;div&gt;
  &lt;p&gt;{{firstname}} {{lastname}}&lt;/p&gt;
  &lt;img src=&quot;image.png&quot; alt=&quot;alt&quot; /&gt;
&lt;div&gt;
</code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>你可以将 <code>preprocessor</code> 选项设置为 <code>Function</code> 实例。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> Handlebars <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;handlebars&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.hbs$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">preprocessor</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> result<span class="token punctuation">;</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>
              result <span class="token operator">=</span> Handlebars<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                firstname<span class="token operator">:</span> <span class="token string">&#x27;Value&#x27;</span><span class="token punctuation">,</span>
                lastname<span class="token operator">:</span> <span class="token string">&#x27;OtherValue&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              loaderContext<span class="token punctuation">.</span><span class="token function">emitError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token keyword">return</span> content<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>你还可以将 <code>preprocessor</code> 选项设置为异步函数实例。</p><p>例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> Handlebars <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;handlebars&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.hbs$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">preprocessor</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> result<span class="token punctuation">;</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>
              result <span class="token operator">=</span> <span class="token keyword">await</span> Handlebars<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                firstname<span class="token operator">:</span> <span class="token string">&#x27;Value&#x27;</span><span class="token punctuation">,</span>
                lastname<span class="token operator">:</span> <span class="token string">&#x27;OtherValue&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">await</span> loaderContext<span class="token punctuation">.</span><span class="token function">emitError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token keyword">return</span> content<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="minimize"></span><code>minimize</code><a href="#minimize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean|Object</code>
默认值：在生产模式下为 <code>true</code> ，否则为 <code>false</code></p><p>告诉 <code>html-loader</code> 编译时需要压缩 HTML 字符串。</p><h4><span id="boolean"></span><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>默认情况下，启用压缩的规则如下：</p><pre><code class="hljs language-js"><span class="token punctuation">(</span><span class="token punctuation">{</span>
  caseSensitive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  collapseWhitespace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  conservativeCollapse<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  keepClosingSlash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  minifyCSS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  minifyJS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  removeComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  removeRedundantAttributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  removeScriptTypeAttributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  removeStyleLinkTypeAttributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><p>关于可用选项的更多信息，请参阅 <a href="https://github.com/DanielRuf/html-minifier-terser">html-minifier-terser</a> 文档。</p><p>可以在 <code>webpack.conf.js</code> 中使用以下选项来禁用规则</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          minimize<span class="token operator">:</span> <span class="token punctuation">{</span>
            removeComments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            collapseWhitespace<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="esmodule"></span><code>esModule</code><a href="#esmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：<code>false</code></p><p>默认情况下， <code>html-loader</code> 生成使用 ES modules 语法的 JS 模块。
在某些情况下，使用 ES modules 会更好，例如在进行<a href="/plugins/module-concatenation-plugin/">模块合并</a>和 <a href="/guides/tree-shaking/">tree shaking</a> 时。</p><p>你可以使用以下方法启用 CommonJS 模块语法：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          esModule<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="disable-url-resolving-using-the--comment"></span>使用 <code>&lt;!-- webpackIgnore: true --&gt;</code> 注释禁用 url 解析<a href="#disable-url-resolving-using-the--comment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>通过 <code>&lt;!-- webpackIgnore: true --&gt;</code> 注释，可以禁止处理下一个标签的源。</p><pre><code class="hljs language-html"><span class="token comment">&lt;!-- 禁止对 src 属性进行 url 处理 --&gt;</span>
<span class="token comment">&lt;!-- webpackIgnore: true --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 禁止对 src 与 srcset 属性进行 url 处理 --&gt;</span>
<span class="token comment">&lt;!-- webpackIgnore: true --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
  <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image.png 480w, image.png 768w<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image.png<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Elva dressed as a fairy<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 禁止对 content 属性进行 url 处理 --&gt;</span>
<span class="token comment">&lt;!-- webpackIgnore: true --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./image.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 禁止对 href 属性进行 url 处理 --&gt;</span>
<span class="token comment">&lt;!-- webpackIgnore: true --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>192x192<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./image.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><h3><span id="roots"></span>roots<a href="#roots" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>使用 <a href="/configuration/resolve/#resolveroots"><code>resolve.roots</code></a> 可以指定解析相对服务端的 URL（以 &#x27;/&#x27; 开头）请求的目录列表。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.jpg$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/resource&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    roots<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;fixtures&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>file.html</strong></p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/image.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><pre><code class="hljs language-js"><span class="token comment">// =&gt; image.jpg in __dirname/fixtures will be resolved</span></code></pre><h3><span id="cdn"></span>CDN<a href="#cdn" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.jpg$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/resource&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.png$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/inline&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> <span class="token string">&#x27;http://cdn.example.com/[fullhash]/&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>file.html</strong></p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image2x.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><p><strong>index.js</strong></p><pre><code class="hljs language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;html-loader!./file.html&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// =&gt; &#x27;&lt;img src=&quot;http://cdn.example.com/49eba9f/a992ca.jpg&quot; data-src=&quot;image2x.png&quot;/&gt;&#x27;</span></code></pre><pre><code class="hljs language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;html-loader?{&quot;sources&quot;:{&quot;list&quot;:[{&quot;tag&quot;:&quot;img&quot;,&quot;attribute&quot;:&quot;data-src&quot;,&quot;type&quot;:&quot;src&quot;}]}}!./file.html&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// =&gt; &#x27;&lt;img src=&quot;image.jpg&quot; data-src=&quot;data:image/png;base64,...&quot; /&gt;&#x27;</span></code></pre><pre><code class="hljs language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;html-loader?{&quot;sources&quot;:{&quot;list&quot;:[{&quot;tag&quot;:&quot;img&quot;,&quot;attribute&quot;:&quot;src&quot;,&quot;type&quot;:&quot;src&quot;},{&quot;tag&quot;:&quot;img&quot;,&quot;attribute&quot;:&quot;data-src&quot;,&quot;type&quot;:&quot;src&quot;}]}}!./file.html&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// =&gt; &#x27;&lt;img src=&quot;http://cdn.example.com/49eba9f/a992ca.jpg&quot; data-src=&quot;data:image/png;base64,...&quot; /&gt;&#x27;</span></code></pre><h3><span id="process-script-and-link-tags"></span>处理 <code>script</code> 和 <code>link</code> 标签<a href="#process-script-and-link-tags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>script.file.js</strong></p><pre><code class="hljs language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>style.file.css</strong></p><pre><code class="hljs language-css"><span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>file.html</strong></p><pre><code class="hljs language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title of the document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./style.file.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    Content of the document......
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./script.file.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/resource&#x27;</span><span class="token punctuation">,</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">&#x27;[name][ext]&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;extract-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js$/i</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\.file.js$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.file.js$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/resource&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\.file.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.file.css$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/resource&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="templating"></span>模板<a href="#templating" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>你可以使用任何模板系统。以下是 <a href="https://handlebarsjs.com/">handlebars</a> 的示例。</p><p><strong>file.hbs</strong></p><pre><code class="hljs language-hbs">&lt;div&gt;
  &lt;p&gt;{{firstname}} {{lastname}}&lt;/p&gt;
  &lt;img src=&quot;image.png&quot; alt=&quot;alt&quot; /&gt;
&lt;div&gt;
</code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> Handlebars <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;handlebars&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.hbs$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">preprocessor</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> result<span class="token punctuation">;</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>
              result <span class="token operator">=</span> Handlebars<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                firstname<span class="token operator">:</span> <span class="token string">&#x27;Value&#x27;</span><span class="token punctuation">,</span>
                lastname<span class="token operator">:</span> <span class="token string">&#x27;OtherValue&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              loaderContext<span class="token punctuation">.</span><span class="token function">emitError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token keyword">return</span> content<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="posthtml"></span>PostHTML<a href="#posthtml" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>你可以使用 <a href="https://github.com/posthtml/posthtml">PostHTML</a> 而无需任何其他加载程序。</p><p><strong>file.html</strong></p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> posthtml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;posthtml&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> posthtmlWebp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;posthtml-webp&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.hbs$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">preprocessor</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> result<span class="token punctuation">;</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>
              result <span class="token operator">=</span> <span class="token function">posthtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>plugin<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span> sync<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              loaderContext<span class="token punctuation">.</span><span class="token function">emitError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token keyword">return</span> content<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> result<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="export-into-html-files"></span>导出为 HTML 文件<a href="#export-into-html-files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>一种非常常见的情况是将 HTML 导出到自己的 <em>.html</em> 文件中，以直接使用，
而非注入到 javascript。
可以使用以下 2 种 loader 的组合来实现：</p><ul><li><a href="https://github.com/peerigon/extract-loader">extract-loader</a></li><li>html-loader</li></ul><p>还有 <a href="/guides/asset-modules/"><code>asset modules</code></a></p><p>html-loader 将解析 URL，同时引入图片以及你需要的所有内容。
extract loader 会将 javascript 解析为正确的 html 文件，
然后确保图片被引入且路径正确，
<a href="/guides/asset-modules/"><code>asset modules</code></a> 会为你生成 <em>.html</em> 文件。例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    assetModuleFilename<span class="token operator">:</span> <span class="token string">&#x27;[name][ext]&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/resource&#x27;</span><span class="token punctuation">,</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">&#x27;[name][ext]&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;extract-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;html-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还没有阅读，请花一点时间阅读我们的贡献指南。</p><p><a href="https://github.com/webpack-contrib/html-loader/blob/master/.github/CONTRIBUTING.md">贡献</a></p><h2><span id="license"></span>许可证<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/html-loader/blob/master/LICENSE">MIT</a></p><h1><span id="imports-loader"></span>imports-loader<a href="#imports-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://www.npmjs.com/package/imports-loader"><img src="https://img.shields.io/npm/v/imports-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/imports-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/imports-loader"><img src="https://david-dm.org/webpack-contrib/imports-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/imports-loader/actions"><img src="https://github.com/webpack-contrib/imports-loader/workflows/imports-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/imports-loader"><img src="https://codecov.io/gh/webpack-contrib/imports-loader/branch/master/graph/badge.svg" alt="cover"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=imports-loader"><img src="https://packagephobia.now.sh/badge?p=imports-loader" alt="size"/></a></p><p>imports loader 允许使用依赖于特定全局变量的模块。</p><p>这对于依赖 <code>window</code> 对象下的全局变量（比如 <code>$</code> 或 <code>this</code> ）的第三方模块非常有用。
imports loader 可以添加必要的 <code>require(&#x27;whatever&#x27;)</code> 调用，因此这些模块可以与 webpack 一起使用。</p><p>有关兼容性问题的进一步提示，可以查看官方文档中的 <a href="/guides/shimming/">Shimming</a>。</p><blockquote><p>⚠ 默认情况下，loader 生成具名 ES module。</p></blockquote><blockquote><p>⚠ 请注意，在原始代码中已存在的 imports（<code>import</code>/<code>require</code>）与引入新值会导致失败。</p></blockquote><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>imports-loader</code>：</p><pre><code class="hljs language-console">npm install imports-loader --save-dev
</code></pre><p>如果你有这个文件：</p><p><strong>example.js</strong></p><pre><code class="hljs language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#x27;img&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSomeAwesomeJqueryPluginStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>然后你可以使用两个方法来配置 <code>imports-loader</code>，就可以把 <code>jquery</code> 值注入到模块中。</p><h3><span id="inline"></span>内联<a href="#inline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>可以使用 <code>|</code> 或者 <code>%20</code>（空格）分隔 import 语句中的 <code>syntax</code>、<code>moduleName</code>、<code>name</code> 和 <code>alias</code>。
可以在 <a href="#syntax">这里</a> 获取文档和语法示例。</p><blockquote><p>⚠ <code>%20</code> 是查询字符串中的空格，因为你不能在 URL 中使用空格。</p></blockquote><pre><code class="hljs language-js"><span class="token comment">// 可供选择的语法：</span>
<span class="token comment">//</span>
<span class="token comment">// import myLib from &#x27;imports-loader?imports=default%20jquery%20$!./example.js&#x27;;</span>
<span class="token comment">//</span>
<span class="token comment">// `%20` 是查询字符串中的空格，相当于 `default jquery $`</span>
<span class="token keyword">import</span> myLib <span class="token keyword">from</span> <span class="token string">&#x27;imports-loader?imports=default|jquery|$!./example.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// 在 example.js 的开头添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// import $ from &quot;jquery&quot;;</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">import</span> myLib <span class="token keyword">from</span> <span class="token string">&#x27;imports-loader?imports=default|jquery|$,angular!./example.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// `|` 是查询字符串中的分隔符，相当于 `default|jquery|$` 与 `angular`</span>
<span class="token comment">// 在 example.js 的开头添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// import $ from &quot;jquery&quot;;</span>
<span class="token comment">// import angular from &quot;angular&quot;;</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">import</span> myLib <span class="token keyword">from</span> <span class="token string">&#x27;imports-loader?imports=named|library|myMethod,angular!./example.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// `|` 是查询字符串中的分隔符，相当于 `named|library|myMethod` 与 `angular`</span>
<span class="token comment">// 在 example.js 的开头添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// import { myMethod } from &quot;library&quot;;</span>
<span class="token comment">// import angular from &quot;angular&quot;;</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">const</span> myLib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">imports-loader?type=commonjs&amp;imports=single|jquery|$,angular!./example.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// `|` 是查询字符串中的分隔符，相当于 `single|jquery|$` 与 `angular`</span>
<span class="token comment">// 在 example.js 的开头添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// var $ = require(&quot;jquery&quot;);</span>
<span class="token comment">// var angular = require(&quot;angular&quot;);</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">const</span> myLib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">imports-loader?type=commonjs&amp;imports=single|myLib|myMethod&amp;wrapper=window&amp;!./example.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// `|` 是查询字符串中的分隔符，相当于 `single|myLib|myMethod` 与 `angular`</span>
<span class="token comment">// 在 example.js 中添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// const myMethod = require(&#x27;myLib&#x27;);</span>
<span class="token comment">//</span>
<span class="token comment">// (function () {</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span>
<span class="token comment">// }.call(window));</span></code></pre><pre><code class="hljs language-js"><span class="token keyword">import</span> myLib <span class="token keyword">from</span> <span class="token string">&#x27;imports-loader?additionalCode=var%20myVariable%20=%20false;!./example.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// 在 example.js 的开头添加如下代码：</span>
<span class="token comment">//</span>
<span class="token comment">// var myVariable = false;</span>
<span class="token comment">//</span>
<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h3><span id="using-configuration"></span>使用配置项<a href="#using-configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 你可以使用 `regexp`</span>
        <span class="token comment">// test: /example\.js/$</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&#x27;default jquery $&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;default lib_2 lib_2_default&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;named lib_3 lib2_method_1&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;named lib_3 lib2_method_2 lib_2_method_2_short&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;namespace lib_4 my_namespace&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;side-effects lib_5&#x27;</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  syntax<span class="token operator">:</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span>
                  moduleName<span class="token operator">:</span> <span class="token string">&#x27;angular&#x27;</span><span class="token punctuation">,</span>
                  name<span class="token operator">:</span> <span class="token string">&#x27;angular&#x27;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lib_2_default <span class="token keyword">from</span> <span class="token string">&#x27;lib_2&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lib2_method_1<span class="token punctuation">,</span> lib2_method_2 <span class="token keyword">as</span> lib_2_method_2_short <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;lib_3&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> my_namespace <span class="token keyword">from</span> <span class="token string">&#x27;lib_4&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#x27;lib_5&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> angular <span class="token keyword">from</span> <span class="token string">&#x27;angular&#x27;</span><span class="token punctuation">;</span></code></pre><p>然后用你喜欢的方式运行 <code>webpack</code></p><h2><span id="options"></span>配置项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#type"><code>type</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String}</code></span></td><td align="center" data-th="Default"><span><code>module</code></span></td><td align="left" data-th="Description"><span>生成 import 的格式</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#imports"><code>imports</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String|Object|Array&lt;String|Object&gt;}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>import 列表</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#wrapper"><code>wrapper</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Boolean|String|Object}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>关闭函数中的模块代码 (<code>(function () { ... }).call();</code>)</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#additionalcode"><code>additionalCode</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>添加自定义代码</span></td></tr></tbody></table><h3><span id="type"></span><code>type</code><a href="#type" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String</code>
默认值：<code>module</code></p><p>生成 exports 的格式。</p><p>可选值 - <code>commonjs</code> （CommonJS module 语法） 和 <code>module</code> （ES module 语法）。</p><h4><span id="commonjs"></span><code>commonjs</code><a href="#commonjs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          syntax<span class="token operator">:</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          imports<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">var</span> Foo <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h4><span id="module"></span><code>module</code><a href="#module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span><span class="token punctuation">,</span>
          imports<span class="token operator">:</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">&#x27;Foo&#x27;</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h3><span id="imports"></span><code>imports</code><a href="#imports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String|Object|Array&lt;String|Object&gt;</code>
默认值：<code>undefined</code></p><p><code>import</code> 列表。</p><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许使用字符串描述 <code>export</code>。</p><h5><span id="syntax"></span><code>Syntax</code><a href="#syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>使用 <code>|</code> 或者 <code>%20</code>（空格）分隔 import 中的 <code>syntax</code>、<code>moduleName</code>、<code>name</code> 与 <code>alias</code>。</p><p>字符串语法 - <code>[[syntax] [moduleName] [name] [alias]]</code> 或者 <code>[[syntax]|[moduleName]|[name]|[alias]]</code>，其含义为：</p><ul><li><p><code>[syntax]</code> (<strong>可以被省略</strong>):</p><ul><li>如果 <code>type</code> 值为 <code>module</code>- 可以是 <code>default</code>、<code>named</code>、<code>namespace</code> 或者 <code>side-effects</code>，默认值为 <code>default</code>。</li><li>如果 <code>type</code> 值为 <code>commonjs</code>- 可以是 <code>single</code>、<code>multiple</code> 或者 <code>pure</code>，默认值为 <code>single</code>。</li></ul></li><li><p><code>[moduleName]</code> - 被导入模块的名称(<strong>必填</strong>)</p></li><li><p><code>[name]</code> - 被导入值的名称(<strong>必填</strong>)</p></li><li><p><code>[alias]</code> - 被导入值的别名(<strong>可以被省略</strong>)</p></li></ul><p>示例：</p><p>如果 type 值为 <code>module</code>：</p><ul><li><code>[Foo]</code> - 生成 <code>import Foo from &quot;Foo&quot;;</code>.</li><li><code>[default Foo]</code> - 生成 <code>import Foo from &quot;Foo&quot;;</code>.</li><li><code>[default ./my-lib Foo]</code> - 生成 <code>import Foo from &quot;./my-lib&quot;;</code>.</li><li><code>[named Foo FooA]</code> - 生成 <code>import { FooA } from &quot;Foo&quot;;</code>.</li><li><code>[named Foo FooA Bar]</code> - 生成 <code>import { FooA as Bar } from &quot;Foo&quot;;</code>.</li><li><code>[namespace Foo FooA]</code> - 生成 <code>import * as FooA from &quot;Foo&quot;;</code>.</li><li><code>[side-effects Foo]</code> - 生成 <code>import &quot;Foo&quot;;</code>.</li></ul><p>如果 type 值为 <code>commonjs</code>：</p><ul><li><code>[Foo]</code> - 生成 <code>const Foo = require(&quot;Foo&quot;);</code>.</li><li><code>[single Foo]</code> - 生成 <code>const Foo = require(&quot;Foo&quot;);</code>.</li><li><code>[single ./my-lib Foo]</code> - 生成 <code>const Foo = require(&quot;./my-lib&quot;);</code>.</li><li><code>[multiple Foo FooA Bar]</code> - 生成 <code>const { FooA: Bar } = require(&quot;Foo&quot;);</code>.</li><li><code>[pure Foo]</code> - 生成 <code>require(&quot;Foo&quot;);</code>.</li></ul><blockquote><p>⚠ 你需要设置 <code>type: &quot;commonjs&quot;</code> 以使用 <code>single</code>、<code>multiple</code> 与 <code>pure</code> 语法。</p></blockquote><blockquote><p>⚠ Aliases 不能与 <code>default</code>、<code>namespace</code>、<code>side-effects</code>、<code>single</code> 与 <code>pure</code> 语法同时使用。</p></blockquote><h6><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><h6><span id="es-module-default-import"></span>ES Module 默认导入<a href="#es-module-default-import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          imports<span class="token operator">:</span> <span class="token string">&#x27;default lib myName&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> myName <span class="token keyword">from</span> <span class="token string">&#x27;lib&#x27;</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h6><span id="commonjs-single-import"></span>CommonJS Single Import<a href="#commonjs-single-import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./path/to/example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">&#x27;commonjs&#x27;</span><span class="token punctuation">,</span>
          imports<span class="token operator">:</span> <span class="token string">&#x27;single lib myName&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">var</span> myName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;lib&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许使用一个对象来描述 <code>import</code>。</p><p>属性：</p><ul><li><p><code>syntax</code>:</p><ul><li>如果 <code>type</code> 值为 <code>module</code>- 可以是 <code>default</code>、<code>named</code>、<code>namespace</code> 或 <code>side-effects</code></li><li>如果 <code>type</code> 值为 <code>commonjs</code>- 可以是 single<code>、</code>multiple<code>或</code>pure`</li></ul></li><li><p><code>moduleName</code> - 被导入模块的名称 (<strong>必填</strong>)</p></li><li><p><code>name</code> - 被导入值的名称 (<strong>必填</strong>)</p></li><li><p><code>alias</code> - 被导入值的别名 (<strong>可以被省略</strong>)</p></li></ul><blockquote><p>⚠ Alias 不能与 <code>default</code>、<code>namespace</code>、<code>side-effects</code>、<code>single</code> 与 <code>pure</code> 语法同时使用。</p></blockquote><h5><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">{</span>
                syntax<span class="token operator">:</span> <span class="token string">&#x27;named&#x27;</span><span class="token punctuation">,</span>
                moduleName<span class="token operator">:</span> <span class="token string">&#x27;lib_2&#x27;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#x27;lib2_method_2&#x27;</span><span class="token punctuation">,</span>
                alias<span class="token operator">:</span> <span class="token string">&#x27;lib_2_method_2_alias&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> lib2_method_2 <span class="token keyword">as</span> lib_2_method_2_alias <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;lib_2&#x27;</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h4><span id="array"></span><code>Array</code><a href="#array" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许指定多个导入。
每一项可以为 <a href="https://github.com/webpack-contrib/imports-loader#string"><code>string</code></a> 或者 <a href="https://github.com/webpack-contrib/imports-loader#object"><code>object</code></a>。</p><h5><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                  moduleName<span class="token operator">:</span> <span class="token string">&#x27;angular&#x27;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  syntax<span class="token operator">:</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span>
                  moduleName<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
                  name<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;default lib_2 lib_2_default&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;named lib_2 lib2_method_1&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;named lib_2 lib2_method_2 lib_2_method_2_alias&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;namespace lib_3 lib_3_all&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;side-effects lib_4&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> angular <span class="token keyword">from</span> <span class="token string">&#x27;angular&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lib_2_default <span class="token keyword">from</span> <span class="token string">&#x27;lib_2&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lib2_method_1<span class="token punctuation">,</span> lib2_method_2 <span class="token keyword">as</span> lib_2_method_2_alias <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;lib_2&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> lib_3_all <span class="token keyword">from</span> <span class="token string">&#x27;lib_3&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#x27;lib_4&#x27;</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h3><span id="wrapper"></span><code>wrapper</code><a href="#wrapper" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean|String|Object</code>
默认值：<code>undefined</code></p><p>用给定的 <code>thisArg</code> 和 <code>args</code> 关闭函数中的模块代码 (<code>(function () { ... }).call();</code>)。</p><blockquote><p>⚠ 如果源码中包含 ES module <code>import</code> 的话，请不要使用该配置。</p></blockquote><h4><span id="boolean"></span><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">{</span>
                moduleName<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              wrapper<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// Code</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">{</span>
                moduleName<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              wrapper<span class="token operator">:</span> <span class="token string">&#x27;window&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// Code</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">{</span>
                moduleName<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              wrapper<span class="token operator">:</span> <span class="token punctuation">{</span>
                thisArg<span class="token operator">:</span> <span class="token string">&#x27;window&#x27;</span><span class="token punctuation">,</span>
                args<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;myVariable&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;myOtherVariable&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">myVariable<span class="token punctuation">,</span> myOtherVariable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// Code</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> myVariable<span class="token punctuation">,</span> myOtherVariable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4><span id="object-with-different-parameter-names"></span><code>Object</code> with different parameter names<a href="#object-with-different-parameter-names" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">{</span>
                moduleName<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              wrapper<span class="token operator">:</span> <span class="token punctuation">{</span>
                thisArg<span class="token operator">:</span> <span class="token string">&#x27;window&#x27;</span><span class="token punctuation">,</span>
                args<span class="token operator">:</span> <span class="token punctuation">{</span>
                  myVariable<span class="token operator">:</span> <span class="token string">&#x27;var1&#x27;</span><span class="token punctuation">,</span>
                  myOtherVariable<span class="token operator">:</span> <span class="token string">&#x27;var2&#x27;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">var1<span class="token punctuation">,</span> var2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// Code</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> myVariable<span class="token punctuation">,</span> myOtherVariable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3><span id="additionalcode"></span><code>additionalCode</code><a href="#additionalcode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String</code>
默认值：<code>undefined</code></p><p>在模块代码之前添加自定义代码作为前导。</p><h4><span id="examples"></span>Examples<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><h5><span id="define-custom-variable"></span>定义自定义变量<a href="#define-custom-variable" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">{</span>
                moduleName<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              additionalCode<span class="token operator">:</span> <span class="token string">&#x27;var myVariable = false;&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> myVariable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h5><span id="disable-amd-import-syntax"></span>Disable AMD Import Syntax<a href="#disable-amd-import-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;example.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;imports-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              imports<span class="token operator">:</span> <span class="token punctuation">{</span>
                moduleName<span class="token operator">:</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              additionalCode<span class="token operator">:</span>
                <span class="token string">&#x27;var define = false; /* Disable AMD for misbehaving libraries */&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>生成输出：</p><pre><code class="hljs language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> define <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">/* Disable AMD for misbehaving libraries */</span>

<span class="token comment">// ...</span>
<span class="token comment">// Code</span>
<span class="token comment">// ...</span></code></pre><h2><span id="contributing"></span>Contributing<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还没有阅读，请花一点时间阅读我们的贡献指南。</p><p><a href="https://github.com/webpack-contrib/imports-loader/blob/master/.github/CONTRIBUTING.md">贡献指南</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/imports-loader/blob/master/LICENSE">MIT</a></p><h1><span id="Loaders"></span>Loaders<a href="#Loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<p>Webpack 支持使用 <a href="/concepts/loaders">loader</a> 对文件进行预处理。你可以构建包括 JavaScript 在内的任何静态资源。并且可以使用 Node.js 轻松编写自己的 loader。</p><p>在 <code>require()</code> 语句中使用 <code>loadername!</code> 作为前缀的方式来使用 loader，或者在 webpack 配置中配置 regex 来自动应用它们 - 请参阅 <a href="/concepts/loaders/#configuration">配置</a> 。</p><h2><span id="files"></span>文件<a href="#files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><ul><li><a href="/loaders/val-loader"><code>val-loader</code></a> 将代码作为模块执行，并将其导出为 JS 代码</li><li><a href="https://www.npmjs.com/package/ref-loader"><code>ref-loader</code></a> 用于手动建立文件之间的依赖关系</li></ul><h2><span id="json"></span>JSON<a href="#json" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><ul><li><a href="https://github.com/awnist/cson-loader"><code>cson-loader</code></a> 加载并转换 <a href="https://github.com/bevry/cson#what-is-cson">CSON</a> 文件</li></ul><h2><span id="transpiling"></span>语法转换<a href="#transpiling" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><ul><li><a href="/loaders/babel-loader"><code>babel-loader</code></a> 使用 <a href="https://babeljs.io/">Babel</a> 加载 ES2015+ 代码并将其转换为 ES5</li><li><a href="https://github.com/privatenumber/esbuild-loader"><code>esbuild-loader</code></a> 加载 ES2015+ 代码并使用 <a href="https://esbuild.github.io/">esbuild</a> 转译到 ES6+</li><li><a href="https://github.com/sairion/buble-loader"><code>buble-loader</code></a> 使用 <a href="https://buble.surge.sh/guide/">Bublé</a> 加载 ES2015+ 代码并将其转换为 ES5</li><li><a href="https://github.com/jupl/traceur-loader"><code>traceur-loader</code></a> 使用 <a href="https://github.com/google/traceur-compiler#readme">Traceur</a> 加载 ES2015+ 代码并将其转换为 ES5</li><li><a href="https://github.com/TypeStrong/ts-loader"><code>ts-loader</code></a> 像加载 JavaScript 一样加载 <a href="https://www.typescriptlang.org/">TypeScript</a> 2.0+</li><li><a href="/loaders/coffee-loader"><code>coffee-loader</code></a> 像加载 JavaScript 一样加载 <a href="http://coffeescript.org/">CoffeeScript</a></li><li><a href="https://github.com/fengari-lua/fengari-loader/"><code>fengari-loader</code></a> 使用 <a href="https://fengari.io/">fengari</a> 加载 Lua 代码</li><li><a href="https://github.com/elm-community/elm-webpack-loader"><code>elm-webpack-loader</code></a> 像加载 JavaScript 一样加载 <a href="https://elm-lang.org/">Elm</a></li></ul><h2><span id="templating"></span>模板<a href="#templating" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><ul><li><a href="/loaders/html-loader"><code>html-loader</code></a> 将 HTML 导出为字符串，需要传入静态资源的引用路径</li><li><a href="https://github.com/pugjs/pug-loader"><code>pug-loader</code></a> 加载 Pug 和 Jade 模板并返回一个函数</li><li><a href="https://github.com/peerigon/markdown-loader"><code>markdown-loader</code></a> 将 Markdown 编译为 HTML</li><li><a href="https://github.com/javiercf/react-markdown-loader"><code>react-markdown-loader</code></a> 使用 markdown-parse 解析器将 Markdown 编译为 React 组件</li><li><a href="https://github.com/posthtml/posthtml-loader"><code>posthtml-loader</code></a> 使用 <a href="https://github.com/posthtml/posthtml">PostHTML</a> 加载并转换 HTML 文件</li><li><a href="https://github.com/pcardune/handlebars-loader"><code>handlebars-loader</code></a> 将 Handlebars 文件编译为 HTML</li><li><a href="https://github.com/asnowwolf/markup-inline-loader"><code>markup-inline-loader</code></a> 将 SVG/MathML 文件内嵌到 HTML 中。在将图标字体或 CSS 动画应用于 SVG 时，此功能非常实用。</li><li><a href="https://github.com/zimmo-be/twig-loader"><code>twig-loader</code></a> 编译 Twig 模板并返回一个函数</li><li><a href="https://github.com/webpack-contrib/remark-loader"><code>remark-loader</code></a> 通过 <code>remark</code> 加载 markdown，且支持解析内容中的图片</li></ul><h2><span id="styling"></span>样式<a href="#styling" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><ul><li><a href="/loaders/style-loader"><code>style-loader</code></a> 将模块导出的内容作为样式并添加到 DOM 中</li><li><a href="/loaders/css-loader"><code>css-loader</code></a> 加载 CSS 文件并解析 import 的 CSS 文件，最终返回 CSS 代码</li><li><a href="/loaders/less-loader"><code>less-loader</code></a> 加载并编译 LESS 文件</li><li><a href="/loaders/sass-loader"><code>sass-loader</code></a> 加载并编译 SASS/SCSS 文件</li><li><a href="/loaders/postcss-loader"><code>postcss-loader</code></a> 使用 <a href="http://postcss.org">PostCSS</a> 加载并转换 CSS/SSS 文件</li><li><a href="/loaders/stylus-loader/"><code>stylus-loader</code></a> 加载并编译 Stylus 文件</li></ul><h2><span id="frameworks"></span>框架<a href="#frameworks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><ul><li><a href="https://github.com/vuejs/vue-loader"><code>vue-loader</code></a> 加载并编译 <a href="https://vuejs.org/v2/guide/components.html">Vue 组件</a></li><li><a href="https://github.com/TheLarkInn/angular2-template-loader"><code>angular2-template-loader</code></a> 加载并编译 <a href="https://angular.io/">Angular</a> 组件</li></ul><h2><span id="awesome"></span>Awesome<a href="#awesome" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>有关更多第三方 loader，请参阅 <a href="/awesome-webpack/#Loaders">awesome-webpack</a> 中的列表。</p><h1><span id="less-loader"></span>less-loader<a href="#less-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/less-loader"><img src="https://img.shields.io/npm/v/less-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/less-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/less-loader"><img src="https://david-dm.org/webpack-contrib/less-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/less-loader/actions"><img src="https://github.com/webpack-contrib/less-loader/workflows/less-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/less-loader"><img src="https://codecov.io/gh/webpack-contrib/less-loader/branch/master/graph/badge.svg" alt="cover"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=less-loader"><img src="https://packagephobia.now.sh/badge?p=less-loader" alt="size"/></a></p><p>webpack 将 Less 编译为 CSS 的 loader。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要先安装 <code>less</code> 和 <code>less-loader</code>：</p><pre><code class="hljs language-console">npm install less less-loader --save-dev
</code></pre><p>然后将该 loader 添加到 <code>webpack</code> 的配置中去，例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// compiles Less to CSS</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>接着使用你习惯的方式运行 <code>webpack</code>。</p><h2><span id="options"></span>可选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">默认值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><strong><a href="#lessoptions"><code>lessOptions</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Object|Function}</code></span></td><td align="center" data-th="默认值"><span><code>{ relativeUrls: true }</code></span></td><td align="left" data-th="描述"><span>Less 的可选项。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#additionaldata"><code>additionalData</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{String|Function}</code></span></td><td align="center" data-th="默认值"><span><code>undefined</code></span></td><td align="left" data-th="描述"><span>在入口文件起始或末尾添加 Less 代码。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#sourcemap"><code>sourceMap</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>compiler.devtool</code></span></td><td align="left" data-th="描述"><span>是否生成 source map。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#webpackimporter"><code>webpackImporter</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="描述"><span>是否启用默认的 webpack importer。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#implementation"><code>implementation</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Object|String}</code></span></td><td align="center" data-th="默认值"><span><code>less</code></span></td><td align="left" data-th="描述"><span>配置 Less 使用的实现库</span></td></tr></tbody></table><h3><span id="lessoptions"></span><code>lessOptions</code><a href="#lessoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型: <code>Object|Function</code>
默认值: <code>{ relativeUrls: true }</code></p><p>通过 <code>lessOptions</code> 属性，你可以设置 <a href="/configuration/module/#ruleoptions--rulequery">loader options</a> 中的任意特定的选项值给 <code>less-loader</code>。所有可用的选项值请参看 <a href="http://lesscss.org/usage/#command-line-usage-options">Less 命令行可选参数文档</a>。由于我们是通过编程的方式将这些选项传递给 Less，因此您需要将破折号（dash-case）转换为驼峰值（camelCase）后传递它们。</p><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>使用对象（Object）的形式传递 options 给 Less。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              lessOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                strictMath<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许根据 loader 的 context 来设置 options，再传递给 Less。</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">lessOptions</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 更多可用的属性见 https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.less&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token punctuation">{</span>
                    paths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;absolute/path/c&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;absolute/path/d&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                  paths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;absolute/path/a&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;absolute/path/b&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="additionaldata"></span><code>additionalData</code><a href="#additionaldata" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型: <code>String|Function</code>
默认值: <code>undefined</code></p><p>在实际入口文件的起始位置添加 <code>Less</code> 代码。
这种情况下，<code>less-loader</code> 只会<strong>追加</strong>并不会覆盖文件内容。</p><p>当你的 Less 变量依赖环境变量时这个属性将非常有用：</p><blockquote><p>ℹ 由于你注入了代码，因此它将破坏入口文件的源映射关系。通常有比这更简单的解决方案，例如多个 Less 入口文件。</p></blockquote><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              additionalData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@env: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><h5><span id="Sync"></span>Sync<a href="#Sync" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">additionalData</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 更多可用的属性见 https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.less&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">&#x27;@value: 100px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">&#x27;@value: 200px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="Async"></span>Async<a href="#Async" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">additionalData</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// More information about available properties https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.less&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">&#x27;@value: 100px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">&#x27;@value: 200px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="sourcemap"></span><code>sourceMap</code><a href="#sourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型: <code>Boolean</code>
默认值: 取决于 <code>compiler.devtool</code> 的值</p><p>默认生成的 source map 取决于 <code>compiler.devtool</code> 的值。除了值等于 <code>eval</code> 和 <code>false</code> 外，其他值都能生成 source map</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="webpackimporter"></span><code>webpackImporter</code><a href="#webpackimporter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：<code>true</code></p><p>启用/禁用 webpack 默认的 importer。</p><p>在某些情况下，这样做可以提高性能，但是请慎用，因为可能会使得 aliases 和以 <code>~</code> 开头的 <code>@import</code> 规则失效。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              webpackImporter<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="implementation"></span><code>implementation</code><a href="#implementation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Object | String</code></p><blockquote><p>⚠ less-loader 已兼容 Less 3 和 Less 4。</p></blockquote><p>特殊的 <code>implementation</code> 选项决定使用 Less 的哪个实现。重载本地安装的 <code>less</code> 的 <code>peerDependency</code> 版本。</p><p><strong>此选项只对下游的工具作者有效，以便于 Less 3 到 Less 4 的过渡。</strong></p><h4><span id="Object"></span>Object<a href="#Object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              implementation<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;less&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span>String<a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              implementation<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;less&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="normal-usage"></span>常规用法<a href="#normal-usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>将 <code>less-loader</code>、<a href="/loaders/css-loader/"><code>css-loader</code></a> 和 <a href="/loaders/style-loader/"><code>style-loader</code></a> 串联起来使用可立即将所有样式应用于 DOM。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 从 JS 中创建样式节点</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 转化 CSS 为 CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 编译 Less 为 CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>不幸的是，Less 并没有将所有选项 1 对 1 映射为 camelCase（驼峰值）。如有疑问，请<a href="https://github.com/less/less.js/blob/3.x/bin/lessc">检查执行文件</a>并搜索破折号选项。</p><h3><span id="source-maps"></span>Source maps<a href="#source-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>为了生成 CSS 的 source map, 你需要在 loader 的可选项中设置 <code>sourceMap</code> 属性。如果没设置的话 loader 将会继承你 webpack 中为生成 source map 设置的属性值 <code>devtool</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">&#x27;source-map&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 任何类似于 &quot;source-map&quot; 的  devtool 值都可以</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>如果你想在 Chrome 中修改原始的 Less 文件，可以参考<a href="https://medium.com/@toolmantim/getting-started-with-css-sourcemaps-and-in-browser-sass-editing-b4daab987fb0">这篇不错的博客</a>。这篇博客虽然写的 Sass，但也适合于 Less。</p><h3><span id="in-production"></span>生产环境<a href="#in-production" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>在生产环境中推荐使用 <a href="/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a> 来提取样式表到专门的文件中，这样你的样式就不需要依赖 JavaScript。</p><h3><span id="imports"></span>导入<a href="#imports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>首先我们会尝试使用内置 <code>less</code> 解析逻辑，然后再使用 <code>webpack</code> 解析逻辑（alias 和 <code>~</code>）。</p><h4><span id="webpack-resolver"></span>webpack 解析器<a href="#webpack-resolver" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><code>webpack</code> 提供了一种 <a href="/configuration/resolve/">解析文件的高级机制</a>。如果 <code>less</code> 不能解析 <code>@import</code> 的话，<code>less-loader</code> 作为 Less 的插件将所有的查询结果传递给 webpack 解析器。因此你可以从 <code>node_modules</code> 中导入 Less 模块。</p><pre><code class="hljs language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token string">&#x27;bootstrap/less/bootstrap&#x27;</span><span class="token punctuation">;</span></span></code></pre><p><code>~</code> 用法已被废弃，可以从代码中删除（<strong>我们建议这么做</strong>），但是我们会因为一些历史原因一直支持这种写法。
为什么你可以移除它呢？loader 首先会尝试以相对路径解析 <code>@import</code>，如果它不能被解析，loader 将会尝试在 <a href="/configuration/resolve/#resolvemodules"><code>node_modules</code></a> 中解析 <code>@import</code>。
只要在包名前加上 <code>~</code>，告诉 webpack 在 <a href="/configuration/resolve/#resolvemodules"><code>modules</code></a> 中进行查找。</p><pre><code class="hljs language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token string">&#x27;~bootstrap/less/bootstrap&#x27;</span><span class="token punctuation">;</span></span></code></pre><p>可以通过 <a href="/configuration/resolve/#resolvebydependency"><code>resolve.byDependency</code></a> 修改默认解析器配置：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">&#x27;source-map&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// &quot;source-map&quot; 类的 devtool 都是可以的</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    byDependency<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 更多的配置项可以在这里找到 https://webpack.js.org/configuration/resolve/</span>
      less<span class="token operator">:</span> <span class="token punctuation">{</span>
        mainFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;custom&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>在其前面加上 <code>〜</code> 很关键，因为 <code>〜/</code> 会解析到根目录。webpack 需要区分 <code>bootstrap</code> 和 <code>〜bootstrap</code>，因为 CSS 和 Less 文件没有用于导入相对路径文件的特殊语法。写 <code>@import“ file”</code> 等同于 <code>@import“ ./file”;</code></p><h4><span id="less-resolver"></span>Less Resolver<a href="#less-resolver" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>如果指定 <code>paths</code> 选项，将从指定的 <code>paths</code> 中搜索模块，这是 <code>less</code> 的默认行为。<code>paths</code> 应该是具有绝对路径的数组：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              lessOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                paths<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;node_modules&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="plugins"></span>插件<a href="#plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>想要使用 <a href="http://lesscss.org/usage/#plugins">插件</a>，只需要简单设置下 <code>plugins</code> 选项即可，
具体配置如下：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> CleanCSSPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;less-plugin-clean-css&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
    <span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token string">&#x27;less-loader&#x27;</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        lessOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token keyword">new</span> <span class="token class-name">CleanCSSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> advanced<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><blockquote><p>ℹ️ 使用 <code>pluginManager.webpackLoaderContext</code> 属性可以访问自定义插件中的 <a href="/api/loaders/#the-loader-context">loader context</a>。</p></blockquote><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">install</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">less<span class="token punctuation">,</span> pluginManager<span class="token punctuation">,</span> functions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    functions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#x27;pi&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Loader context is available in `pluginManager.webpackLoaderContext`</span>

      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="extracting-style-sheets"></span>提取样式<a href="#extracting-style-sheets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>通过 webpack 打包 CSS 有很多好处，比如给引用图片和字体文件路径添加 hash, 在开发环境可以 <a href="/concepts/hot-module-replacement/">模块热替换</a>。另一方面，在生产环境，根据 JS 来控制应用样式表不是一个好的方式，可能会导致延迟渲染，甚至可能会出现<a href="https://en.wikipedia.org/wiki/Flash_of_unstyled_content">闪烁现象</a>。因此，在你最终的生产环境中将它们拆分成单独的文件来存放通常是比较好的选择。</p><p>有两种从 bundle 中提取样式表的方式：</p><ul><li><a href="https://github.com/peerigon/extract-loader"><code>extract-loader</code></a> （简单，但得专门指定 <code>css-loader</code> 的 output）</li><li><a href="/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a> （较复杂，但适用于所有的场景）</li></ul><h3><span id="css-modules-gotcha"></span>CSS modules 陷阱<a href="#css-modules-gotcha" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Less 和 <a href="https://github.com/css-modules/css-modules">CSS modules</a> 有一个已知的问题，关于 <code>url（...）</code> 语句中的相对文件路径，<a href="https://github.com/webpack-contrib/less-loader/issues/109#issuecomment-253797335">看下这个问题的解释</a>。</p><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还没有看过我们的贡献者指南请先花点时间看一下。</p><p><a href="https://github.com/webpack-contrib/less-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>许可<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/less-loader/blob/master/LICENSE">MIT</a></p><h1><span id="node-loader"></span>node-loader<a href="#node-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/node-loader"><img src="https://img.shields.io/npm/v/node-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/node-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/node-loader"><img src="https://david-dm.org/webpack-contrib/node-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/node-loader/actions"><img src="https://github.com/webpack-contrib/node-loader/workflows/node-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/node-loader"><img src="https://codecov.io/gh/webpack-contrib/node-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=node-loader"><img src="https://packagephobia.now.sh/badge?p=node-loader" alt="size"/></a></p><p>处理 <a href="https://nodejs.org/dist/latest/docs/api/addons.html">Node.js 插件（add-ons）</a> 的 loader。</p><p>允许使用 <code>.node</code> 拓展名与原生 node module 相关联。</p><blockquote><p>⚠ <code>node-loader</code> 只对 <code>node</code>/<code>electron-main</code>/<code>electron-main</code>/<code>electron-renderer</code>/<code>electron-preload</code> 生效。</p></blockquote><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>node-loader</code>：</p><pre><code class="hljs language-console">npm install node-loader --save-dev
</code></pre><p>设置 <code>target</code> 配置项为 <code>node</code>/<code>async-node</code>/<code>electron-main</code>/<code>electron-renderer</code>/<code>electron-preload</code>，并且需禁用 <code>__dirname</code> 全局变量。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">&#x27;node&#x27;</span><span class="token punctuation">,</span>
  node<span class="token operator">:</span> <span class="token punctuation">{</span>
    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.node$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;node-loader&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="inline"></span>内联<a href="#inline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> node <span class="token keyword">from</span> <span class="token string">&#x27;node-loader!./file.node&#x27;</span><span class="token punctuation">;</span></code></pre><p>然后通过你喜欢的方式运行 <code>webpack</code>。</p><h3><span id="configuration"></span>配置<a href="#configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> node <span class="token keyword">from</span> <span class="token string">&#x27;file.node&#x27;</span><span class="token punctuation">;</span></code></pre><p>然后在你的 <code>webpack</code> 配置中添加该 loader。例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">&#x27;node&#x27;</span><span class="token punctuation">,</span>
  node<span class="token operator">:</span> <span class="token punctuation">{</span>
    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.node$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;node-loader&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>然后通过你喜欢的方式运行 <code>webpack</code>。</p><h2><span id="options"></span>选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#flags"><code>flags</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Number}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>启用/禁用 <code>url</code>/<code>image-set</code> 函数处理</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#name"><code>name</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String|Function}</code></span></td><td align="center" data-th="Default"><span><code>&#x27;[contenthash].[ext]&#x27;</code></span></td><td align="left" data-th="Description"><span>指定一个或多个目标文件的自定义文件名模板。</span></td></tr></tbody></table><h3><span id="flags"></span><code>flags</code><a href="#flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Number</code>
默认值：<code>undefined</code></p><p><code>flags</code> 参数是一个允许指定 dlopen 行为的整数。
请查阅 <a href="https://nodejs.org/api/process.html#process_process_dlopen_module_filename_flags"><code>process.dlopen</code></a> 文档了解更多。</p><p><strong>index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> node <span class="token keyword">from</span> <span class="token string">&#x27;file.node&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;os&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">&#x27;node&#x27;</span><span class="token punctuation">,</span>
  node<span class="token operator">:</span> <span class="token punctuation">{</span>
    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.node$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;node-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          flags<span class="token operator">:</span> os<span class="token punctuation">.</span>constants<span class="token punctuation">.</span>dlopen<span class="token punctuation">.</span><span class="token constant">RTLD_NOW</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="name"></span><code>name</code><a href="#name" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String|Function</code>
默认值：<code>&#x27;[contenthash].[ext]&#x27;</code></p><p>指定一个或多个目标文件的自定义文件名模板。</p><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">&#x27;node&#x27;</span><span class="token punctuation">,</span>
  node<span class="token operator">:</span> <span class="token punctuation">{</span>
    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.node$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;node-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&#x27;[path][name].[ext]&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">&#x27;node&#x27;</span><span class="token punctuation">,</span>
  node<span class="token operator">:</span> <span class="token punctuation">{</span>
    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.node$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;node-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> resourceQuery</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// `resourcePath` - `/absolute/path/to/file.js`</span>
            <span class="token comment">// `resourceQuery` - `?foo=bar`</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#x27;development&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token string">&#x27;[path][name].[ext]&#x27;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token string">&#x27;[contenthash].[ext]&#x27;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还未阅读贡献指南，请抽时间进行阅读。</p><p><a href="https://github.com/webpack-contrib/node-loader/blob/master/.github/CONTRIBUTING.md">贡献指南</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/node-loader/blob/master/LICENSE">MIT</a></p><h1><span id="postcss-loader"></span>postcss-loader<a href="#postcss-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/postcss-loader"><img src="https://img.shields.io/npm/v/postcss-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/postcss-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/postcss-loader"><img src="https://david-dm.org/webpack-contrib/postcss-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/postcss-loader/actions"><img src="https://github.com/webpack-contrib/postcss-loader/workflows/postcss-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/postcss-loader"><img src="https://codecov.io/gh/webpack-contrib/postcss-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://packagephobia.now.sh/result?p=postcss-loader"><img src="https://packagephobia.now.sh/badge?p=postcss-loader" alt="size"/></a></p><p>Webpack chat: <a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a></p><p>PostCSS chat: <a href="https://gitter.im/postcss/postcss"><img src="https://badges.gitter.im/postcss/postcss.svg" alt="chat-postcss"/></a></p><p>使用 <a href="https://github.com/postcss/postcss"><code>PostCSS</code></a> 处理 CSS 的 loader。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果要使用最新版本的话，你需要使用 webpack v5。如果使用 webpack v4 的话，你需要安装 postcss-loader v4。</p><p>为了使用本 loader，你需要安装 <code>postcss-loader</code> 和 <code>postcss</code>：</p><pre><code class="hljs language-console">npm install --save-dev postcss-loader postcss
</code></pre><p>然后添加本 loader 的相关配置到你的 <code>webpack</code> 的配置文件。例如：</p><blockquote><p>In the following configuration the plugin <a href="https://github.com/csstools/postcss-preset-env"><code>postcss-preset-env</code></a> is used, which is not installed by default.</p></blockquote><p><strong>file.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> css <span class="token keyword">from</span> <span class="token string">&#x27;file.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span>
                    <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token comment">// 其他选项</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>或者使用 PostCSS 本身的 <a href="#config">配置文件</a>：</p><p><strong>postcss.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 其他选项</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Loader 将会<strong>自动</strong>搜索配置文件。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>最后，通过你喜欢的方式运行 <code>webpack</code>。</p><h2><span id="options"></span>选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">默认值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><a href="#execute"><code>execute</code></a></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>undefined</code></span></td><td align="left" data-th="描述"><span>在 <code>CSS-in-JS</code> 中启动 PostCSS Parser 支持</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#options"><code>postcssOptions</code></a></span></td><td align="center" data-th="类型"><span><code>{Object|Function}</code></span></td><td align="center" data-th="默认值"><span><code>Postcss.process的默认值</code></span></td><td align="left" data-th="描述"><span>设置 <code>PostCSS</code> 选项与插件</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#source-map"><code>sourceMap</code></a></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>compiler.devtool</code></span></td><td align="left" data-th="描述"><span>开启 / 关闭 source map 的生成</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#implementation"><code>implementation</code></a></span></td><td align="center" data-th="类型"><span><code>{Function|String}</code></span></td><td align="center" data-th="默认值"><span><code>postcss</code></span></td><td align="left" data-th="描述"><span>为 PostCSS 设置对应实现并使用</span></td></tr></tbody></table><h3><span id="execute"></span><code>execute</code><a href="#execute" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：<code>undefined</code></p><p>如果你在 JS 文件中编写样式，请使用 <a href="https://github.com/postcss/postcss-js"><code>postcss-js</code></a> parser，并且添加 <code>execute</code> 选项。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.style.js$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                parser<span class="token operator">:</span> <span class="token string">&#x27;postcss-js&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              execute<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="postcss-options"></span><code>postcssOptions</code><a href="#postcss-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Object|Function</code>
默认值：<code>undefined</code></p><p>允许设置 <a href="http://api.postcss.org/global.html#processoptions"><code>PostCSS 选项</code></a> 和插件。</p><p>支持所有的 <code>PostCSS</code> 选项。
这是配置文件中特殊的 <code>配置</code> 选项。它如何工作、如何配置再接下来的部分将会有详细的描述。</p><p>因为可能会导致 source map 中错误的文件路径，我们不推荐使用指定的 <code>from</code>、<code>to</code> 和 <code>map</code> 选项。
如果你需要 source map，请使用 <a href="#source-map"><code>sourcemap</code></a> 选项。</p><h4><span id="Object"></span><code>Object</code><a href="#Object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>设置 <code>plugins</code>：</p><p><strong>webpack.config.js</strong> (<strong>recommended</strong>)</p><pre><code class="hljs language-js"><span class="token keyword">const</span> myOtherPostcssPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;postcss-my-plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.sss$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&#x27;postcss-import&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">&#x27;postcss-short&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;my-postcss-plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">myOtherPostcssPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> myOption<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token comment">// 废弃的，将会在下一个主要版本中移除</span>
              <span class="token punctuation">{</span> <span class="token string">&#x27;postcss-nested&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span> preserveEmpty<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong> （<strong>废弃的</strong>，将会在下一个主要版本中移除）</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.sss$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token string">&#x27;postcss-import&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">&#x27;postcss-short&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>设置 <code>syntax</code>：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.sss$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 可以是 `String`</span>
            syntax<span class="token operator">:</span> <span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">,</span>
            <span class="token comment">// 可以是 `Object`</span>
            syntax<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>设置 <code>parser</code>：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.sss$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 可以是 `String`</span>
            parser<span class="token operator">:</span> <span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">,</span>
            <span class="token comment">// 可以是 `Object`</span>
            parser<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 可以是 `Function`</span>
            parser<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>parse<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>设置 <code>stringifier</code>：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> Midas <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;midas&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> midas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Midas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.sss$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 可以是 `String`</span>
            stringifier<span class="token operator">:</span> <span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">,</span>
            <span class="token comment">// 可以是 `Object`</span>
            stringifier<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 可以是 `Function`</span>
            stringifier<span class="token operator">:</span> midas<span class="token punctuation">.</span>stringifier<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="Function"></span><code>Function</code><a href="#Function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(css|sss)$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/\.sss$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>loaderContext<span class="token punctuation">.</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token punctuation">{</span>
                parser<span class="token operator">:</span> <span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">,</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span><span class="token string">&#x27;postcss-short&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token punctuation">{</span>
              plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">[</span><span class="token string">&#x27;postcss-short&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="config"></span><code>config</code><a href="#config" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>类型：<code>Boolean|String</code>
默认值：<code>undefined</code></p><p>允许使用配置文件设置选项。
在配置文件中指定的选项将会和 loader option 进行合并，并且 loader option 将会覆盖配置文件中的选项。</p><h5><span id="config-files"></span>配置文件<a href="#config-files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>Loader 将会从下面几个地方搜索目录树来寻找配置文件：</p><ul><li><code>package.json</code> 中的 <code>postcss</code> 属性</li><li>JSON 或者 YAML 格式的 <code>.postcssrc</code> 文件</li><li><code>.postcss.json</code>、<code>.postcss.yaml</code>、<code>.postcss.yml</code>、<code>.postcss.js</code> 或者 <code>.postcss.cjs</code> 文件</li><li><code>postcss.config.js</code> 或者 <code>postcss.config.cjs</code> 导出一个对象的 CommonJS 模块（<strong>推荐</strong>）</li></ul><h5><span id="examples-of-config-files"></span>配置文件示例<a href="#examples-of-config-files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>使用 <code>Object</code>：</p><p><strong>postcss.config.js</strong>（<strong>推荐</strong>）</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 你可以指定下面提到的所有选项 https://postcss.org/api/#processoptions</span>
  <span class="token comment">// parser: &#x27;sugarss&#x27;,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// PostCSS 插件</span>
    <span class="token punctuation">[</span><span class="token string">&#x27;postcss-short&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>使用 <code>Function</code>：</p><p><strong>postcss.config.js</strong>（<strong>推荐</strong>）</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// `api.file` - 文件路径</span>
  <span class="token comment">// `api.mode` - webpack 的 `mode` 属性值，请查阅 https://webpack.js.org/configuration/mode/</span>
  <span class="token comment">// `api.webpackLoaderContext` - 在复杂情况下使用的 loader 上下文</span>
  <span class="token comment">// `api.env` - `api.mode` 的别名，与 `postcss-cli` 兼容</span>
  <span class="token comment">// `api.options` - `postcssOptions` 的选项</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/\.sss$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">//你可以指定下面提到的所有选项 https://postcss.org/api/#processoptions here</span>
      parser<span class="token operator">:</span> <span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">,</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// PostCSS 插件</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;postcss-short&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 你可以指定下面提到的所有选项 https://postcss.org/api/#processoptions</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// PostCSS 插件</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;postcss-short&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>postcss.config.js</strong>（<strong>废弃的</strong>，将会在下一个主要版本中移除）</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 你可以指定下面提到的所有选项 https://postcss.org/api/#processoptions</span>
  <span class="token comment">// parser: &#x27;sugarss&#x27;,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// PostCSS 插件</span>
    <span class="token string">&#x27;postcss-short&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token string">&#x27;x&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="config-cascade"></span>配置级联<a href="#config-cascade" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>你可以在不同的目录中使用不同的 <code>postcss.config.js</code> 文件。
配置文件的寻找从 <code>path.dirname(file)</code> 开始根据文件树向上寻找，直至找到一个配置文件。</p><pre><code class="hljs language-js"><span class="token operator">|</span>– components
<span class="token operator">|</span> <span class="token operator">|</span>– component
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>– index<span class="token punctuation">.</span>js
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>– index<span class="token punctuation">.</span>png
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>– style<span class="token punctuation">.</span><span class="token function">css</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>– postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">js</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">|</span> <span class="token operator">|</span>– component
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>– index<span class="token punctuation">.</span>js
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>– image<span class="token punctuation">.</span>png
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>– style<span class="token punctuation">.</span><span class="token function">css</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">|</span>
<span class="token operator">|</span>– postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">js</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token number">2</span> <span class="token punctuation">(</span>recommended<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">|</span>– webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
<span class="token operator">|</span>
<span class="token operator">|</span>– <span class="token keyword">package</span><span class="token punctuation">.</span>json</code></pre><p>在设置 <code>postcss.config.js</code> 之后，将 <code>postcss-loader</code> 添加到 <code>webpack.config.js</code> 中。
你可以单独使用它，或者与 <code>css-loader</code> 结合使用（推荐）。</p><p>在 <code>css-loader</code> 和 <code>style-loader</code> <strong>之前</strong>使用它，但是在其他预处理器（例如：<code>sass|less|stylus-loader</code>）<strong>之后</strong>使用 （因为 <a href="/concepts/loaders/#configuration">webpack loader 从右到左 / 从底到顶执行</a>）。</p><p><strong>webpack.config.js</strong> （<strong>推荐</strong>）</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="boolean"></span>Boolean<a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>开启 / 关闭自动加载配置。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            config<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span>String<a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许指定配置文件路径。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            config<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;custom.config.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="source-map"></span><code>sourceMap</code><a href="#source-map" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：依赖于 <code>compiler.devtool</code> 的值</p><p>默认情况下 source map 的生成依赖于 <a href="/configuration/devtool/"><code>devtool</code></a>选项。
除 <code>eval</code> 和 <code>false</code> 外，其他的值都将打开 source map 生成。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>替代设置：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">&#x27;source-map&#x27;</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="implementation"></span><code>implementation</code><a href="#implementation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Function | String</code>
默认值：<code>postcss</code></p><p>特殊的 <code>implementation</code> 选项决定使用 PostCSS 哪个实现。重载本地安装的 <code>postcss</code> 的 <code>peerDependency</code> 版本。</p><p><strong>此选项只对底层工具的作者有效，以便于 PostCSS 7 到 PostCSS 8 的过渡。</strong></p><h4><span id="function"></span>Function<a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> implementation<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;postcss&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span>String<a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> implementation<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;postcss&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>例子<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="sugarss"></span>SugarSS<a href="#sugarss" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>你需要安装 <code>sugarss</code>：</p><pre><code class="hljs language-console">npm install --save-dev sugarss
</code></pre><p>使用 <a href="https://github.com/postcss/sugarss"><code>SugarSS</code></a> 句法分析器。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.sss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> importLoaders<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                parser<span class="token operator">:</span> <span class="token string">&#x27;sugarss&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="autoprefixer"></span>Autoprefixer<a href="#autoprefixer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>你需要安装 <code>autoprefixer</code>：</p><pre><code class="hljs language-console">npm install --save-dev autoprefixer
</code></pre><p>使用 <a href="https://github.com/postcss/autoprefixer"><code>autoprefixer</code></a> 添加厂商前缀。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> importLoaders<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span>
                    <span class="token string">&#x27;autoprefixer&#x27;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token comment">// 选项</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><blockquote><p>⚠️ <a href="https://github.com/csstools/postcss-preset-env"><code>postcss-preset-env</code></a> 包含 <a href="https://github.com/postcss/autoprefixer"><code>autoprefixer</code></a>，因此如果你已经使用了 preset 就无需单独添加它了。更多 <a href="https://github.com/csstools/postcss-preset-env#autoprefixer">信息</a></p></blockquote><h3><span id="postcss-preset-env"></span>PostCSS Preset Env<a href="#postcss-preset-env" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>你需要安装 <code>postcss-preset-env</code>：</p><pre><code class="hljs language-console">npm install --save-dev postcss-preset-env
</code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> importLoaders<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span>
                    <span class="token string">&#x27;postcss-preset-env&#x27;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token comment">// 选项</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="css-modules"></span>CSS Modules<a href="#css-modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>什么是 <code>CSS Modules</code>？请 <a href="https://github.com/webpack-contrib/css-loader#modules">阅读</a>。</p><p>在 <code>postcss-loader</code> 中没有额外的设置。
为了使他们正常工作，请添加 <code>css-loader</code> 的 <code>importLoaders</code> 选项。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              importLoaders<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="css-in-js-and-postcss-js"></span>CSS-in-JS and <a href="https://github.com/postcss/postcss-js"><code>postcss-js</code></a><a href="#css-in-js-and-postcss-js" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>你需要安装 <code>postcss-js</code>：</p><pre><code class="hljs language-console">npm install --save-dev postcss-js
</code></pre><p>如果你想处理写在 JavaScript 中的样式，那么你需要使用 <a href="https://github.com/postcss/postcss-js"><code>postcss-js</code></a> parser。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.style.js$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                parser<span class="token operator">:</span> <span class="token string">&#x27;postcss-js&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              execute<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>接下来你就可以像下面这样书写样式了</p><pre><code class="hljs language-js"><span class="token keyword">import</span> colors <span class="token keyword">from</span> <span class="token string">&#x27;./styles/colors&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token string">&#x27;.menu&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> colors<span class="token punctuation">.</span>main<span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;&amp;_link&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      color<span class="token operator">:</span> <span class="token string">&#x27;white&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><blockquote><p>⚠️ 如果你正在使用 Babel 且为了程序正常工作，你需要进行下面的步骤：</p></blockquote><blockquote><ol><li>添加 <a href="https://github.com/59naga/babel-plugin-add-module-exports"><code>babel-plugin-add-module-exports</code></a> 到你的配置中。</li><li>你需要在每一个样式模块中有一个<strong>默认</strong>导出。</li></ol></blockquote><h3><span id="extract-cssextractplugin"></span>提取 CSS<a href="#extract-cssextractplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>使用 <a href="/plugins/mini-css-extract-plugin/"><code>mini-css-extract-plugin</code></a>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> isProductionMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#x27;production&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;mini-css-extract-plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> isProductionMode <span class="token operator">?</span> <span class="token string">&#x27;production&#x27;</span> <span class="token operator">:</span> <span class="token string">&#x27;development&#x27;</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          isProductionMode <span class="token operator">?</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader <span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> isProductionMode <span class="token operator">?</span> <span class="token string">&#x27;[name].[contenthash].css&#x27;</span> <span class="token operator">:</span> <span class="token string">&#x27;[name].css&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="emit-assets"></span>触发资源打包<a href="#emit-assets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>要将资源从 PostCSS 插件写到 webpack，需要向 <code>result.messages</code> 中添加一条消息。</p><p>一条符合规范的消息应该包含下面的字段：</p><ul><li><code>type</code> = <code>asset</code> - 消息类型（必需字段，并且应该为 <code>asset</code>）</li><li><code>file</code> - 文件名称（必需）</li><li><code>content</code> - 文件内容（必需）</li><li><code>sourceMap</code> - sourceMap</li><li><code>info</code> - 资源信息</li></ul><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> <span class="token function-variable function">customPlugin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">css<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  result<span class="token punctuation">.</span>messages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">&#x27;asset&#x27;</span><span class="token punctuation">,</span>
    file<span class="token operator">:</span> <span class="token string">&#x27;sprite.svg&#x27;</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token string">&#x27;&lt;svg&gt;...&lt;/svg&gt;&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> postcssPlugin <span class="token operator">=</span> postcss<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#x27;postcss-assets&#x27;</span><span class="token punctuation">,</span> customPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">postcssPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="add-dependencies-contextdependencies-builddependencies-missingdependencies"></span>添加 dependencies、contextDependencies、buildDependencies、missingDependencies<a href="#add-dependencies-contextdependencies-builddependencies-missingdependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>当需要在文件变化时进行重新编译时，webpack 为了理解这样的操作需要添加必要的依赖。</p><p>由两种方式添加依赖：</p><ol><li>（推荐）。插件在 <code>result.messages</code> 中触发消息。</li></ol><p>消息应该包含下面两个字段：</p><ul><li><code>type</code> = <code>dependency</code> - 消息类型（必需字段，并且应该为 <code>dependency</code>、<code>context-dependency</code>、<code>build-dependency</code> 或 <code>missing-dependency</code>）</li><li><code>file</code> - 文件的绝对路径（必需）</li></ul><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">customPlugin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">css<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  result<span class="token punctuation">.</span>messages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">&#x27;dependency&#x27;</span><span class="token punctuation">,</span>
    file<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;path&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;to&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;file&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> postcssPlugin <span class="token operator">=</span> postcss<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#x27;postcss-assets&#x27;</span><span class="token punctuation">,</span> customPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">postcssPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><ol start="2"><li>在插件中传递 <code>loaderContext</code>。</li></ol><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                config<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;path/to/postcss.config.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>postcss.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path/to/customPlugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      loaderContext<span class="token operator">:</span> api<span class="token punctuation">.</span>webpackLoaderContext<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>customPlugin.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">customPlugin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">css<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  loaderContext<span class="token punctuation">.</span>webpack<span class="token punctuation">.</span><span class="token function">addDependency</span><span class="token punctuation">(</span>
    path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;path&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;to&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;file&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> postcss<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#x27;postcss-assets&#x27;</span><span class="token punctuation">,</span> customPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还没有读过我们的贡献指南，请花一点时间阅读它。</p><p><a href="https://github.com/webpack-contrib/postcss-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/postcss-loader/blob/master/LICENSE">MIT</a></p><h1><span id="pug-loader"></span>pug-loader<a href="#pug-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<p>404: Not Found</p><h1><span id="remark-loader"></span>remark-loader<a href="#remark-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/remark-loader"><img src="https://img.shields.io/npm/v/remark-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/remark-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/remark-loader"><img src="https://david-dm.org/webpack-contrib/remark-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/remark-loader/actions"><img src="https://github.com/webpack-contrib/remark-loader/workflows/remark-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/remark-loader"><img src="https://codecov.io/gh/webpack-contrib/remark-loader/branch/master/graph/badge.svg" alt="cover"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=remark-loader"><img src="https://packagephobia.now.sh/badge?p=remark-loader" alt="size"/></a></p><p>通过 <code>remark</code> 加载 markdown。</p><h2><span id="usage"></span>用法<a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>只需将 loader 添加到您的配置中，并设置 options。</p><pre><code class="hljs language-js"><span class="token keyword">import</span> md <span class="token keyword">from</span> <span class="token string">&quot;markdown-file.md&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>md<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> RemarkHTML <span class="token keyword">from</span> <span class="token string">&quot;remark-html&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;html-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              remarkOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>RemarkHTML<span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>下面是 <a href="https://github.com/wooorm/remark/blob/master/doc/plugins.md"><code>remark</code> plugins</a> 的完整列表。</p><p>我们不再支持任何 <code>react</code> 的特殊功能。
如果您对在 JSX 中使用 Markdown 感兴趣，请参阅很棒的 <a href="https://mdxjs.com/">MDX</a> 项目。</p><h2><span id="options"></span>Options<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#remarkoptions"><code>remarkOptions</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Object}</code></span></td><td align="center" data-th="Default"><span><code>{}</code></span></td><td align="left" data-th="Description"><span>Remark options</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#removefrontmatter"><code>removeFrontMatter</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Boolean}</code></span></td><td align="center" data-th="Default"><span><code>true</code></span></td><td align="left" data-th="Description"><span>Remove removeFrontMatter</span></td></tr></tbody></table><h3><span id="remarkoptions"></span>remarkOptions<a href="#remarkoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#plugins"><code>plugins</code></a></strong></span></td><td align="center" data-th="Type"><span><code>Array&lt;String|Array&gt;</code></span></td><td align="center" data-th="Default"><span><code>[]</code></span></td><td align="left" data-th="Description"><span>Allows to connect <a href="https://github.com/wooorm/remark/blob/master/doc/plugins.md"><code>remark</code> plugins</a></span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#settings"><code>settings</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Object}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>Remark settings</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#data"><code>data</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Object}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>Information available to all plugins</span></td></tr></tbody></table><h4><span id="plugins"></span>plugins<a href="#plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>Type: <code>Array&lt;String|Array&gt;</code>
Default: <code>[]</code></p><p>可以和 <a href="https://github.com/wooorm/remark/blob/master/doc/plugins.md"><code>remark</code> plugins</a> 一起使用</p><h5><span id="string"></span>String<a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> RemarkFrontmatter <span class="token keyword">from</span> <span class="token string">&quot;remark-frontmatter&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              remarkOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>RemarkFrontmatter<span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="array"></span>Array<a href="#array" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>如果需要为插件指定 options，可以使用数组传递插件，其中第二个参数就是将要设置的 options。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> RemarkFrontmatter <span class="token keyword">from</span> <span class="token string">&quot;remark-frontmatter&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> RemarkBookmarks <span class="token keyword">from</span> <span class="token string">&quot;remark-bookmarks&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              remarkOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  RemarkFrontmatter<span class="token punctuation">,</span>
                  <span class="token punctuation">[</span>
                    RemarkBookmarks<span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      bookmarks<span class="token operator">:</span> <span class="token punctuation">{</span>
                        npm<span class="token operator">:</span> <span class="token string">&quot;https://npmjs.com/package/remark-bookmarks&quot;</span><span class="token punctuation">,</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="settings"></span>settings<a href="#settings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>Type: <code>Object</code>
Default: <code>undefined</code></p><p>将 <a href="https://github.com/remarkjs/remark/tree/main/packages/remark-stringify#options"><code>remark-stringify</code> options</a> 选项和 <a href="https://github.com/remarkjs/remark/tree/main/packages/remark-parse#options"><code>remark-parse</code> options</a> 选项传递给 <code>remark</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              remarkOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                settings<span class="token operator">:</span> <span class="token punctuation">{</span>
                  bullet<span class="token operator">:</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span>
                  listItemIndent<span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="data"></span>data<a href="#data" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>Type: <code>Object</code>
Default: <code>undefined</code></p><p>使用所有插件通用的配置 <a href="https://github.com/unifiedjs/unified#processordatakey-value"><code>remark</code></a>。
配置信息存储在内存中的键值存储中。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">function</span> <span class="token function">examplePluginUsingData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// { alpha: &#x27;bravo&#x27;, charlie: &#x27;delta&#x27; }</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              remarkOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>examplePluginUsingData<span class="token punctuation">]</span><span class="token punctuation">,</span>
                data<span class="token operator">:</span> <span class="token punctuation">{</span>
                  alpha<span class="token operator">:</span> <span class="token string">&quot;bravo&quot;</span><span class="token punctuation">,</span>
                  charlie<span class="token operator">:</span> <span class="token string">&quot;delta&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="removefrontmatter"></span>removeFrontMatter<a href="#removefrontmatter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Boolean</code>
Default: <code>true</code></p><p>默认情况下，refortmatter 是被移除的。
如果要覆盖这个配置，需要在插件中添加 <code>remark-frontmatter</code>，并设置 <code>removeFrontMatter</code> 为 <code>false</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> RemarkFrontmatter <span class="token keyword">from</span> <span class="token string">&quot;remark-frontmatter&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              removeFrontMatter<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              remarkOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>RemarkFrontmatter<span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="inspiration"></span>启发<a href="#inspiration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>这个项目收到了以下开源作品的启发：</p><ul><li><a href="https://github.com/javiercf/react-markdown-loader"><code>react-markdown-loader</code></a></li><li><a href="https://github.com/cerebral/marksy"><code>marksy</code></a></li></ul><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="markdown-to-html"></span>Markdown 转为 HTML<a href="#markdown-to-html" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>要获得 html，需要在 remark 插件中添加 <a href="https://github.com/wooorm/remark-html"><code>remark-html</code></a>，并在 <code>webpack.config</code> 中添加 <a href="/loaders/html-loader/"><code>html-loader</code></a>。</p><pre><code class="hljs language-js"><span class="token keyword">import</span> md <span class="token keyword">from</span> <span class="token string">&quot;markdown-file.md&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>md<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> RemarkHTML <span class="token keyword">from</span> <span class="token string">&quot;remark-html&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;html-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              remarkOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>RemarkHTML<span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="markdown-to-markdown"></span>Markdown 转为 Markdown<a href="#markdown-to-markdown" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> md <span class="token keyword">from</span> <span class="token string">&quot;markdown-file.md&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>md<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.md$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;remark-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果您还没有贡献代码，请花点时间阅读我们的贡献指南。</p><p><a href="https://github.com/webpack-contrib/remark-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/remark-loader/blob/master/LICENSE">MIT</a></p><h1><span id="sass-loader"></span>sass-loader<a href="#sass-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/sass-loader"><img src="https://img.shields.io/npm/v/sass-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/sass-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/sass-loader"><img src="https://david-dm.org/webpack-contrib/sass-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/sass-loader/actions"><img src="https://github.com/webpack-contrib/sass-loader/workflows/sass-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/sass-loader"><img src="https://codecov.io/gh/webpack-contrib/sass-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=sass-loader"><img src="https://packagephobia.now.sh/badge?p=sass-loader" alt="size"/></a></p><p>加载 Sass/SCSS 文件并将他们编译为 CSS。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>sass-loader</code>：</p><pre><code class="hljs language-console">npm install sass-loader sass webpack --save-dev
</code></pre><p><code>sass-loader</code> 需要预先安装 <a href="https://github.com/sass/dart-sass">Dart Sass</a> 或 <a href="https://github.com/sass/node-sass">Node Sass</a>（可以在这两个链接中找到更多的资料）。这可以控制所有依赖的版本， 并自由的选择使用的 Sass 实现。</p><p>这样可以控制所有依赖项的版本，并选择要使用的 Sass 实现。</p><blockquote><p>ℹ️ 我们推荐使用 <a href="https://github.com/sass/dart-sass">Dart Sass</a>。</p></blockquote><blockquote><p>⚠ <a href="https://github.com/sass/node-sass">Node Sass</a> 不能与 <a href="https://classic.yarnpkg.com/en/docs/pnp/">Yarn PnP</a> 特性一起正常工作，并且不支持 <a href="https://sass-lang.com/documentation/at-rules/use">@use rule</a>。</p></blockquote><p>将 <code>sass-loader</code> 、<a href="/loaders/css-loader/">css-loader</a> 与 <a href="/loaders/style-loader/">style-loader</a> 进行链式调用，可以将样式以 style 标签的形式插入 DOM 中，或者使用 <a href="/plugins/mini-css-extract-plugin/">mini-css-extract-plugin</a> 将样式输出到独立的文件中。</p><p>然后将本 loader 添加到你的 Webpack 配置中。例如：</p><p><strong>app.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">&#x27;./style.scss&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>style.scss</strong></p><pre><code class="hljs language-scss"><span class="token property"><span class="token variable">$body-color</span></span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>

<span class="token selector">body </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$body-color</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// 将 JS 字符串生成为 style 节点</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token comment">// 将 CSS 转化成 CommonJS 模块</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token comment">// 将 Sass 编译成 CSS</span>
          <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>最后通过你喜欢的方式运行 <code>webpack</code>。</p><h3><span id="resolving-import-at-rules"></span>解析 <code>import</code> 的规则<a href="#resolving-import-at-rules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Webpack 提供一种 <a href="/concepts/module-resolution/">解析文件的高级机制</a>。</p><p><code>sass-loader</code> 使用 Sass 提供的 custom importer 特性，将所有 query 传递给 Webpack 解析引擎。
因此你可以从 <code>node_modules</code> 中引入 Sass modules。</p><pre><code class="hljs language-scss"><span class="token keyword">@import</span> <span class="token string">&quot;bootstrap&quot;</span><span class="token punctuation">;</span></code></pre><p><code>~</code> 用法已被废弃，可以从代码中删除（<strong>我们建议这么做</strong>），但是我们会因为一些历史原因一直支持这种写法。
为什么你可以移除它呢？loader 首先会尝试以相对路径解析 <code>@import</code>，如果它不能被解析，loader 将会尝试在 <a href="/configuration/resolve/#resolvemodules"><code>node_modules</code></a> 中解析 <code>@import</code>。</p><p>在包名前加上 <code>~</code> 就会告诉 Webpack 在 <a href="/configuration/resolve/#resolvemodules"><code>modules</code></a> 中进行查找。</p><pre><code class="hljs language-scss"><span class="token keyword">@import</span> <span class="token string">&quot;~bootstrap&quot;</span><span class="token punctuation">;</span></code></pre><p>重要的是，只在前面加上 <code>~</code>，因为<code>~/</code> 将会解析到用户的主目录（home directory）。
因为 CSS 和 Sass 文件没有用于导入相关文件的特殊语法，所以 Webpack 需要区分 <code>bootstrap</code> 和 <code>~bootstrap</code>。
<code>@import &quot;style.scss&quot;</code> 和 <code>@import &quot;./style.scss&quot;;</code> 两种写法是相同的。</p><h3><span id="problems-with-url"></span><code>url(...)</code> 的问题<a href="#problems-with-url" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>由于 Sass 的实现没有提供 <a href="https://github.com/sass/libsass/issues/532">url 重写</a>的功能，所以相关的资源都必须是相对于输出文件（ouput）而言的。</p><ul><li>如果生成的 CSS 传递给了 <code>css-loader</code>，则所有的 url 规则都必须是相对于入口文件的（例如：<code>main.scss</code>）。</li><li>如果仅仅生成了 CSS 文件，没有将其传递给 <code>css-loader</code>，那么所有的 url 都是相对于网站的根目录的。</li></ul><p>第一种情况可能会带来一些困扰。通常情况下我们希望相对路径引用的解析是相对于声明它的 <code>.sass</code>/<code>.scss</code> 文件（如同在 <code>.css</code> 文件中一样）。</p><p>幸运的是，有两种方法可以解决这个问题：</p><ul><li>将 <a href="https://github.com/bholloway/resolve-url-loader">resolve-url-loader</a> 设置于 loader 链中的 <code>sass-loader</code> 之前，就可以重写 url。</li><li>Library 作者一般都会提供变量，用来设置资源路径。比如 <a href="https://github.com/twbs/bootstrap-sass">bootstrap-sass</a> 可以通过 <code>$icon-font-path</code> 进行设置。</li></ul><h2><span id="options"></span>配置选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">默认值</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><strong><a href="#implementation"><code>implementation</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Object|String}</code></span></td><td align="center" data-th="默认值"><span><code>sass</code></span></td><td align="left" data-th="Description"><span>设置使用的 Sass 的实现。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#sassoptions"><code>sassOptions</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Object|Function}</code></span></td><td align="center" data-th="默认值"><span>Sass 实现的默认值</span></td><td align="left" data-th="Description"><span>Sass 自身选项。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#sourcemap"><code>sourceMap</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>compiler.devtool</code></span></td><td align="left" data-th="Description"><span>启用 / 禁用 source maps 的生成。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#additionaldata"><code>additionalData</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{String|Function}</code></span></td><td align="center" data-th="默认值"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>在实际的输入文件之前添加 <code>Sass</code> /<code>SCSS</code> 代码。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#webpackimporter"><code>webpackImporter</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="Description"><span>启用 / 禁用默认的 Webpack importer。</span></td></tr><tr><td align="center" data-th="名称"><span><strong><a href="#warnruleaswarning"><code>warnRuleAsWarning</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>false</code></span></td><td align="left" data-th="Description"><span>将 <code>@warn</code> 规则视为 webpack 警告。</span></td></tr></tbody></table><h3><span id="implementation"></span><code>implementation</code><a href="#implementation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型： <code>Object | String</code>
默认值： <code>sass</code></p><p>特殊的 <code>implementation</code> 选项确定要使用的 Sass 实现。</p><p>默认情况下，loader 将会根据你的依赖解析需要使用的实现。
只需将必需的实现添加到 <code>package.json</code>（<code>sass</code> 或 <code>node-sass</code> 包）中并安装依赖项即可。</p><p>示例，此时 <code>sass-loader</code> 将会使用 <code>sass</code> （<code>dart-sass</code>）实现：</p><p><strong>package.json</strong></p><pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sass-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.22.10&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>示例，此时 <code>sass-loader</code> 将会使用 <code>node-sass</code> 实现：</p><p><strong>package.json</strong></p><pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sass-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;node-sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>需注意同时安装 <code>node-sass</code> 和 <code>sass</code> 的情况！默认情况下，<code>sass-loader</code> 会选择 <code>sass</code>。
为了避免这种情况，你可以使用 <code>implementation</code> 选项。</p><p><code>implementation</code> 选项可以以模块的形式接受 <code>sass</code>（<code>Dart Sass</code>）或 <code>node-sass</code>。</p><h4><span id="object"></span>Object<a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>例如，为了使用 Dart Sass，你应该传递：</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// `dart-sass` 是首选</span>
              implementation<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;sass&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span>String<a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>例如，为了使用 Dart Sass，你应该传递：</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// Prefer `dart-sass`</span>
              implementation<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;sass&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>需要注意的是，当使用 <code>sass</code>（<code>Dart Sass</code>）时，由于异步回调的开销，通常情况下<strong>同步编译的速度是异步编译速度的两倍</strong>。
为了避免这种开销，你可以使用 <a href="https://www.npmjs.com/package/fibers">fibers</a> 包从同步代码中调用异步导入程序。</p><p>如果可能，我们会为小于 v16.0.0 的 <code>Node.js</code> 自动注入 <a href="https://github.com/laverdet/node-fibers"><code>fibers</code></a> 软件包（设置 <code>sassOptions.fiber</code>）（当然需要你安装 <a href="https://github.com/laverdet/node-fibers"><code>fibers</code></a> 包）。</p><blockquote><p>Fibers 不兼容 <code>Node.js</code> v16.0.0 以及更高的版本（<a href="https://github.com/laverdet/node-fibers">查看介绍</a>）。</p></blockquote><p><strong>package.json</strong></p><pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sass-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.22.10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fibers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>你可以通过向 <code>sassOptions.fiber</code> 传递 <code>false</code> 参数关闭自动注入的 <a href="https://github.com/laverdet/node-fibers"><code>fibers</code></a> 包。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              implementation<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;sass&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              sassOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                fiber<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>你还可以通过一下代码传递 <code>fiber</code>：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              implementation<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;sass&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              sassOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                fiber<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;fibers&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="sassoptions"></span><code>sassOptions</code><a href="#sassoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Object|Function</code>
默认值：Sass 实现的默认值</p><p><a href="http://sass-lang.com/dart-sass">Dart Sass</a> 或者 <a href="https://github.com/sass/node-sass">Node Sass</a> 实现的选项。</p><blockquote><p>ℹ️ <code>dart-sass</code> 的 <code>charset</code> 选项默认为 <code>true</code>，我们强烈建议你将其改为 <code>false</code>，因为 webpack 并不支持 <code>utf-8</code> 以外的文件。</p></blockquote><blockquote><p>ℹ️ <code>indentedSyntax</code> 选项值为 <code>true</code>，是对 <code>sass</code> 的扩展。</p></blockquote><blockquote><p>ℹ️ 像 <code>data</code> 和 <code>file</code> 这样的选项是不可用的，且会被忽略。</p></blockquote><blockquote><p>ℹ 我们坚决反对设置 <code>outFile</code>，<code>sourceMapContents</code>，<code>sourceMapEmbed</code>，<code>sourceMapRoot</code> 这些选项，因为当 <code>sourceMap</code> 是 <code>true</code> 时，<code>sass-loader</code> 会自动设置这些选项。</p></blockquote><blockquote><p>ℹ️ 可以使用 <code>this.webpackLoaderContext</code> 属性访问自定义 importer 中的 <a href="/api/loaders/#the-loader-context">loader 上下文</a>。</p></blockquote><p><code>sass</code> （<code>dart-sass</code>）和 <code>node-sass</code> 之间的选项略有不同。</p><p>在使用他们之前，请查阅有关文档：</p><ul><li><a href="https://github.com/sass/dart-sass#javascript-api">Dart Sass 文档</a> 提供了所有可用的 <code>sass</code> 选项。</li><li><a href="https://github.com/sass/node-sass/#options">Node Sass 文档</a> 提供了所有可用的 <code>node-sass</code> 选项。</li></ul><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>使用对象设置 Sass 实现的启动选项。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sassOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                indentWidth<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                includePaths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;absolute/path/a&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;absolute/path/b&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许通过 loader 上下文为 Sass 实现设置不同的选项。</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">sassOptions</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 有关可用属性的更多信息 https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.scss&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token punctuation">{</span>
                    includePaths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;absolute/path/c&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;absolute/path/d&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                  includePaths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;absolute/path/a&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;absolute/path/b&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="sourcemap"></span><code>sourceMap</code><a href="#sourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：取决于 <code>compiler.devtool</code> 的值</p><p>开启/关闭生成 source map。</p><p>默认情况下 source maps 的生成取决于 <a href="/configuration/devtool/"><code>devtool</code></a> 选项。
除 <code>eval</code> 和 <code>false</code> 之外的所有值都将开启 source map 的生成。</p><blockquote><p>ℹ 如果为 <code>true</code> 将会忽略来自 <code>sassOptions</code> 的 <code>sourceMap</code>，<code>sourceMapRoot</code>，<code>sourceMapEmbed</code>，<code>sourceMapContents</code> 和 <code>omitSourceMapUrl</code> 选项。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><blockquote><p>ℹ 在极少数情况下，<code>node-sass</code> 会输出无效的 source maps（这是 <code>node-sass</code> 的 bug）。</p></blockquote><blockquote><blockquote><p>为了避免这种情况，你可以尝试将 <code>node-sass</code> 更新到最新版本，或者可以尝试将 <code>sassOptions</code> 中的 <code>outputStyle</code> 选项设置为 <code>compressed</code>。</p></blockquote></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              sassOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                outputStyle<span class="token operator">:</span> <span class="token string">&#x27;compressed&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="additionaldata"></span><code>additionalData</code><a href="#additionaldata" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String|Function</code>
默认值：<code>undefined</code></p><p>在实际的文件之前要添加的 <code>Sass</code> / <code>SCSS</code> 代码。
在这种情况下，<code>sass-loader</code> 将不会覆盖 <code>data</code> 选项，而只是将它<strong>拼接</strong>在入口文件内容之前。</p><p>当某些 Sass 变量取决于环境时，这非常有用：</p><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              additionalData<span class="token operator">:</span> <span class="token string">&#x27;$env: &#x27;</span> <span class="token operator">+</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">+</span> <span class="token string">&#x27;;&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><h5><span id="Sync"></span>Sync<a href="#Sync" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">additionalData</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 有关可用属性的更多信息 https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.scss&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">&#x27;$value: 100px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">&#x27;$value: 200px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="Async"></span>Async<a href="#Async" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">additionalData</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// More information about available properties https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.scss&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">&#x27;$value: 100px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">&#x27;$value: 200px;&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="webpackimporter"></span><code>webpackImporter</code><a href="#webpackimporter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：<code>true</code></p><p>开启 / 关闭默认的 Webpack importer。</p><p>在某些情况下，可以提高性能。但是请谨慎使用，因为 aliases 和以 <code>〜</code> 开头的 <code>@import</code> 规则将不起作用。
你可以传递自己的 <code>importer</code> 来解决这个问题（参阅 <a href="https://github.com/sass/node-sass#importer--v200---experimental"><code>importer docs</code></a>）。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              webpackImporter<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="warnruleaswarning"></span><code>warnRuleAsWarning</code><a href="#warnruleaswarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Boolean</code>
Default: <code>false</code></p><p>将 <code>@warn</code> 规则视为 webpack 警告。</p><blockquote><p>ℹ️ 在下一个大版本发布中它将默认设置为 <code>true</code>。</p></blockquote><p><strong>style.scss</strong></p><pre><code class="hljs language-scss"><span class="token property"><span class="token variable">$known-prefixes</span></span><span class="token punctuation">:</span> webkit<span class="token punctuation">,</span> moz<span class="token punctuation">,</span> ms<span class="token punctuation">,</span> o<span class="token punctuation">;</span>

<span class="token keyword">@mixin</span> <span class="token function">prefix</span><span class="token punctuation">(</span><span class="token variable">$property</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$prefixes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$prefix</span> in <span class="token variable">$prefixes</span> </span><span class="token punctuation">{</span>
    <span class="token keyword">@if</span> <span class="token operator">not</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token variable">$known-prefixes</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">@warn</span> <span class="token string">&quot;Unknown prefix #{$prefix}.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token property">-<span class="token variable">#{$prefix}</span>-<span class="token variable">#{$property}</span></span><span class="token punctuation">:</span> <span class="token variable">$value</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token property"><span class="token variable">#{$property}</span></span><span class="token punctuation">:</span> <span class="token variable">$value</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tilt </span><span class="token punctuation">{</span>
  <span class="token comment">// Oops, we typo&#x27;d &quot;webkit&quot; as &quot;wekbit&quot;!</span>
  <span class="token keyword">@include</span> <span class="token function">prefix</span><span class="token punctuation">(</span>transform<span class="token punctuation">,</span> <span class="token function">rotate</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span><span class="token punctuation">,</span> wekbit ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>给出的代码将抛出 webpack 警告而不是日志。</p><p>要忽略不必要的警告，可以使用 <a href="/configuration/other-options/#ignorewarnings">ignoreWarnings</a> 配置项。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              warnRuleAsWarning<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="extracts-css-into-separate-files"></span>提取样式表<a href="#extracts-css-into-separate-files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>对于生产版本，我们建议从 bundle 中提取 CSS，以便之后可以使 CSS/JS 资源并行加载。</p><p>从 bundle 中提取样式表，有 2 种实用的方式：</p><ul><li><a href="/plugins/mini-css-extract-plugin/">mini-css-extract-plugin</a></li><li><a href="https://github.com/peerigon/extract-loader">extract-loader</a> (简单，专门针对 css-loader 的输出)</li></ul><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;mini-css-extract-plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// 在开发过程中回退到 style-loader</span>
          process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#x27;production&#x27;</span>
            <span class="token operator">?</span> <span class="token string">&#x27;style-loader&#x27;</span>
            <span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// 与 webpackOptions.output 中的选项相似</span>
      <span class="token comment">// 所有的选项都是可选的</span>
      filename<span class="token operator">:</span> <span class="token string">&#x27;[name].css&#x27;</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">&#x27;[id].css&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="source-maps"></span>Source maps<a href="#source-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>开启/关闭 source map 的生成。</p><p>为了开启 CSS source maps，需要将 <code>sourceMap</code> 选项作为参数，传递给 <code>sass-loader</code> 和 <code>css-loader</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">&quot;source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任何类似于 &quot;source-map&quot; 的选项都是支持的</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.s[ac]ss$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>如果你要在 Chrome 中编辑原始的 Sass 文件，建议阅读 <a href="https://medium.com/@toolmantim/getting-started-with-css-sourcemaps-and-in-browser-sass-editing-b4daab987fb0">这篇不错的博客</a>。具体示例参考 <a href="https://github.com/webpack-contrib/sass-loader/tree/master/test">test/sourceMap</a>。</p><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还没有阅读过我们的贡献指南，请花一点时间阅读它。</p><p><a href="https://github.com/webpack-contrib/sass-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/sass-loader/blob/master/LICENSE">MIT</a></p><h1><span id="source-map-loader"></span>source-map-loader<a href="#source-map-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/source-map-loader"><img src="https://img.shields.io/npm/v/source-map-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/source-map-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/source-map-loader"><img src="https://david-dm.org/webpack-contrib/source-map-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/source-map-loader/actions"><img src="https://github.com/webpack-contrib/source-map-loader/workflows/source-map-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/source-map-loader"><img src="https://codecov.io/gh/webpack-contrib/source-map-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=source-map-loader"><img src="https://packagephobia.now.sh/badge?p=source-map-loader" alt="size"/></a></p><p>从现有的源文件中提取 source maps（从 <code>sourceMappingURL</code> 中提取）。</p><h2><span id="getting-started"></span>起步<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>安装 <code>source-map-loader</code>：</p><pre><code class="hljs language-bash"><span class="token function">npm</span> i -D source-map-loader</code></pre><p>添加 plugin 至 <code>webpack</code> 配置。例：</p><p><strong>file.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> css <span class="token keyword">from</span> <span class="token string">&#x27;file.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        enforce<span class="token operator">:</span> <span class="token string">&#x27;pre&#x27;</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;source-map-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><code>source-map-loader</code> 从 JavaScript 入口提取现有的 source maps.
这些 source maps 既可以是内联的也可以是通过 URL 链接引入的。
所有的 source map 数据都按照选定的 <a href="/configuration/devtool/">source map style</a> 交给 webpack 处理，这些选定可以在 <a href="/configuration/">webpack.config.js</a> 的 <code>devtool</code> 选项中配置。
在使用有自己 source maps 的第三方库时，<code>source-map-loader</code> 就显得尤为重要。
如果相关 source map 数据没有按照规范提取、处理并注入 webpack bundle, 浏览器有可能无法正确解读这些数据。<code>source-map-loader</code> 允许 webpack 跨库且持续的维护 source map 数据，因而更易于调试。
<code>source-map-loader</code> 可以从任何 JavaScript 文件中提取，这也包括 <code>node_modules</code> 目录下的 JavaScript 文件。
在设置 <a href="/configuration/module/#ruleinclude">include</a> 和 <a href="/configuration/module/#ruleexclude">exclude</a> 规则时，要保证构建性能最优。</p><p>最后按偏好运行 <code>webpack</code> 方法。</p><h2><span id="options"></span>选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">选项名</th><th align="center">类型</th><th align="center">默认值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="选项名"><span><strong><a href="#filter-source-mapping-url"><code>filterSourceMappingUrl</code></a></strong></span></td><td align="center" data-th="类型"><span><code>{Function}</code></span></td><td align="center" data-th="默认值"><span><code>undefined</code></span></td><td align="left" data-th="描述"><span>允许控制 <code>SourceMappingURL</code> 的行为</span></td></tr></tbody></table><h3><span id="filter-source-mapping-url"></span>filterSourceMappingUrl<a href="#filter-source-mapping-url" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Function</code>
默认值：<code>undefined</code></p><p>允许你为 <code>SourceMappingURL</code> 注释指定 loader 的特定行为。</p><p>此函数的返回值必须为下列之一：</p><ul><li><code>true</code> 或 <code>&#x27;consume&#x27;</code> — 使用 source map 并删除 <code>SourceMappingURL</code> 注释（默认行为）</li><li><code>false</code> 或 <code>&#x27;remove&#x27;</code> — 不使用 source map 并删除 <code>SourceMappingURL</code> 注释</li><li><code>skip</code> — 不使用 source map 但不删除 <code>SourceMappingURL</code> 注释</li></ul><p>示例配置：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        enforce<span class="token operator">:</span> <span class="token string">&#x27;pre&#x27;</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;source-map-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">filterSourceMappingUrl</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/broker-source-map-url\.js$/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/keep-source-mapping-url\.js$/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">&#x27;skip&#x27;</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="ignoring-warnings"></span>忽略警告<a href="#ignoring-warnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>忽略警告可以使用以下配置：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        enforce<span class="token operator">:</span> <span class="token string">&#x27;pre&#x27;</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;source-map-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ignoreWarnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex">/Failed to parse source map/</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>欲了解 <code>ignoreWarnings</code> 的更多信息，请查阅<a href="/configuration/other-options/#ignorewarnings">此文</a>。</p><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果您尚未了解，建议您阅读以下贡献指引。</p><p><a href="https://github.com/webpack-contrib/source-map-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>许可<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/source-map-loader/blob/master/LICENSE">MIT</a></p><h1><span id="style-loader"></span>style-loader<a href="#style-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/style-loader"><img src="https://img.shields.io/npm/v/style-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/style-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/style-loader"><img src="https://david-dm.org/webpack-contrib/style-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/style-loader/actions"><img src="https://github.com/webpack-contrib/style-loader/workflows/style-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/style-loader"><img src="https://codecov.io/gh/webpack-contrib/style-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=style-loader"><img src="https://packagephobia.now.sh/badge?p=style-loader" alt="size"/></a></p><p>把 CSS 插入到 DOM 中。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>style-loader</code>：</p><pre><code class="hljs language-console">npm install --save-dev style-loader
</code></pre><p>推荐将 <code>style-loader</code> 与 <a href="/loaders/css-loader/"><code>css-loader</code></a> 一起使用</p><p>然后把 loader 添加到你的 <code>webpack</code> 配置中。比如：</p><p><strong>style.css</strong></p><pre><code class="hljs language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="options"></span>Options<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">默认值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center" data-th="名称"><span><a href="#injecttype"><strong><code>injectType</code></strong></a></span></td><td align="center" data-th="类型"><span><code>{String}</code></span></td><td align="center" data-th="默认值"><span><code>styleTag</code></span></td><td align="left" data-th="描述"><span>配置把 styles 插入到 DOM 中的方式</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#attributes"><strong><code>attributes</code></strong></a></span></td><td align="center" data-th="类型"><span><code>{Object}</code></span></td><td align="center" data-th="默认值"><span><code>{}</code></span></td><td align="left" data-th="描述"><span>添加自定义属性到插入的标签中</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#insert"><strong><code>insert</code></strong></a></span></td><td align="center" data-th="类型"><span><code>{String|Function}</code></span></td><td align="center" data-th="默认值"><span><code>head</code></span></td><td align="left" data-th="描述"><span>在指定的位置插入标签</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#styletagtransform"><strong><code>styleTagTransform</code></strong></a></span></td><td align="center" data-th="类型"><span><code>{String|Function}</code></span></td><td align="center" data-th="默认值"><span><code>undefined</code></span></td><td align="left" data-th="描述"><span>当将 &#x27;style&#x27; 标签插入到 DOM 中时，转换标签和 css</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#base"><strong><code>base</code></strong></a></span></td><td align="center" data-th="类型"><span><code>{Number}</code></span></td><td align="center" data-th="默认值"><span><code>true</code></span></td><td align="left" data-th="描述"><span>基于 (DLLPlugin) 设置 module ID</span></td></tr><tr><td align="center" data-th="名称"><span><a href="#esmodule"><strong><code>esModule</code></strong></a></span></td><td align="center" data-th="类型"><span><code>{Boolean}</code></span></td><td align="center" data-th="默认值"><span><code>false</code></span></td><td align="left" data-th="描述"><span>使用 ES modules 语法</span></td></tr></tbody></table><h3><span id="injecttype"></span><code>injectType</code><a href="#injecttype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>String</code>
Default: <code>styleTag</code></p><p>配置把 styles 插入到 DOM 中的方式。</p><p>可选值：</p><ul><li><code>styleTag</code></li><li><code>singletonStyleTag</code></li><li><code>autoStyleTag</code></li><li><code>lazyStyleTag</code></li><li><code>lazySingletonStyleTag</code></li><li><code>lazyAutoStyleTag</code></li><li><code>linkTag</code></li></ul><h4><span id="styletag"></span><code>styleTag</code><a href="#styletag" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>通过使用多个 <code>&lt;style&gt;&lt;/style&gt;</code> 自动把 styles 插入到 DOM 中。该方式是默认行为。</p><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span></code></pre><p>使用 Locals (CSS Modules) 的例子：</p><p><strong>component-with-css-modules.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> divElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
divElement<span class="token punctuation">.</span>className <span class="token operator">=</span> styles<span class="token punctuation">[</span><span class="token string">&#x27;my-class&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>导入的对象保存着所有的 locals (class names)。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// 由于是默认行为，`injectType` 选项可以省略</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> injectType<span class="token operator">:</span> <span class="token string">&#x27;styleTag&#x27;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>此 loader 插入的 style 效果如下：</p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.foo</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.bar</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h4><span id="singletonstyletag"></span><code>singletonStyleTag</code><a href="#singletonstyletag" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>通过使用一个 <code>&lt;style&gt;&lt;/style&gt;</code> 来自动把 styles 插入到 DOM 中。</p><blockquote><p>⚠ Source map 不起作用</p></blockquote><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>component-with-css-modules.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> divElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
divElement<span class="token punctuation">.</span>className <span class="token operator">=</span> styles<span class="token punctuation">[</span><span class="token string">&#x27;my-class&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>导入的对象保存着所有的 locals (class names)。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> injectType<span class="token operator">:</span> <span class="token string">&#x27;singletonStyleTag&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>loader 插入的 styles 如下：</p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.foo</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.bar</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h4><span id="autostyletag"></span><code>autoStyleTag</code><a href="#autostyletag" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>与 <a href="#styletag"><code>styleTag</code></a> 相同，但是当代码在 IE6-9 中运行时，请打开 <a href="#singletonstyletag"><code>singletonStyleTag</code></a> 模式。</p><h4><span id="lazystyletag"></span><code>lazyStyleTag</code><a href="#lazystyletag" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>在需要时使用多个 <code>&lt;style&gt;&lt;/style&gt;</code> 把 styles 插入到 DOM 中。</p><p>推荐 lazy style 遵循使用 <code>.lazy.css</code> 作为后缀的命名约定，<code>style-loader</code> 基本用法是使用 <code>.css</code> 作为文件后缀（其他文件也一样，比如：<code>.lazy.less</code> 和 <code>.less</code>）。</p><p>当使用 <code>lazyStyleTag</code> 时，<code>style-loader</code> 将惰性插入 styles，在需要使用 styles 时可以通过 <code>style.use()</code> / <code>style.unuse()</code> 使 style 可用。</p><blockquote><p>⚠️ 调用 <code>unuse</code> 多于 <code>use</code> 时，其表现会不确定。因此，请不要这么做。</p></blockquote><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#x27;./styles.lazy.css&#x27;</span><span class="token punctuation">;</span>

styles<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 要移除 styles 时你可以调用</span>
<span class="token comment">// styles.unuse();</span></code></pre><p><strong>component-with-css-modules.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#x27;./styles.lazy.css&#x27;</span><span class="token punctuation">;</span>

styles<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> divElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
divElement<span class="token punctuation">.</span>className <span class="token operator">=</span> styles<span class="token punctuation">.</span>locals<span class="token punctuation">[</span><span class="token string">&#x27;my-class&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>导入的对象的 <code>locals</code> 属性保存着所有的 locals (class names)。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\.lazy\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.lazy\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> injectType<span class="token operator">:</span> <span class="token string">&#x27;lazyStyleTag&#x27;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>此 loader 插入的 style 效果如下：</p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.foo</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.bar</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h4><span id="lazysingletonstyletag"></span><code>lazySingletonStyleTag</code><a href="#lazysingletonstyletag" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>在必要时，使用 <code>&lt;style&gt;&lt;/style&gt;</code> 把 style 插入的 DOM 中。</p><p>推荐 lazy style 遵循使用 <code>.lazy.css</code> 作为后缀的命名约定，<code>style-loader</code> 基本用法是使用 <code>.css</code> 作为文件后缀（其他文件也一样，比如：<code>.lazy.less</code> 和 <code>.less</code>）。</p><p>当使用 <code>lazySingletonStyleTag</code> 时，<code>style-loader</code> 将惰性插入 styles，在需要使用 styles 时可以通过 <code>style.use()</code> / <code>style.unuse()</code> 使 style 可用。</p><blockquote><p>⚠️ Source maps 不起作用</p></blockquote><blockquote><p>⚠️ 调用 <code>unuse</code> 多于 <code>use</code> 时，其表现会不确定。因此，请不要这么做。</p></blockquote><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span>

styles<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 要移除 styles 时你可以调用</span>
<span class="token comment">// styles.unuse();</span></code></pre><p><strong>component-with-css-modules.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#x27;./styles.lazy.css&#x27;</span><span class="token punctuation">;</span>

styles<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> divElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
divElement<span class="token punctuation">.</span>className <span class="token operator">=</span> styles<span class="token punctuation">.</span>locals<span class="token punctuation">[</span><span class="token string">&#x27;my-class&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>导入的对象的 <code>locals</code> 属性保存着所有的 locals (class names)。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\.lazy\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.lazy\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span> injectType<span class="token operator">:</span> <span class="token string">&#x27;lazySingletonStyleTag&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>此 loader 生成的代码如下：</p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.foo</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.bar</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h4><span id="lazyautostyletag"></span><code>lazyAutoStyleTag</code><a href="#lazyautostyletag" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>与 <a href="#lazystyletag"><code>lazyStyleTag</code></a> 相同，但是当代码在 IE6-9 中运行时，请打开 <a href="#lazysingletonstyletag"><code>lazySingletonStyleTag</code></a> 模式。</p><h4><span id="linktag"></span><code>linkTag</code><a href="#linktag" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>使用多个 <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;path/to/file.css&quot;&gt;</code> 将 styles 插入到 DOM 中。</p><blockquote><p>ℹ️ 此 loader 会在运行时使用 JavaScript 动态地插入 <code>&lt;link href=&quot;path/to/file.css&quot; rel=&quot;stylesheet&quot;&gt;</code>。要静态插入 <code>&lt;link href=&quot;path/to/file.css&quot; rel=&quot;stylesheet&quot;&gt;</code> 时请使用<a href="/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a>。</p></blockquote><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#x27;./other-styles.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.link\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> injectType<span class="token operator">:</span> <span class="token string">&#x27;linkTag&#x27;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;file-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>此 loader 生成的代码如下：</p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path/to/style.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path/to/other-styles.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><h3><span id="attributes"></span><code>attributes</code><a href="#attributes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Object</code>
Default: <code>{}</code></p><p>如果配置了 <code>attributes</code>，<code>style-loader</code> 将会在 <code>&lt;style&gt;</code> / <code>&lt;link&gt;</code> 上绑定指定的 <code>attributes</code> 以及它们的值。</p><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> style <span class="token keyword">from</span> <span class="token string">&#x27;./file.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> attributes<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;id&#x27;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h3><span id="insert"></span><code>insert</code><a href="#insert" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>String|Function</code>
Default: <code>head</code></p><p>默认情况下，除非指定 <code>insert</code>，否则 <code>style-loader</code> 会把 <code>&lt;style&gt;</code> / <code>&lt;link&gt;</code> 添加到页面的 <code>&lt;head&gt;</code> 标签尾部。</p><p>这会使得 <code>style-loader</code> 创建的 CSS 比 <code>&lt;head&gt;</code> 标签内已经存在的 CSS 拥有更高的优先级。
当默认行为不能满足你的需求时，你可以使用其他值，但我们不推荐这么做。</p><p>如果你指定 <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement">iframe</a> 作为插入的目标时，请确保你有足够的访问权限，styles 将会被插入到 content document 的 head 标签中。</p><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><h5><span id="selector"></span><code>Selector</code><a href="#selector" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>配置 styles 插入 DOM 的自定义 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector">query selector</a>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              insert<span class="token operator">:</span> <span class="token string">&#x27;body&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="absolutepathtofunction"></span><code>Absolute path to function</code><a href="#absolutepathtofunction" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><p>允许设置自定义函数的绝对路径，该函数能够覆盖默认行为并且能够在任意位置插入样式。</p><blockquote><p>⚠ 不要忘了这个函数会在浏览器中调用，由于不是所有浏览器都支持最新的 ECMA 特性，如：<code>let</code>，<code>const</code>，<code>arrow function expression</code> 等。我们推荐使用 <a href="/loaders/babel-loader/"><code>babel-loader</code></a> 以支持最新的 ECMA 特性。
⚠ 不要忘了版本较旧的浏览器中某些 DOM 方法并不可用，所以我们推荐只使用 <a href="https://caniuse.com/#search=dom%20core">DOM core level 2 properties</a>，但这取决于想要支持的浏览器版本。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              insert<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;modulePath&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>一个新的 <code>&lt;style&gt;</code> 或 <code>&lt;link&gt;</code> 元素将会被插入到 <code>body</code> 标签底部。</p><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许覆盖默认行为并把 styles 插入到任意位置。</p><blockquote><p>⚠ 不要忘了这个函数会在浏览器中调用，由于不是所有浏览器都支持最新的 ECMA 特性，如：<code>let</code>，<code>const</code>，<code>arrow function expression</code> 等，我们推荐只使用 ECMA 5 特性，但这取决于你想要支持的浏览器版本。</p></blockquote><blockquote><p>⚠ 不要忘了版本较旧的浏览器中某些 DOM 方法并不可用，所以我们推荐只使用 <a href="https://caniuse.com/#search=dom%20core">DOM core level 2 properties</a>，但这取决于想要支持的浏览器版本。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">insert</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">insertAtTop</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;head&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// eslint-disable-next-line no-underscore-dangle</span>
                <span class="token keyword">var</span> lastInsertedElement <span class="token operator">=</span>
                  window<span class="token punctuation">.</span>_lastElementInsertedByStyleLoader<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lastInsertedElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> parent<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>lastInsertedElement<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> lastInsertedElement<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// eslint-disable-next-line no-underscore-dangle</span>
                window<span class="token punctuation">.</span>_lastElementInsertedByStyleLoader <span class="token operator">=</span> element<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>在 <code>head</code> 标签顶部插入 styles。</p><p>你可以给 <code>style.use(options)</code> 传递任何参数，并且这些值会被传递给 <code>insert</code> 与 <code>styleTagTransform</code> 函数。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              injectType<span class="token operator">:</span> <span class="token string">&#x27;lazyStyleTag&#x27;</span><span class="token punctuation">,</span>
              <span class="token comment">// 不要忘记这些代码会在浏览器中使用，</span>
              <span class="token comment">// 并且不是所有的浏览器都支持 `let`、`const`、箭头函数表达式等高级 ECMA 特性。</span>
              <span class="token comment">// 我们建议只使用 ECMA 5 特性，</span>
              <span class="token comment">// 但是这取决于你想支持的浏览器</span>
              <span class="token function-variable function">insert</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">insertIntoTarget</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> parent <span class="token operator">=</span> options<span class="token punctuation">.</span>target <span class="token operator">||</span> document<span class="token punctuation">.</span>head<span class="token punctuation">;</span>

                parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>向指定元素添加样式，没有指定时将会插入到 <code>head</code> 标签中。现在你可以向 Shadow DOM 注入样式了（或者其他元素）。</p><p><strong>custom-square.css</strong></p><pre><code class="hljs language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>custom-square.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> customSquareStyles <span class="token keyword">from</span> <span class="token string">&#x27;./custom-square.css&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CustomSquare</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mode<span class="token operator">:</span> <span class="token string">&#x27;open&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> divElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    divElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#x27;Text content.&#x27;</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>divElement<span class="token punctuation">)</span><span class="token punctuation">;</span>

    customSquareStyles<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 你可以覆盖注入的样式</span>
    <span class="token keyword">const</span> bgPurple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CSSStyleSheet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;w&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;h&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    bgPurple<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">div { width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px; height: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px; }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span>adoptedStyleSheets <span class="token operator">=</span> <span class="token punctuation">[</span>bgPurple<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// `divElement` 将会拥有 `100px` 宽，`100px` 高和 `red` 背景颜色</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">&#x27;custom-square&#x27;</span><span class="token punctuation">,</span> CustomSquare<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CustomSquare<span class="token punctuation">;</span></code></pre><h3><span id="styletagtransform"></span><code>styleTagTransform</code><a href="#styletagtransform" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String | Function</code>
默认值：<code>undefined</code></p><h4><span id="string"></span><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许设置自定义函数的绝对路径，该函数能够覆盖 styleTagTransform 默认行为。</p><blockquote><p>⚠ 不要忘了这个函数会在浏览器中调用，由于不是所有浏览器都支持最新的 ECMA 特性，如：<code>let</code>，<code>const</code>，<code>arrow function expression</code> 等，我们推荐只使用 ECMA 5 特性，但这取决于你想要支持的浏览器版本。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              injectType<span class="token operator">:</span> <span class="token string">&#x27;styleTag&#x27;</span><span class="token punctuation">,</span>
              styleTagTransform<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;module-path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>当将 &#x27;style&#x27; 标签插入到 DOM 中时，转换标签和 css。</p><blockquote><p>⚠ 不要忘记该代码会在浏览器中使用，并且不是所有的浏览器都支持想 <code>let</code>、<code>const</code>、<code>箭头函数</code> 等最新的 ECMA 特性，我们建议仅使用 ECMA5 特性，但这取决于你想支持什么浏览器。
⚠ 不要忘记有一些 DOM 方法在老的浏览器中是不可用的，我们推荐只使用 <a href="https://caniuse.com/#search=dom%20core">DOM core level 2 properties</a>，但这取决于你想支持什么浏览器。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              injectType<span class="token operator">:</span> <span class="token string">&#x27;styleTag&#x27;</span><span class="token punctuation">,</span>
              <span class="token function-variable function">styleTagTransform</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">css<span class="token punctuation">,</span> style</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// Do something ...</span>
                style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>css<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.modify{}\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

                document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="base"></span><code>base</code><a href="#base" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>这个配置主要是作为使用 <a href="https://robertknight.me.uk/posts/webpack-dll-plugins/">DllPlugin</a> 时出现 <a href="https://github.com/webpack-contrib/style-loader/issues/163">css clashes</a> 问题时的解决方案。<code>base</code> 允许你通过指定一个比 <em>DllPlugin1</em> 使用的 css 模块 id 大的值，来避免应用程序中的 css (或者 DllPlugin2 的 css) 被 DllPlugin1 中的 css 覆盖问题。比如：</p><p><strong>webpack.dll1.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.dll2.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> base<span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.app.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> base<span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="esmodule"></span><code>esModule</code><a href="#esmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Boolean</code>
Default: <code>true</code></p><p>默认情况下，<code>style-loader</code> 生成使用 ES 模块语法的 JS 模块。在某些情况下使用 ES 模块语法更好，比如：<a href="/plugins/module-concatenation-plugin/">module concatenation</a> 和 <a href="/guides/tree-shaking/">tree shaking</a> 时。</p><p>你可以使用下面的配置启用 CommonJS 模块语法：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          esModule<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="recommend"></span>推荐<a href="#recommend" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>对于 <code>production</code> 模式的构建，建议从你的包中提取 CSS，以便以后能够使用 CSS/JS 资源的并行加载。
可以使用 <a href="/plugins/mini-css-extract-plugin/">mini-css-extract-plugin</a> 实现，因为它可以创建单独的 css 文件。
对于 <code>development</code> 模式（包括 <code>webpack-dev-server</code>），你可以使用 <code>style-loader</code>，因为他使用多个 <code>&lt;style&gt;&lt;/style&gt;</code> 将 CSS 插入到 DOM 中，并且运行得会更快。</p><blockquote><p>⚠ 不要将 <code>style-loader</code> 于 <code>mini-css-extract-plugin</code> 一起使用。</p></blockquote><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;mini-css-extract-plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#x27;production&#x27;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(sa|sc|c)ss$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          devMode <span class="token operator">?</span> <span class="token string">&#x27;style-loader&#x27;</span> <span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>devMode <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="namedexportforcssmodules"></span>Named export for CSS Modules<a href="#namedexportforcssmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><blockquote><p>⚠ 本地命名导出时，会将其名称转换为 <code>camelCase</code> 的形式。</p></blockquote><blockquote><p>⚠ 并且不允许在 css 的 class 名中使用 JavaScript 的保留字。</p></blockquote><blockquote><p>⚠ 在 <code>css-loader</code> 中，应启用 <code>esModule</code> 和 <code>modules.namedExport</code> 配置项。</p></blockquote><p><strong>styles.css</strong></p><pre><code class="hljs language-css"><span class="token selector">.foo-baz</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> fooBaz<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./styles.css&#x27;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooBaz<span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>你可以使用如下方法为 ES 模块启用命名导出功能：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              modules<span class="token operator">:</span> <span class="token punctuation">{</span>
                namedExport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="sourcemap"></span>Source maps<a href="#sourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>因此，想要生成 source map，则需将 style-loader 之前执行 loader 的 <code>sourceMap</code> 选项设置为<code>true</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="nonce"></span>Nonce<a href="#nonce" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>有两种方式使用 <code>nonce</code>：</p><ul><li>使用 <code>attributes</code> 选项</li><li>使用 <code>__webpack_nonce__</code> 变量</li></ul><blockquote><p>⚠ <code>attributes</code> 拥有比 <code>__webpack_nonce__</code> 更高的优先级</p></blockquote><h4><span id="attributes"></span><code>attributes</code><a href="#attributes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
                nonce<span class="token operator">:</span> <span class="token string">&#x27;12345678&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>此 loader 生成代码如下：</p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">nonce</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12345678<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.foo</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h4><span id="webpack_nonce"></span>webpack_nonce<a href="#webpack_nonce" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>create-nonce.js</strong></p><pre><code class="hljs language-js">__webpack_nonce__ <span class="token operator">=</span> <span class="token string">&#x27;12345678&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>component.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">&#x27;./create-nonce.js&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">;</span></code></pre><p>使用 <code>require</code> 的示例：</p><p><strong>component.js</strong></p><pre><code class="hljs language-js">__webpack_nonce__ <span class="token operator">=</span> <span class="token string">&#x27;12345678&#x27;</span><span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./style.css&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>此 loader 生成代码如下：</p><pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">nonce</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12345678<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.foo</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h4><span id="insert-styles-at-top"></span>Insert styles at top<a href="#insert-styles-at-top" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>在 <code>head</code> 标签顶部插入 style。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">insert</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">insertAtTop</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;head&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> lastInsertedElement <span class="token operator">=</span>
                  window<span class="token punctuation">.</span>_lastElementInsertedByStyleLoader<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lastInsertedElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> parent<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>lastInsertedElement<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> lastInsertedElement<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                window<span class="token punctuation">.</span>_lastElementInsertedByStyleLoader <span class="token operator">=</span> element<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="insert-styles-before-target-element"></span>在目标元素前插入 style<a href="#insert-styles-before-target-element" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>在 <code>#id</code> 元素前面插入 style。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">insert</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">insertBeforeAt</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;head&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;#id&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">const</span> lastInsertedElement <span class="token operator">=</span>
                  window<span class="token punctuation">.</span>_lastElementInsertedByStyleLoader<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lastInsertedElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>lastInsertedElement<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> lastInsertedElement<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                  parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                window<span class="token punctuation">.</span>_lastElementInsertedByStyleLoader <span class="token operator">=</span> element<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="customelements"></span>Custom Elements (Shadow DOM)<a href="#customelements" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>你可以为 <code>lazyStyleTag</code> 类型定义自定义目标。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              injectType<span class="token operator">:</span> <span class="token string">&#x27;lazyStyleTag&#x27;</span><span class="token punctuation">,</span>
              <span class="token comment">// 不要忘记这些代码会在浏览器中使用，</span>
              <span class="token comment">// 并且不是所有的浏览器都支持 `let`、`const`、箭头函数表达式等高级 ECMA 特性。</span>
              <span class="token comment">// 我们建议只使用 ECMA 5 特性，</span>
              <span class="token comment">// 但是这取决于你想支持的浏览器</span>
              <span class="token function-variable function">insert</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">insertIntoTarget</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> parent <span class="token operator">=</span> options<span class="token punctuation">.</span>target <span class="token operator">||</span> document<span class="token punctuation">.</span>head<span class="token punctuation">;</span>

                parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>向指定元素添加样式，没有指定时将会插入到 <code>head</code> 标签中。</p><p><strong>custom-square.css</strong></p><pre><code class="hljs language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>custom-square.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> customSquareStyles <span class="token keyword">from</span> <span class="token string">&#x27;./custom-square.css&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CustomSquare</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mode<span class="token operator">:</span> <span class="token string">&#x27;open&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> divElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    divElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#x27;Text content.&#x27;</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>divElement<span class="token punctuation">)</span><span class="token punctuation">;</span>

    customSquareStyles<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 你可以覆盖注入的样式</span>
    <span class="token keyword">const</span> bgPurple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CSSStyleSheet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;w&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;h&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    bgPurple<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">div { width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px; height: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px; }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span>adoptedStyleSheets <span class="token operator">=</span> <span class="token punctuation">[</span>bgPurple<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// `divElement` 将会拥有 `100px` 宽，`100px` 高和 `red` 背景颜色</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">&#x27;custom-square&#x27;</span><span class="token punctuation">,</span> CustomSquare<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CustomSquare<span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>Contributing<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>Please take a moment to read our contributing guidelines if you haven&#x27;t yet done so.</p><p><a href="https://github.com/webpack-contrib/style-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/style-loader/blob/master/LICENSE">MIT</a></p><h1><span id="stylus-loader"></span>stylus-loader<a href="#stylus-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/stylus-loader"><img src="https://img.shields.io/npm/v/stylus-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/stylus-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/stylus-loader"><img src="https://david-dm.org/webpack-contrib/stylus-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/stylus-loader/actions"><img src="https://github.com/webpack-contrib/stylus-loader/workflows/stylus-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/stylus-loader"><img src="https://codecov.io/gh/webpack-contrib/stylus-loader/branch/master/graph/badge.svg" alt="cover"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=stylus-loader"><img src="https://packagephobia.now.sh/badge?p=stylus-loader" alt="size"/></a></p><p>一个 webpack 的 Stylus loader。将 Stylus 文件编译为 CSS。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>首先，你需要安装 <code>stylus</code> 和 <code>stylus-loader</code>：</p><pre><code class="hljs language-console">npm install stylus stylus-loader --save-dev
</code></pre><p>然后将该 loader 添加到 <code>webpack</code> 配置中。例如：</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 将 Stylus 文件编译为 CSS</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>接着按照你习惯的方式运行 <code>webpack</code>。</p><h2><span id="options"></span>可选项<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#stylusoptions"><code>stylusOptions</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Object|Function}</code></span></td><td align="center" data-th="Default"><span><code>{}</code></span></td><td align="left" data-th="Description"><span>Stylus 的可选项。</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#sourcemap"><code>sourceMap</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Boolean}</code></span></td><td align="center" data-th="Default"><span><code>compiler.devtool</code></span></td><td align="left" data-th="Description"><span>启用/禁用生成 SourceMap。</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#webpackimporter"><code>webpackImporter</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{Boolean}</code></span></td><td align="center" data-th="Default"><span><code>true</code></span></td><td align="left" data-th="Description"><span>启用/禁用默认的 webpack importer。</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#additionaldata"><code>additionalData</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String|Function}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>在入口文件起始或末尾添加 <code>Stylus</code> 代码。</span></td></tr><tr><td align="center" data-th="Name"><span><strong><a href="#implementation"><code>implementation</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String|Function}</code></span></td><td align="center" data-th="Default"><span><code>stylus</code></span></td><td align="left" data-th="Description"><span>配置 Stylus 使用的实现库。</span></td></tr></tbody></table><h3><span id="stylusoptions"></span><code>stylusOptions</code><a href="#stylusoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Object|Function</code>
默认值：<code>{}</code></p><p>通过 <code>stylusOptions</code> 属性，你可以给 <code>stylus-loader</code> 配置 <a href="/configuration/module/#ruleoptions--rulequery">loader options</a> 中任意特定的选项值。
所有可用选项可以查看 <a href="https://stylus-lang.com/docs/js.html">Stylus 文档</a>。
这些配置项需要将破折号（dash-case）转换为驼峰值（camelCase）后进行设置。</p><h4><span id="object"></span><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>使用对象（Object）的形式传递 options 给 Stylus。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              stylusOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">/**
                 * 指定要使用的 Stylus 插件。将插件作为
                 * 字符串进行传递，而不是从 Webpack 配置中导入。
                 *
                 * @type {(string|Function)[]}
                 * @default []
                 */</span>
                use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;nib&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                <span class="token comment">/**
                 * 指定 path 的查找路径。
                 *
                 * @type {string[]}
                 * @default []
                 */</span>
                include<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;src/styl/config&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                <span class="token comment">/**
                 * 导入指定的 Stylus 文件或者路径
                 *
                 * @type {string[]}
                 * @default []
                 */</span>
                <span class="token keyword">import</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;nib&#x27;</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;src/styl/mixins&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                <span class="token comment">/**
                 * 定义 Stylus 变量或者函数。
                 *
                 * @type {Array|Object}
                 * @default {}
                 */</span>
                <span class="token comment">// 定义数组语法的推荐格式：[key, value, raw]</span>
                define<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span><span class="token string">&#x27;$development&#x27;</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#x27;development&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span><span class="token string">&#x27;rawVar&#x27;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token comment">// Object 语法已经弃用（不可指定 &quot;raw&#x27; 选项）</span>
                <span class="token comment">// define: {</span>
                <span class="token comment">//   $development: process.env.NODE_ENV === &#x27;development&#x27;,</span>
                <span class="token comment">//   rawVar: 42,</span>
                <span class="token comment">// },</span>

                <span class="token comment">/**
                 * 是否包含通过 @import 导入的常规 CSS。
                 *
                 * @type {boolean}
                 * @default false
                 */</span>
                includeCSS<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

                <span class="token comment">/**
                 * 解析导入文件中的相对 url()。
                 *
                 * @see https://stylus-lang.com/docs/js.html#stylusresolveroptions
                 *
                 * @type {boolean|Object}
                 * @default { nocheck: true }
                 */</span>
                resolveURL<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// resolveURL: { nocheck: true },</span>

                <span class="token comment">/**
                 * 生成 CSS 后 注入注释并指定其所在 Stylus 文件行。
                 *
                 * @see https://stylus-lang.com/docs/executable.html
                 *
                 * @type {boolean}
                 * @default false
                 */</span>
                lineNumbers<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

                <span class="token comment">/**
                 * 将 @import 和 @charset 移至文件顶部。
                 *
                 * @see https://stylus-lang.com/docs/executable.html
                 *
                 * @type {boolean}
                 * @default false
                 */</span>
                hoistAtrules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

                <span class="token comment">/**
                 * 压缩输出的 CSS。
                 * 生产环境默认值为 `true`
                 *
                 * @see https://stylus-lang.com/docs/executable.html
                 *
                 * @type {boolean}
                 * @default false
                 */</span>
                compress<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p>允许根据 loader 的 context 来设置 options，再传递给 Stylus。</p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">stylusOptions</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 更多可用的属性参见 https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.styl&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token punctuation">{</span>
                    paths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;absolute/path/c&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;absolute/path/d&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                  paths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;absolute/path/a&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;absolute/path/b&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="sourcemap"></span><code>sourceMap</code><a href="#sourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code></p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="webpackimporter"></span><code>webpackImporter</code><a href="#webpackimporter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Boolean</code>
默认值：<code>true</code></p><p>启用/禁用 webpack 默认的 importer。</p><p>在某些情况下，这样做可以提高性能。
但是请慎用，因为可能会使得 aliases 和以 <code>~</code> 开头的 <code>@import</code> 规则失效。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              webpackImporter<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="additionaldata"></span><code>additionalData</code><a href="#additionaldata" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>String|Function</code>
默认值：<code>undefined</code></p><p>在实际入口文件的起始位置添加 <code>Stylus</code> 代码。
这种情况下，<code>stylus-loader</code> 只会<strong>追加</strong>并不会覆盖文件内容。</p><p>当你的 Stylus 变量依赖环境变量时这个属性将非常有用：</p><blockquote><p>ℹ 由于你注入了代码，因此它将破坏入口文件的源映射关系。通常有比这更简单的解决方案，例如多个 Stylus 入口文件。</p></blockquote><h4><span id="String"></span><code>String</code><a href="#String" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              additionalData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@env: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="function"></span><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><h5><span id="Sync"></span>Sync<a href="#Sync" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">additionalData</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 更多可用的属性参见 https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.styl&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">&#x27;value = 100px&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">&#x27;value 200px&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h5><span id="Async"></span>Async<a href="#Async" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">additionalData</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// 更多可用的属性参见 https://webpack.js.org/api/loaders/</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath<span class="token punctuation">,</span> rootContext <span class="token punctuation">}</span> <span class="token operator">=</span> loaderContext<span class="token punctuation">;</span>
                <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">,</span> resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>relativePath <span class="token operator">===</span> <span class="token string">&#x27;styles/foo.styl&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">&#x27;value = 100px&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">&#x27;value 200px&#x27;</span> <span class="token operator">+</span> content<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="implementation"></span><code>implementation</code><a href="#implementation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>类型：<code>Function | String</code></p><p>特殊的 <code>implementation</code> 选项决定使用 Stylus 的哪个实现。将会覆盖本地安装的 <code>stylus</code> 的 <code>peerDependency</code> 版本。</p><h4><span id="function"></span>Function<a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              implementation<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;stylus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4><span id="string"></span>String<a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              implementation<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;stylus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="normal-usage"></span>常规用法<a href="#normal-usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>将 <code>stylus-loader</code>、<a href="/loaders/css-loader/"><code>css-loader</code></a> 和 <a href="/loaders/style-loader/"><code>style-loader</code></a> 串联起来使用可立即将所有样式更新到 DOM。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 从 JS 中创建样式节点</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 将 CSS 转为 CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 将 Stylus 编译为 CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="source-maps"></span>Source maps<a href="#source-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>为了生成 CSS 的 source map, 你需要在 loader 的可选项中设置 <code>sourceMap</code> 属性。如果没设置的话 loader 将会继承你 webpack 中为生成 source map 设置的属性值 <code>devtool</code>。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">&#x27;source-map&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 任何类似于 &quot;source-map&quot; 的 devtool 值都可以</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="using-nib-with-stylus"></span>stylus 中使用 nib<a href="#using-nib-with-stylus" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 从 JS 中创建样式节点</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 将 CSS 转为 CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 将 Stylus 编译为 CSS</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              stylusOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;nib&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token keyword">import</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;nib&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="import-json-files"></span>导入 JSON 文件<a href="#import-json-files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Stylus 在 <code>json</code> 函数中无效。
因此 webpack 解析器不适用于 <code>.json</code> 文件。
可使用 <a href="#stylus-resolver"><code>stylus resolver</code></a>。</p><p><strong>index.styl</strong></p><pre><code class="hljs language-styl">// 假设文件位置在这里 `node_modules/vars/vars.json`
json(&#x27;vars.json&#x27;)

@media queries-small
  body
    display nope

</code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              stylusOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 指定文件查找路径。</span>
                paths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;node_modules/vars&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="in-production"></span>生产环境<a href="#in-production" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>在生产环境中推荐使用 <a href="/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a> 来提取样式表到专门的文件中，这样你的样式就不需要依赖 JavaScript。</p><h3><span id="webpack-resolver"></span>webpack 解析器<a href="#webpack-resolver" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><code>webpack</code> 提供了一种 <a href="/configuration/resolve/">解析文件的高级机制</a>。
<code>stylus-loader</code> 将所有的查询结果传递给了 webpack 解析器。
因此你可以从 <code>node_modules</code> 中导入 Stylus 模块。</p><pre><code class="hljs language-styl">@import &#x27;bootstrap-styl/bootstrap/index.styl&#x27;;
</code></pre><p><code>~</code> 用法已被废弃，可以从代码中删除（<strong>我们建议这么做</strong>），但是我们会因为一些历史原因一直支持这种写法。
为什么你可以移除它呢？loader 首先会尝试以相对路径解析 <code>@import</code>，如果它不能被解析，loader 将会尝试在 <a href="/configuration/resolve/#resolvemodules"><code>node_modules</code></a> 中解析 <code>@import</code>。
只要在包名前加上 <code>~</code>，告诉 webpack 在 <a href="/configuration/resolve/#resolvemodules"><code>modules</code></a> 中进行查找。</p><pre><code class="hljs language-styl">@import &quot;~bootstrap-styl/bootstrap/index.styl&quot;;
</code></pre><p>重要的是只在它的前面加上 <code>~</code>，因为 <code>~/</code> 会被解析到根目录。
<code>webpack</code> 需要区分 <code>bootstrap</code> 和 <code>~bootstrap</code>，因为 CSS 和 Stylus 文件没有特殊的语法可以导入相对路径的文件。
<code>@import &quot;file&quot;</code> 和 <code>@import &quot;./file&quot;;</code> 写法是等价的。</p><h3><span id="stylus-resolver"></span>Stylus resolver<a href="#stylus-resolver" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>如果指定 <code>paths</code> 选项，将从指定的 <code>paths</code> 中搜索模块。
这是 Stylus 的默认行为。</p><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.styl/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;stylus-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              stylusOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                paths<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;node_modules&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="extracting-style-sheets"></span>提取样式<a href="#extracting-style-sheets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>通过 webpack 打包 CSS 有很多好处，比如给引用图片和字体文件路径添加 hash, 在开发环境可以<a href="/concepts/hot-module-replacement/">模块热更新</a>。另一方面，在生产环境，根据 JS 来控制应用样式表不是一个好的方式，可能会导致延迟渲染，甚至可能会出现<a href="https://en.wikipedia.org/wiki/Flash_of_unstyled_content">闪烁现象</a>。因此，在你最终的生产环境中将它们拆分成单独的文件来存放通常是比较好的选择。</p><p>有两种从 bundle 中提取样式表的方式：</p><ul><li><a href="https://github.com/peerigon/extract-loader"><code>extract-loader</code></a> （简单，但得专门指定 <code>css-loader</code> 的 output）</li><li><a href="/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a> （较复杂，但适用于所有的场景）</li></ul><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果你还没有看过我们的贡献者指南请先花点时间看一下。</p><p><a href="https://github.com/webpack-contrib/stylus-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>许可<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/stylus-loader/blob/master/LICENSE">MIT</a></p><h1><span id="thread-loader"></span>thread-loader<a href="#thread-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/thread-loader"><img src="https://img.shields.io/npm/v/thread-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/thread-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/thread-loader"><img src="https://david-dm.org/webpack-contrib/thread-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/thread-loader/actions"><img src="https://github.com/webpack-contrib/thread-loader/workflows/thread-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/thread-loader"><img src="https://codecov.io/gh/webpack-contrib/thread-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=thread-loader"><img src="https://packagephobia.now.sh/badge?p=thread-loader" alt="size"/></a></p><p>运行以下 loader 在 worker pool 中。</p><h2><span id="getting-started"></span>快速开始<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev thread-loader</code></pre><p>使用时，需将此 loader 放置在其他 loader 之前。放置在此 loader 之后的 loader 会在一个独立的 worker 池中运行。</p><p>在 worker 池中运行的 loader 是受到限制的。例如：</p><ul><li>这些 loader 不能生成新的文件。</li><li>这些 loader 不能使用自定义的 loader API（也就是说，不能通过插件来自定义）。</li><li>这些 loader 无法获取 webpack 的配置。</li></ul><p>每个 worker 都是一个独立的 node.js 进程，其开销大约为 600ms 左右。同时会限制跨进程的数据交换。</p><p>请仅在耗时的操作中使用此 loader！</p><h3><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        include<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;src&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;thread-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">// 耗时的 loader （例如 babel-loader）</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>with options</strong></p><pre><code class="hljs language-js">use<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    loader<span class="token operator">:</span> <span class="token string">&quot;thread-loader&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 有同样配置的 loader 会共享一个 worker 池</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 产生的 worker 的数量，默认是 (cpu 核心数 - 1)，或者，</span>
      <span class="token comment">// 在 require(&#x27;os&#x27;).cpus() 是 undefined 时回退至 1</span>
      workers<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>

      <span class="token comment">// 一个 worker 进程中并行执行工作的数量</span>
      <span class="token comment">// 默认为 20</span>
      workerParallelJobs<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>

      <span class="token comment">// 额外的 node.js 参数</span>
      workerNodeArgs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;--max-old-space-size=1024&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

      <span class="token comment">// 允许重新生成一个僵死的 work 池</span>
      <span class="token comment">// 这个过程会降低整体编译速度</span>
      <span class="token comment">// 并且开发环境应该设置为 false</span>
      poolRespawn<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

      <span class="token comment">// 闲置时定时删除 worker 进程</span>
      <span class="token comment">// 默认为 500（ms）</span>
      <span class="token comment">// 可以设置为无穷大，这样在监视模式(--watch)下可以保持 worker 持续存在</span>
      poolTimeout<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>

      <span class="token comment">// 池分配给 worker 的工作数量</span>
      <span class="token comment">// 默认为 200</span>
      <span class="token comment">// 降低这个数值会降低总体的效率，但是会提升工作分布更均一</span>
      poolParallelJobs<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>

      <span class="token comment">// 池的名称</span>
      <span class="token comment">// 可以修改名称来创建其余选项都一样的池</span>
      name<span class="token operator">:</span> <span class="token string">&quot;my-pool&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 耗时的 loader（例如 babel-loader）</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>预警</strong></p><p>可以通过预警 worker 池来防止启动 worker 时的高延时。</p><p>这会启动池内最大数量的 worker 并把指定的模块加载到 node.js 的模块缓存中。</p><pre><code class="hljs language-js"><span class="token keyword">const</span> threadLoader <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;thread-loader&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

threadLoader<span class="token punctuation">.</span><span class="token function">warmup</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// 池选项，例如传递给 loader 选项</span>
    <span class="token comment">// 必须匹配 loader 选项才能启动正确的池</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>
    <span class="token comment">// 加载模块</span>
    <span class="token comment">// 可以是任意模块，例如</span>
    <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;babel-preset-es2015&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;sass-loader&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>贡献<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>如果还未阅读贡献指南，请抽时间进行阅读。</p><p><a href="https://github.com/webpack-contrib/thread-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/thread-loader/blob/master/LICENSE">MIT</a></p><h1><span id="val-loader"></span>val-loader<a href="#val-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1>
<div align="center"></div><p><a href="https://npmjs.com/package/val-loader"><img src="https://img.shields.io/npm/v/val-loader.svg" alt="npm"/></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/val-loader.svg" alt="node"/></a>
<a href="https://david-dm.org/webpack-contrib/val-loader"><img src="https://david-dm.org/webpack-contrib/val-loader.svg" alt="deps"/></a>
<a href="https://github.com/webpack-contrib/val-loader/actions"><img src="https://github.com/webpack-contrib/val-loader/workflows/val-loader/badge.svg" alt="tests"/></a>
<a href="https://codecov.io/gh/webpack-contrib/val-loader"><img src="https://codecov.io/gh/webpack-contrib/val-loader/branch/master/graph/badge.svg" alt="coverage"/></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"/></a>
<a href="https://packagephobia.now.sh/result?p=val-loader"><img src="https://packagephobia.now.sh/badge?p=val-loader" alt="size"/></a></p><p>A webpack loader which executes a given module, and returns the result of the
execution at build-time, when the module is required in the bundle. In this way,
the loader changes a module from code to a result.</p><p>Another way to view <code>val-loader</code>, is that it allows a user a way to make their
own custom loader logic, without having to write a custom loader.</p><p>The target module is called with two arguments: <code>(options, loaderContext)</code></p><ul><li><code>options</code>: The loader options (for instance provided in the webpack config. See the <a href="#examples">example</a> below).</li><li><code>loaderContext</code>: <a href="/api/loaders/#the-loader-context">The loader context</a>.</li></ul><h2><span id="getting-started"></span>Getting Started<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>To begin, you&#x27;ll need to install <code>val-loader</code>:</p><pre><code class="hljs language-console">npm install val-loader --save-dev
</code></pre><p>Then add the loader to your <code>webpack</code> config. For example:</p><p><strong>target-file.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> loaderContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> code<span class="token operator">:</span> <span class="token string">&#x27;module.exports = 42;&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/target-file.js$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">val-loader</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>src/entry.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> answer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;target-file&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>And run <code>webpack</code> via your preferred method.</p><h2><span id="options"></span>Options<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="center" data-th="Name"><span><strong><a href="#executablefile"><code>executableFile</code></a></strong></span></td><td align="center" data-th="Type"><span><code>{String}</code></span></td><td align="center" data-th="Default"><span><code>undefined</code></span></td><td align="left" data-th="Description"><span>Allows to specify path to the executable file</span></td></tr></tbody></table><h3><span id="executablefile"></span>executableFile<a href="#executablefile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>String</code>
Default: <code>undefined</code></p><p>Allows to specify path to the executable file</p><p><strong>data.json</strong></p><pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;years&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
<span class="token punctuation">}</span></code></pre><p><strong>executable-file.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">yearsInMs</span><span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> loaderContext<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> years <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> years <span class="token operator">*</span> <span class="token number">365</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    cacheable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    code<span class="token operator">:</span> <span class="token string">&#x27;module.exports = &#x27;</span> <span class="token operator">+</span> value<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(json)$/i</span><span class="token punctuation">,</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;val-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              executableFile<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
                __dirname<span class="token punctuation">,</span>
                <span class="token string">&#x27;fixtures&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;executableFile.js&#x27;</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.json$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/resource&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="return-object-properties"></span>Return Object Properties<a href="#return-object-properties" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>Targeted modules of this loader must export a <code>Function</code> that returns an object,
or a <code>Promise</code> resolving an object (e.g. async function), containing a <code>code</code> property at a minimum, but can
contain any number of additional properties.</p><h3><span id="code"></span><code>code</code><a href="#code" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>String|Buffer</code>
Default: <code>undefined</code>
<em>Required</em></p><p>Code passed along to webpack or the next loader that will replace the module.</p><h3><span id="sourcemap"></span><code>sourceMap</code><a href="#sourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Object</code>
Default: <code>undefined</code></p><p>A source map passed along to webpack or the next loader.</p><h3><span id="ast"></span><code>ast</code><a href="#ast" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Array[Object]</code>
Default: <code>undefined</code></p><p>An <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">Abstract Syntax Tree</a>
that will be passed to the next loader. Useful to speed up the build time if the
next loader uses the same AST.</p><h3><span id="dependencies"></span><code>dependencies</code><a href="#dependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Array[String]</code>
Default: <code>[]</code></p><p>An array of absolute, native paths to file dependencies that should be watched by webpack for changes.</p><p>Dependencies can also be added using <a href="/api/loaders/#thisadddependency"><code>loaderContext.addDependency(file: string)</code></a>.</p><h3><span id="contextdependencies"></span><code>contextDependencies</code><a href="#contextdependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Array[String]</code>
Default: <code>[]</code></p><p>An array of absolute, native paths to directory dependencies that should be watched by webpack for changes.</p><p>Context dependencies can also be added using <a href="/api/loaders/#thisaddcontextdependency"><code>loaderContext.addContextDependency(directory: string)</code></a>.</p><h3><span id="builddependencies"></span><code>buildDependencies</code><a href="#builddependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Array[String]</code>
Default: <code>[]</code></p><p>An array of absolute, native paths to directory dependencies that should be watched by webpack for changes.</p><p>Build dependencies can also be added using <code>loaderContext.addBuildDependency(file: string)</code>.</p><h3><span id="cacheable"></span><code>cacheable</code><a href="#cacheable" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Type: <code>Boolean</code>
Default: <code>false</code></p><p>If <code>true</code>, specifies that the code can be re-used in watch mode if none of the
<code>dependencies</code> have changed.</p><h2><span id="examples"></span>Examples<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><h3><span id="simple"></span>Simple<a href="#simple" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>In this example the loader is configured to operator on a file name of
<code>years-in-ms.js</code>, execute the code, and store the result in the bundle as the
result of the execution. This example passes <code>years</code> as an <code>option</code>, which
corresponds to the <code>years</code> parameter in the target module exported function:</p><p><strong>years-in-ms.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">yearsInMs</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> years <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> years <span class="token operator">*</span> <span class="token number">365</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>

  <span class="token comment">// NOTE: this return value will replace the module in the bundle</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    cacheable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    code<span class="token operator">:</span> <span class="token string">&#x27;module.exports = &#x27;</span> <span class="token operator">+</span> value<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;src/years-in-ms.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;val-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              years<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>In the bundle, requiring the module then returns:</p><pre><code class="hljs language-js"><span class="token keyword">import</span> tenYearsMs <span class="token keyword">from</span> <span class="token string">&#x27;years-in-ms&#x27;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tenYearsMs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 315360000000</span></code></pre><h3><span id="modernizr"></span>Modernizr<a href="#modernizr" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Example shows how to build <a href="https://www.npmjs.com/package/modernizr"><code>modernizr</code></a>.</p><p><strong>entry.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> modenizr <span class="token keyword">from</span> <span class="token string">&#x27;./modernizr.js&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>modernizr.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> modernizr <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;modernizr&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// It is impossible to throw an error because modernizr causes the process.exit(1)</span>
    modernizr<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">output</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cacheable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        code<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">var modernizr; var hadGlobal = &#x27;Modernizr&#x27; in window; var oldGlobal = window.Modernizr; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>output<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> modernizr = window.Modernizr; if (hadGlobal) { window.Modernizr = oldGlobal; } else { delete window.Modernizr; } export default modernizr;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;modernizr.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;val-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              minify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;setClasses&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">&#x27;feature-detects&#x27;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&#x27;test/css/flexbox&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;test/es6/promises&#x27;</span><span class="token punctuation">,</span>
                <span class="token string">&#x27;test/serviceworker&#x27;</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="figlet"></span>Figlet<a href="#figlet" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>Example shows how to build <a href="https://www.npmjs.com/package/figlet"><code>figlet</code></a>.</p><p><strong>entry.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> figlet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./figlet.js&#x27;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>figlet<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>figlet.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> figlet <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;figlet&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">wrapOutput</span><span class="token punctuation">(</span><span class="token parameter">output<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> figletOutput <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>textBefore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    figletOutput <span class="token operator">+=</span> <span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>config<span class="token punctuation">.</span>textBefore<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  output<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#x27;\n&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    figletOutput <span class="token operator">+=</span> <span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>textAfter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    figletOutput <span class="token operator">+=</span> <span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>config<span class="token punctuation">.</span>textAfter<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">module.exports = decodeURI(&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>figletOutput<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;);</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> defaultConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    fontOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      font<span class="token operator">:</span> <span class="token string">&#x27;ANSI Shadow&#x27;</span><span class="token punctuation">,</span>
      horizontalLayout<span class="token operator">:</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span>
      kerning<span class="token operator">:</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span>
      verticalLayout<span class="token operator">:</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token string">&#x27;FIGLET-LOADER&#x27;</span><span class="token punctuation">,</span>
    textAfter<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    textBefore<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> config <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> defaultConfig<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    figlet<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>text<span class="token punctuation">,</span> config<span class="token punctuation">.</span>fontOptions<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> output</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cacheable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        code<span class="token operator">:</span> <span class="token string">&#x27;module.exports = &#x27;</span> <span class="token operator">+</span> <span class="token function">wrapOutput</span><span class="token punctuation">(</span>output<span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;src&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;figlet.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#x27;val-loader&#x27;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              text<span class="token operator">:</span> <span class="token string">&#x27;FIGLET&#x27;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="contributing"></span>Contributing<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>Please take a moment to read our contributing guidelines if you haven&#x27;t yet done so.</p><p><a href="https://github.com/webpack-contrib/val-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p><h2><span id="license"></span>License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p><a href="https://github.com/webpack-contrib/val-loader/blob/master/LICENSE">MIT</a></p></div><div class="print:hidden mt-20"><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline" href="https://github.com/docschina/webpack.js.org/edit/cn/src/content/loaders/printable.mdx">编辑此页</a><span class="mx-5 text-black font-bold dark:text-white">·</span><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline">打印文档</a></div><div data-testid="contributors" class="print:hidden"><h2 class="!font-sans !font-normal">1<!-- --> <!-- -->位贡献者</h2><div><div class="grid gap-[10px] lg:gap-[15px] grid-cols-contributors"><a href="https://github.com/webpack"><img width="45" height="45" alt="webpack" title="webpack" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">快速开始</a><a class="footer__link" href="/comparison/">对比</a><a href="https://privacy-policy.openjsf.org/" target="_blank" rel="noopener noreferrer" class="footer__link">Privacy Policy</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon" width="35" height="35"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">周边</a><a class="footer__link" href="/awesome-webpack/">Awesome webpack</a><a class="footer__link" href="/glossary/">术语</a><a class="footer__link" href="/branding/">品牌</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">更新日志</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/cc.ab77d813bf219c6e34ff.svg" width="25" height="25"/><img alt="Creative Commons License" src="/by.1360bb2e6d1fc28cdd9e.svg" width="25" height="25"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?39edd8e76884f07399be96cd422c9af3";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script></body>