"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4673],{4673:function(e,a,t){t.r(a),t(7378);var n=t(2682),p=["components"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}function s(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,p=function(e,a){if(null==e)return{};var t,n,p={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(p[t]=e[t]);return p}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}(e,p);return(0,n.kt)("wrapper",o({components:a},t),(0,n.kt)("p",null,"Webpack 支持使用多种编程语言和数据描述格式来编写配置文件。在 ",(0,n.kt)("a",{href:"https://github.com/gulpjs/interpret",parentName:"p"},"node-interpret")," 中你可以找到当前所支持的文件类型列表，通过 ",(0,n.kt)("a",{href:"https://github.com/gulpjs/interpret",parentName:"p"},"node-interpret"),"，webpack 能够处理这些类型的配置文件。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"typescript",parentName:"h2"}),"TypeScript",(0,n.kt)("a",{href:"#typescript","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"要使用 ",(0,n.kt)("a",{href:"https://www.typescriptlang.org/",parentName:"p"},"Typescript")," 来编写 webpack 配置，你需要先安装必要的依赖，比如 Typescript 以及其相应的类型声明，类型声明可以从 ",(0,n.kt)("a",{href:"https://definitelytyped.org/",parentName:"p"},"DefinitelyTyped")," 项目中获取，依赖安装如下所示："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev typescript ts-node @types/node @types/webpack\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"# 如果使用版本低于 v4.7.0 的 webpack-dev-server，还需要安装以下依赖"),"\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev @types/webpack-dev-server")),(0,n.kt)("p",null,"完成依赖安装后便可以开始编写配置文件，示例如下："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.ts")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"*")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"as")," path ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"*")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"as")," webpack ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// in case you run into any typescript error when configuring `devServer`"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack-dev-server'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," config",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," webpack",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"Configuration ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  mode",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'production'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  entry",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./foo.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  output",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    path",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," path",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__dirname",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'dist'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    filename",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'foo.bundle.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"default")," config",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"该示例需要 typescript 版本在 2.7 及以上，并在 ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," 文件的 compilerOptions 中添加 ",(0,n.kt)("inlineCode",{parentName:"p"},"esModuleInterop")," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},"allowSyntheticDefaultImports")," 两个配置项。"),(0,n.kt)("p",null,"值得注意的是你需要确保 ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," 的 ",(0,n.kt)("inlineCode",{parentName:"p"},"compilerOptions")," 中 ",(0,n.kt)("inlineCode",{parentName:"p"},"module")," 选项的值为 ",(0,n.kt)("inlineCode",{parentName:"p"},"commonjs"),",否则 webpack 的运行会失败报错，因为 ",(0,n.kt)("inlineCode",{parentName:"p"},"ts-node")," 不支持 ",(0,n.kt)("inlineCode",{parentName:"p"},"commonjs")," 以外的其他模块规范。"),(0,n.kt)("p",null,"你可以通过三个途径来完成 module 的设置："),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"直接修改 ",(0,n.kt)("inlineCode",{parentName:"li"},"tsconfig.json")," 文件"),(0,n.kt)("li",{parentName:"ul"},"修改 ",(0,n.kt)("inlineCode",{parentName:"li"},"tsconfig.json")," 并且添加 ",(0,n.kt)("inlineCode",{parentName:"li"},"ts-node")," 的设置。"),(0,n.kt)("li",{parentName:"ul"},"使用 ",(0,n.kt)("inlineCode",{parentName:"li"},"tsconfig-paths"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"第一种方法"),"就是打开你的 ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," 文件，找到 ",(0,n.kt)("inlineCode",{parentName:"p"},"compilerOptions")," 的配置，然后设置 ",(0,n.kt)("inlineCode",{parentName:"p"},"target")," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},"module")," 的选项分别为 ",(0,n.kt)("inlineCode",{parentName:"p"},'"ES5"')," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},'"CommonJs"')," (在 ",(0,n.kt)("inlineCode",{parentName:"p"},"target")," 设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"es5")," 时你也可以不显示编写 ",(0,n.kt)("inlineCode",{parentName:"p"},"module")," 配置)。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"第二种方法")," 就是添加 ts-node 设置："),(0,n.kt)("p",null,"你可以为 ",(0,n.kt)("inlineCode",{parentName:"p"},"tsc")," 保持 ",(0,n.kt)("inlineCode",{parentName:"p"},'"module": "ESNext"'),"配置，如果你是用 webpack 或者其他构建工具的话，为 ts-node 设置一个重载（override）。",(0,n.kt)("a",{href:"https://typestrong.org/ts-node/docs/imports/",parentName:"p"},"ts-node 配置项")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"compilerOptions"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"module"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"ESNext"'),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"ts-node"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"compilerOptions"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"module"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"CommonJS"'),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"第三种方法"),"需要先安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig-paths")," 这个 npm 包，如下所示："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev tsconfig-paths")),(0,n.kt)("p",null,"安装后你可以为 webpack 配置创建一个单独的 TypeScript 配置文件，示例如下："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"tsconfig-for-webpack-config.json")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"compilerOptions"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"module"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"commonjs"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"target"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"es5"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"esModuleInterop"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,n.kt)("p",{parentName:"aside"},"ts-node 可以根据 ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig-paths")," 提供的环境变量 ",(0,n.kt)("inlineCode",{parentName:"p"},"process.env.TS_NODE_PROJECT")," 来找到 ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," 文件路径。")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"process.env.TS_NODE_PROJECT")," 变量的设置如下所示:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"package.json")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"scripts"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"build"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"cross-env TS_NODE_PROJECT=\\"tsconfig-for-webpack-config.json\\" webpack"'),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,"之所以要添加 ",(0,n.kt)("inlineCode",{parentName:"p"},"cross-env"),"，是因为我们在直接使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"TS_NODE_PROJECT")," 时遇到过 ",(0,n.kt)("inlineCode",{parentName:"p"},'"TS_NODE_PROJECT" unrecognized command')," 报错的反馈，添加 ",(0,n.kt)("inlineCode",{parentName:"p"},"cross-env")," 之后该问题也似乎得到了解决，你可以查看",(0,n.kt)("a",{href:"https://github.com/webpack/webpack.js.org/issues/2733",parentName:"p"},"这个 issue"),"获取到关于该问题的更多信息。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"coffeescript",parentName:"h2"}),"CoffeeScript",(0,n.kt)("a",{href:"#coffeescript","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"与 ",(0,n.kt)("inlineCode",{parentName:"p"},"Typescript")," 类似，在使用 CoffeeScript 前需要先安装其依赖，如下所示:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev coffeescript")),(0,n.kt)("p",null,"完成安装之后便可以开始编写 webpack 配置，示例如下:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.coffee")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-coffeescript",parentName:"pre"},"HtmlWebpackPlugin = require('html-webpack-plugin')\nwebpack = require('webpack')\npath = require('path')\n\nconfig =\n  mode: 'production'\n  entry: './path/to/my/entry/file.js'\n  output:\n    path: path.resolve(__dirname, 'dist')\n    filename: 'my-first-webpack.bundle.js'\n  module: rules: [ {\n    test: /\\.(js|jsx)$/\n    use: 'babel-loader'\n  } ]\n  plugins: [\n    new HtmlWebpackPlugin(template: './src/index.html')\n  ]\n\nmodule.exports = config\n")),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"babel-and-jsx",parentName:"h2"}),"Babel and JSX",(0,n.kt)("a",{href:"#babel-and-jsx","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"下述的示例中使用了 JSX（用于 React 的 JavaScript 标记语言）和 babel 来创建格式为 json 的 webpack 配置文件。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"感谢 ",(0,n.kt)("a",{href:"https://twitter.com/_developit",parentName:"p"},"Jason Miller")," 提供示例代码")),(0,n.kt)("p",null,"首先，需要安装一些必要依赖，如下所示:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev babel-register jsxobj babel-preset-es2015")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".babelrc")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"presets"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},'"es2015"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.babel.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," jsxobj ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'jsxobj'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 插件引入示例"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"CustomPlugin")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"config"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"..."),"config",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  name",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'custom-plugin'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"default")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"webpack target",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"web"')," watch mode",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"production"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"entry path",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"src/index.js"')," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"resolve",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n      ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"alias\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"..."),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          react",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'preact-compat'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'react-dom'"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'preact-compat'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n      ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),"resolve",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n      ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"CustomPlugin foo",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"bar"')," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),"plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n  ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),"webpack",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"如果你在其他地方也使用了 Babel 并且 ",(0,n.kt)("inlineCode",{parentName:"p"},"modules")," 的值设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"false"),"，则必须维护两份 ",(0,n.kt)("inlineCode",{parentName:"p"},".babelrc")," 的文件，或者你也可以将上述示例中的 ",(0,n.kt)("inlineCode",{parentName:"p"},"import jsxobj from 'jsxobj';")," 替换为 ",(0,n.kt)("inlineCode",{parentName:"p"},"const jsxobj = require('jsxobj');")," 并将新的 ",(0,n.kt)("inlineCode",{parentName:"p"},"export")," 语法替换为 ",(0,n.kt)("inlineCode",{parentName:"p"},"module.exports"),"，因为尽管 Node 目前已经支持了 ES6 的许多新特性，但是仍然没有支持 ES6 的模块语法。"))}s.isMDXComponent=!0,a.default=s}}]);