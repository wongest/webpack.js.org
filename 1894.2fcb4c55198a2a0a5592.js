"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1894],{1894:function(e,a,t){t.r(a),t(7378);var n=t(2682),p=["components"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}function s(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,p=function(e,a){if(null==e)return{};var t,n,p={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(p[t]=e[t]);return p}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}(e,p);return(0,n.kt)("wrapper",o({components:a},t),(0,n.kt)("div",{align:"center"}),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://npmjs.com/package/source-map-loader",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/npm/v/source-map-loader.svg",alt:"npm",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://nodejs.org",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/node/v/source-map-loader.svg",alt:"node",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://david-dm.org/webpack-contrib/source-map-loader",parentName:"p"},(0,n.kt)("img",{src:"https://david-dm.org/webpack-contrib/source-map-loader.svg",alt:"deps",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/source-map-loader/actions",parentName:"p"},(0,n.kt)("img",{src:"https://github.com/webpack-contrib/source-map-loader/workflows/source-map-loader/badge.svg",alt:"tests",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://codecov.io/gh/webpack-contrib/source-map-loader",parentName:"p"},(0,n.kt)("img",{src:"https://codecov.io/gh/webpack-contrib/source-map-loader/branch/master/graph/badge.svg",alt:"coverage",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://gitter.im/webpack/webpack",parentName:"p"},(0,n.kt)("img",{src:"https://badges.gitter.im/webpack/webpack.svg",alt:"chat",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://packagephobia.now.sh/result?p=source-map-loader",parentName:"p"},(0,n.kt)("img",{src:"https://packagephobia.now.sh/badge?p=source-map-loader",alt:"size",parentName:"a"}))),(0,n.kt)("p",null,"从现有的源文件中提取 source maps（从 ",(0,n.kt)("code",{parentName:"p"},"sourceMappingURL")," 中提取）。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"getting-started",parentName:"h2"}),"起步",(0,n.kt)("a",{href:"#getting-started","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"source-map-loader"),"："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," i -D source-map-loader")),(0,n.kt)("p",null,"添加 plugin 至 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," 配置。例："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," css ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'file.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.js$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        enforce",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'pre'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'source-map-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"source-map-loader")," 从 JavaScript 入口提取现有的 source maps.\n这些 source maps 既可以是内联的也可以是通过 URL 链接引入的。\n所有的 source map 数据都按照选定的 ",(0,n.kt)("a",{href:"/configuration/devtool/",parentName:"p"},"source map style")," 交给 webpack 处理，这些选定可以在 ",(0,n.kt)("a",{href:"/configuration/",parentName:"p"},"webpack.config.js")," 的 ",(0,n.kt)("inlineCode",{parentName:"p"},"devtool")," 选项中配置。\n在使用有自己 source maps 的第三方库时，",(0,n.kt)("inlineCode",{parentName:"p"},"source-map-loader")," 就显得尤为重要。\n如果相关 source map 数据没有按照规范提取、处理并注入 webpack bundle, 浏览器有可能无法正确解读这些数据。",(0,n.kt)("inlineCode",{parentName:"p"},"source-map-loader")," 允许 webpack 跨库且持续的维护 source map 数据，因而更易于调试。\n",(0,n.kt)("inlineCode",{parentName:"p"},"source-map-loader")," 可以从任何 JavaScript 文件中提取，这也包括 ",(0,n.kt)("inlineCode",{parentName:"p"},"node_modules")," 目录下的 JavaScript 文件。\n在设置 ",(0,n.kt)("a",{href:"/configuration/module/#ruleinclude",parentName:"p"},"include")," 和 ",(0,n.kt)("a",{href:"/configuration/module/#ruleexclude",parentName:"p"},"exclude")," 规则时，要保证构建性能最优。"),(0,n.kt)("p",null,"最后按偏好运行 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," 方法。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"options",parentName:"h2"}),"选项",(0,n.kt)("a",{href:"#options","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{align:"center",parentName:"tr"},"选项名"),(0,n.kt)("th",{align:"center",parentName:"tr"},"类型"),(0,n.kt)("th",{align:"center",parentName:"tr"},"默认值"),(0,n.kt)("th",{align:"left",parentName:"tr"},"描述"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"选项名",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("strong",{parentName:"span"},(0,n.kt)("a",{href:"#filter-source-mapping-url",parentName:"strong"},(0,n.kt)("inlineCode",{parentName:"a"},"filterSourceMappingUrl"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Function}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"undefined"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"允许控制 ",(0,n.kt)("inlineCode",{parentName:"span"},"SourceMappingURL")," 的行为"))))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"filter-source-mapping-url",parentName:"h3"}),"filterSourceMappingUrl",(0,n.kt)("a",{href:"#filter-source-mapping-url","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"Function"),"\n默认值：",(0,n.kt)("inlineCode",{parentName:"p"},"undefined")),(0,n.kt)("p",null,"允许你为 ",(0,n.kt)("inlineCode",{parentName:"p"},"SourceMappingURL")," 注释指定 loader 的特定行为。"),(0,n.kt)("p",null,"此函数的返回值必须为下列之一："),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"true")," 或 ",(0,n.kt)("inlineCode",{parentName:"li"},"'consume'")," — 使用 source map 并删除 ",(0,n.kt)("inlineCode",{parentName:"li"},"SourceMappingURL")," 注释（默认行为）"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"false")," 或 ",(0,n.kt)("inlineCode",{parentName:"li"},"'remove'")," — 不使用 source map 并删除 ",(0,n.kt)("inlineCode",{parentName:"li"},"SourceMappingURL")," 注释"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"skip")," — 不使用 source map 但不删除 ",(0,n.kt)("inlineCode",{parentName:"li"},"SourceMappingURL")," 注释")),(0,n.kt)("p",null,"示例配置："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.js$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        enforce",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'pre'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'source-map-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"filterSourceMappingUrl"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"url",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," resourcePath"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token regex",parentName:"code"},"/broker-source-map-url\\.js$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"test"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"url",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token regex",parentName:"code"},"/keep-source-mapping-url\\.js$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"test"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"resourcePath",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'skip'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"examples",parentName:"h2"}),"示例",(0,n.kt)("a",{href:"#examples","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"ignoring-warnings",parentName:"h3"}),"忽略警告",(0,n.kt)("a",{href:"#ignoring-warnings","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"忽略警告可以使用以下配置："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.js$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        enforce",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'pre'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'source-map-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ignoreWarnings",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token regex",parentName:"code"},"/Failed to parse source map/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"欲了解 ",(0,n.kt)("inlineCode",{parentName:"p"},"ignoreWarnings")," 的更多信息，请查阅",(0,n.kt)("a",{href:"/configuration/other-options/#ignorewarnings",parentName:"p"},"此文"),"。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"contributing",parentName:"h2"}),"贡献",(0,n.kt)("a",{href:"#contributing","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"如果您尚未了解，建议您阅读以下贡献指引。"),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/source-map-loader/blob/master/.github/CONTRIBUTING.md",parentName:"p"},"CONTRIBUTING")),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"license",parentName:"h2"}),"许可",(0,n.kt)("a",{href:"#license","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/source-map-loader/blob/master/LICENSE",parentName:"p"},"MIT")))}s.isMDXComponent=!0,a.default=s}}]);